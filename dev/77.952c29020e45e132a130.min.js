webpackJsonp([77],{105:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(65);t.default=(0,r.generateRequestFn)({projectNameSearch:"/project/name/search",auditProjectNameSearch:"/audit/project/name/search",auditProjectSearch:"/audit/project/search",auditProjectStatusUpdate:"/audit/project/status/update",auditProjectClone:"/audit/project/clone",taskNameSearch:"/task/name/search",auditTaskSearchv2:"/audit/task/searchv2",auditProjectRead:"/audit/project/read",auditProjectEdit:"/audit/project/edit",auditProjectSourceEdit:"/audit/project/source/edit",auditProjectStatistics:"/audit/project/detail/statistics",auditProjectSeriesRead:"/audit/project/series/read",auditProjectTaskRead:"/audit/project/task/read",auditTaskSearch:"/audit/task/search"})},2083:function(e,t,a){var r=a(2084);"string"==typeof r&&(r=[[e.i,r,""]]);var n={transform:void 0};a(705)(r,n);r.locals&&(e.exports=r.locals)},2084:function(e,t,a){(e.exports=a(704)(!1)).push([e.i,".createaudit-pro-step-three {\n  position: relative;\n  padding: 20px 20px 60px;\n  color: #333;\n  background: #fff;\n}\n.createaudit-pro-step-three .header-title {\n  display: flex;\n  font-size: 16px;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  padding-left: 10px;\n}\n",""])},314:function(e,t,a){"use strict";var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a(2083);var n=function(e){return e&&e.__esModule?e:{default:e}}(a(105)),i=a(75);var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.pagesBase),r(t,[{key:"complete",value:function(){this.app.header.openControl("auditprojectc"),this.app.header.changeselected(3),this.styleModel(1);var e=this,t=this.app;new Vue({el:"#createauditProStepThree",data:function(){return{app:t,type:t.parpam.type,id:1*t.parpam.projectid,status:parseInt(t.parpam.status),hasExportPermission:!1,tableData:[],selTasks:[]}},mounted:function(){this.hasExportPermission=e.checkPermission("audittask","EXPORT"),this.id&&this.queryAuditTaskSearch()},methods:{queryAuditTaskSearch:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function r(n,i){try{var o=t[n](i),s=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.default.auditTaskSearch({page:1,projectIdList:[this.id],isReleased:!1});case 4:t=e.sent,this.tableData=t.data.list||[];case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleSelectionChange:function(e){this.selTasks=e},handleBatchExport:function(){var t=this.selTasks;if(t.length){var a={taskIds:t.map(function(e){return e.id})},r=this.app.domain1+"v1/audit/task/series/result/batch_export?param="+encodeURIComponent(JSON.stringify(a));e.api.HttpRequest.downLoadFile(r,{key:"accessToken",val:this.app.local.get("accessToken")})}else i.Message.warning("请先选择需要导出的任务")}}})}}]),t}();e.exports=o},804:function(e,t){e.exports="<div id=createauditProStepThree class=createaudit-pro-step-three> <div class=header-title> <div class=title>已引用任务区域</div> <div> <el-button v-if=hasExportPermission type=primary size=medium @click=handleBatchExport>批量导出</el-button> </div> </div> <el-table :data=tableData stripe style=width:100% @selection-change=handleSelectionChange> <el-table-column type=selection width=55> </el-table-column> <el-table-column label=任务ID prop=id></el-table-column> <el-table-column label=审核任务名称 prop=name></el-table-column> <el-table-column label=状态 prop=status> <template slot-scope=scope> {{{1: '待发布', 2: '进行中', 3: '已完成', 4: '已终结' }[scope.row.status]}} </template> </el-table-column> <el-table-column label=序列总数 prop=seriesTotalNum></el-table-column> <el-table-column label=已审核数 prop=seriesAuditNum></el-table-column> </el-table> </div> "}});