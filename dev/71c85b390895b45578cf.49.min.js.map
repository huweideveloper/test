{"version":3,"sources":["webpack:///./app/pages/newtaskdetail.js","webpack:///./app/less/newtaskdetail.less?3635","webpack:///./app/api/newtaskdetail.api.js","webpack:///./pages/newtaskdetail.html","webpack:///./app/less/newtaskdetail.less"],"names":["newtaskdetail","ES","selctorDoc","html","app","languageMode","getTranslate","language","header","showcrube","dom","find","on","addTaskToDoctor","changePage","resize","styleModel","type","initscroll","loadDataTask","alert","show","title","msg","close","sure","todoApi","useinfo","JSON","parse","local","get","loading","api","task_join","taskId","parpam","userId","value","hide","code","projectInfo","data","seriesImgFileType","json","accessToken","serviceHost","window","location","origin","open","Base64","encoder","stringify","tasktype","algPreAnnotation","projectId","largeFigure","href","host","reload","task_user_read","setData","name","costVisible","removeClass","cost","studyAnno","Tool","time","startTime","seriesTotalNum","endTime","remark","project_basic_read","id","res","val","textarea","document","getElementById","style","height","scrollHeight","modality","remarkFileUrl","temparr","forEach","idx","append","url","attr","temp","lastIndexOf","imgtype","videotype","substring","aa","Image","onload","outerHTML","initscrollmenu","src","eq","click","setTimeout","myScroll","refresh","rid","Math","floor","Date","getTime","random","IScroll","scrollbars","mouseWheel","interactiveScrollbars","hideScrollbar","vScrollbar","shrinkScrollbars","fadeScrollbars","disableMouse","disablePointer","ch","box","clientHeight","css","dicomresize","Interstellar","pagesBase","module","exports","urlDict","HttpRequest","POST"],"mappings":"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","file":"71c85b390895b45578cf.49.min.js","sourcesContent":["//这边基本上引入需要使用的资源less，api，需要使用的模块等等。\n\nclass newtaskdetail extends Interstellar.pagesBase {\n  complete() {\n    ES.selctorDoc('head title').html(this.app.languageMode.getTranslate(this.app.language, 'index', 'mine'))\n    this.app.header.showcrube();\n    this.dom.find('.join').on('click', () => {\n      this.addTaskToDoctor()\n    })\n    this.dom.find('.back').on('click', () => {\n      this.app.changePage('alltasklist')\n    })\n    this.resize()\n    this.styleModel(1)\n    this.type = 'doctor';\n    this.initscroll()\n    this.loadDataTask()\n  }\n\n  //添加任务\n  addTaskToDoctor() {\n    this.app.alert.show({\n      title: ' ',\n      msg: '确认加入该任务？加入任务后，只有提交任务后才能接取新任务',\n      close: true,\n      sure: () => {\n        this.todoApi()\n      }\n    })\n  }\n\n  async todoApi() {\n    let useinfo = JSON.parse(this.app.local.get('all'))\n    this.app.loading.show()\n    let value = await this.api.task_join({ taskId: this.app.parpam['taskId'], userId: useinfo.userId })\n    this.app.loading.hide()\n    if (value.code == 0) {\n      if (this.projectInfo.data.seriesImgFileType == 3) {\n        let json={\n          taskId:this.app.parpam['taskId']*1,\n          userId:JSON.parse(this.app.local.get('all')).userId,\n          accessToken:this.app.local.get('accessToken'),\n          serviceHost:window.location.origin,\n          type:1\n        }\n        window.open('annotation://'+Base64.encoder(JSON.stringify(json)))\n        return\n      }\n      if (this.tasktype == 1||this.tasktype == 3) {\n        if (this.algPreAnnotation) {\n          this.app.changePage('taskdetail', {\n            taskId: this.app.parpam['taskId'],\n            projectId: this.projectId,\n            type: \"editor\"\n          })\n        } else {\n          if (this.projectInfo.data.largeFigure) {\n            this.app.changePage('drapCanvas', {taskId: this.app.parpam['taskId'], projectId: this.projectId, type: \"editor\"})\n            return\n          }\n          this.app.changePage('mark', {taskId: this.app.parpam['taskId'], projectId: this.projectId, type: \"editor\"})\n        }\n      } else {\n        if (this.projectInfo.data.largeFigure) {\n          window.location.href = 'http://' + window.location.host + '/#!/drapCanvasAudEdit/' + this.app.parpam['taskId'] + '/' + this.projectId + '/check'\n          return\n        }\n        window.location.href = 'http://' + window.location.host + '/#!/markaudit/' + this.app.parpam['taskId'] + '/' + this.projectId + '/check'\n        window.location.reload()\n      }\n    } else {\n      this.app.alert.show({\n        title: '提示',\n        msg: value.msg,\n        close: true\n      })\n    }\n  }\n\n  //加载当前任务数据\n  async loadDataTask() {\n    this.app.loading.show()\n    let value = await this.api.task_user_read({\n      taskId: this.app.parpam['taskId'],\n      userId: JSON.parse(this.app.local.get('all')).userId\n    })\n    this.app.loading.hide()\n    this.algPreAnnotation = value.data.algPreAnnotation;\n    if (value.data.type == 2) {\n      value.data.algPreAnnotation = \"审核任务\"\n    } else {\n      value.data.algPreAnnotation = value.data.algPreAnnotation ? '算法标注' : '人工标注'\n    }\n    this.tasktype = value.data.type\n    this.projectId = value.data.projectId\n    this.setData(value.data)\n  }\n\n  //根据接口赋值\n  async setData(value) {\n    this.dom.find('.infoarea label[data=name]').html(value.name) //任务名称\n    if (value.costVisible) {\n      this.dom.find('.cost').removeClass('hide') //标注单价\n      this.dom.find('.infoarea label[data=cost]').html(value.cost) //标注单价\n    }\n    this.dom.find('.infoarea label[data=algPreAnnotation]').html(value.studyAnno ? value.algPreAnnotation + '（以检查号为维度）' : value.algPreAnnotation) //任务类型\n    this.dom.find('.infoarea label[data=startTime]').html(Tool.time(value.startTime, 'yyyy-mm-dd')) //开始时间\n    this.dom.find('.infoarea label[data=seriesTotalNum]').html(value.seriesTotalNum) //标注数量\n    this.dom.find('.infoarea label[data=endTime]').html(Tool.time(value.endTime, 'yyyy-mm-dd')) //结束时间\n    this.dom.find('.infoarea label[data=remark]').html(value.remark ? JSON.parse('\"' + value.remark + '\"') : '') //任务备注\n\n    this.projectId = value.projectId\n    //项目的信息填写\n    this.app.loading.show()\n    let res = await this.api.project_basic_read({ id: value.projectId })\n    this.projectInfo = res\n    this.app.loading.hide()\n    this.dom.find('label[data=\"pname\"]').html(res.data.name) //所属项目,项目名称\n    this.dom.find('.proinfo .pmark').val(JSON.parse('\"' + res.data.remark + '\"')) //项目描述\n\n    var textarea = document.getElementById('remarkarea');\n    textarea.style.height = textarea.scrollHeight + 'px';\n    // this.dom.find('.proinfo .pmark').parent().css({'height':textarea.scrollHeight})\n    this.dom.find('.infoarea label[data=modality]').html(res.data.modality) //样本类型\n    if (this.api.data.remarkFileUrl) {\n      let temparr = JSON.parse(this.api.data.remarkFileUrl)\n      temparr.forEach(function (val, idx) {\n        this.dom.find('.imgcontrol').append('<li imgurl=\"' + val + '\" class=\"controls\"></li>')\n      })\n    }\n    this.dom.find('.controls').on('click', () => {\n      let url = ES.selctorDoc(this).attr('imgurl')\n      let temp = url.lastIndexOf('.')\n      let imgtype = ',jpg,png,gif,WMF,webp,'\n      let videotype = ',ogg,mp4,swf,'\n\n      if (imgtype.lastIndexOf(url.substring(temp + 1)) !== -1) {\n        let aa = new Image()\n        aa.onload = () => {\n          this.dom.find('.fujianarea').html(this.outerHTML)\n          this.initscrollmenu()\n        }\n        aa.src = url\n      } else if (videotype.lastIndexOf(url.substring(temp + 1)) !== -1) {\n        let html = '<video width=\"600\" height=\"350\" controls>\\n' +\n          '    <source src=\"' + url + '\" type=\"video/mp4\">\\n' +\n          '    <source src=\"' + url + '\" type=\"video/ogg\">\\n' +\n          '    您的浏览器不支持 video 标签。\\n' +\n          '</video>'\n        this.dom.find('.fujianarea').html(html)\n        this.initscrollmenu();\n      }\n    })\n    this.dom.find('.controls').eq(0).click()\n    setTimeout(() => {\n      this.resize()\n    }, 1000)\n  }\n\n  initscroll() {\n    if (this.myScroll) {\n      this.myScroll.refresh()\n      return\n    }\n    var rid = 'aaa_' + Math.floor(new Date().getTime() * Math.random())\n    this.dom.find('.newtaskdetail .left .infoscorll').attr('id', rid)\n    this.myScroll = new IScroll('#' + rid, {\n      scrollbars: true,\n      mouseWheel: true,\n      interactiveScrollbars: true,\n      hideScrollbar: false,\n      vScrollbar: true,\n      shrinkScrollbars: 'scale',\n      fadeScrollbars: false,\n      disableMouse: true,\n      disablePointer: true\n    });\n  }\n\n  dicomresize() {\n    let ch = ES.selctorDoc(window).box().clientHeight\n    //ES.selctorDoc('.left').css({ 'height': ch - 70 });\n    ES.selctorDoc('.infoscorll').css({ 'height': ch - 150 });\n    this.initscroll();\n  }\n\n  resize() {\n    this.dicomresize()\n  }\n\n}\n\nmodule.exports = newtaskdetail;\n\n\n\n// WEBPACK FOOTER //\n// ./app/pages/newtaskdetail.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./newtaskdetail.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./newtaskdetail.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./newtaskdetail.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/less/newtaskdetail.less\n// module id = 527\n// module chunks = 49","const urlDict = {\n  task_user_read: '/task/user/read',\n  project_basic_read: '/project/basic/read',\n  task_join: '/user/task/join'\n}\nvar api = {\n    task_user_read: function(value) {\n      return this.HttpRequest.POST(urlDict.task_user_read, value)\n    },\n    project_basic_read: function(value) {\n      return this.HttpRequest.POST(urlDict.project_basic_read, value)\n    },\n    task_join: function(value) {\n      return this.HttpRequest.POST(urlDict.task_join, value)\n    }\n}\nmodule.exports = api;\n\n\n\n// WEBPACK FOOTER //\n// ./app/api/newtaskdetail.api.js","module.exports = \"<div class=newtaskdetail> <div class=left> <span class=title>新任务</span> <div class=breadcrumb> <span class=back>任务市场></span> <span>任务详情</span> </div> <div class=infoscorll> <div> <div class=basicinfo> <p class=tasktitle>任务基本信息</p> <div class=infoarea> <p> <span>任务名称：<label data=name></label></span> <span class=\\\"cost hide\\\">标注单价：<label data=cost></label></span> </p> <p> <span>任务类型：<label data=algPreAnnotation></label></span> <span>所属项目：<label data=pname></label></span> </p> <p> <span>开始时间：<label data=startTime></label></span> <span>结束时间：<label data=endTime></label></span> </p> <p> <span>样本类型：<label data=modality></label></span> <span>样本总量：<label data=seriesTotalNum></label></span> </p> <p><span>任务备注：<label data=remark></label></span></p> </div> </div> <div class=project> <p class=protitle>项目详情</p> <div class=proinfo> <div> <p> <span>项目名称：<label data=pname></label></span> </p> <p> <span>项目描述：</span><textarea id=remarkarea class=pmark disabled=disabled></textarea> </p> <div> <span>附件信息：</span> <div class=fujianarea></div> </div> </div> </div> </div> <div style=height:20px></div> </div> </div> </div> <div class=right> <a class=join>确认加入</a> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/newtaskdetail.html\n// module id = 529\n// module chunks = 49","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".newtaskdetail {\\n  margin: 20px 40px;\\n}\\n.newtaskdetail .left {\\n  width: 80%;\\n  float: left;\\n  position: relative;\\n  border-right: 1px solid #e8e8e8;\\n}\\n.newtaskdetail .left .infoscorll {\\n  position: relative;\\n  overflow: hidden;\\n}\\n.newtaskdetail .left .title {\\n  font-size: 22px;\\n  font-weight: bold;\\n  border-bottom: 1px solid #6f6e6e;\\n}\\n.newtaskdetail .left .breadcrumb {\\n  font-size: 16px;\\n  margin: 15px 0;\\n}\\n.newtaskdetail .left .breadcrumb .back {\\n  color: #bfbbbb;\\n  cursor: pointer;\\n}\\n.newtaskdetail .left .basicinfo {\\n  width: 90%;\\n  font-size: 14px;\\n}\\n.newtaskdetail .left .basicinfo .tasktitle {\\n  font-size: 16px;\\n  margin-bottom: 15px;\\n}\\n.newtaskdetail .left .infoarea {\\n  background: #fff;\\n  padding: 10px 30px;\\n}\\n.newtaskdetail .left .infoarea > p {\\n  height: 40px;\\n  line-height: 40px;\\n}\\n.newtaskdetail .left .infoarea > p span {\\n  width: 45%;\\n}\\n.newtaskdetail .left .infoarea > p:last-child {\\n  height: unset;\\n}\\n.newtaskdetail .left .infoarea > p:last-child span {\\n  width: unset;\\n}\\n.newtaskdetail .left .infoarea .fujian {\\n  height: 80px;\\n  line-height: 80px;\\n}\\n.newtaskdetail .left .project {\\n  width: 90%;\\n  font-size: 14px;\\n  margin-bottom: 20px;\\n  margin-top: 10px;\\n}\\n.newtaskdetail .left .project .protitle {\\n  font-size: 16px;\\n  margin-bottom: 15px;\\n}\\n.newtaskdetail .left .project .proinfo {\\n  padding: 10px 20px;\\n  background: #fff;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.newtaskdetail .left .project .proinfo p {\\n  line-height: 40px;\\n}\\n.newtaskdetail .left .project .proinfo .pmark {\\n  border: none;\\n  resize: none;\\n  vertical-align: text-top;\\n  width: 80%;\\n  background: #fff;\\n}\\n.newtaskdetail .right {\\n  width: 15%;\\n  float: right;\\n  font-size: 18px;\\n  font-weight: bold;\\n  margin: 20px;\\n}\\n.newtaskdetail .right a {\\n  width: 160px;\\n  height: 40px;\\n  line-height: 40px;\\n  background: #4c9fa9;\\n  color: #fff;\\n  border-radius: 5px;\\n  padding: 10px 20px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/less/newtaskdetail.less\n// module id = 909\n// module chunks = 49"],"sourceRoot":""}