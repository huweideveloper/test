webpackJsonp([4],{1015:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1016);var i=function(e){function t(e,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a,i,o));return r.html=n(1018),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),a(t,[{key:"complete",value:function(){this.btn()}},{key:"btn",value:function(e){var t=this;this.dom.find(".tab .option").on("click",function(){t.dom.find(".tab .option").removeClass("selected");var e=ES.selctorDoc(this);e.addClass("selected");var n={id:e.attr("node_id"),name:e.find("p").html(),pid:t.nowParam.id};t.event._dispatch("tab.change",n)})}}]),t}();e.exports=i},1016:function(e,t,n){var a=n(1017);"string"==typeof a&&(a=[[e.i,a,""]]);var i={transform:void 0};n(705)(a,i);a.locals&&(e.exports=a.locals)},1017:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".tab .option {\n  float: left;\n  width: 100px;\n  text-align: center;\n  font-size: 14px;\n  color: #333333;\n  line-height: 40px;\n  cursor: pointer;\n}\n.tab .selected {\n  border-bottom: 1px solid #448E97;\n  font-weight: bold;\n}\n",""])},1018:function(e,t){e.exports='<ul class=tab> <%=for(var w = 0;w < p.data.length; w++){\nvar stu=p.data[w];\nvar sel="";\nif(p.default==stu.id){\n\tsel=\'selected\';\n}\n=%> <li class="option <%==sel=%>" node_id="<%==stu.id=%>"> <p> <%==stu.name=%> </p> </li> <%=}=%> </ul> <div style=clear:both></div>'},1019:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_selectTablePage=__webpack_require__(956),_selectTablePage2=_interopRequireDefault(_selectTablePage);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}__webpack_require__(1020);var bztoollist=function(_Interstellar$moduleB){function bztoollist(e,t,n,a){_classCallCheck(this,bztoollist);var i=_possibleConstructorReturn(this,(bztoollist.__proto__||Object.getPrototypeOf(bztoollist)).call(this,e,t,n,a));return i.html=__webpack_require__(1022),i.name="datacondition",i.data={},i.needCompent={},i.moduleobj={},i}return _inherits(bztoollist,_Interstellar$moduleB),_createClass(bztoollist,[{key:"complete",value:function(){var e=this,t=this;this.dom.find(".btnarea .searchbtn").on("click",function(t){e.event._dispatch("datacondition.search")}),this.dom.find(".btnarea .exportlink").on("click",function(t){e.event._dispatch("datacondition.export")}),__webpack_require__.e(90).then(function(){var e=__webpack_require__(919);t.needCompent.dropdown=e;var n=__webpack_require__(991);t.needCompent.duoxuanxlk=n;var a=__webpack_require__(971);t.needCompent.calendar=a,t.setData(),t.event._dispatch("datacondition.moduledone")}.bind(null,__webpack_require__)).catch(__webpack_require__.oe)}},{key:"setData",value:function(e){var t=this;this.dom.find(".condition").html(""),e?e.map(function(e){t.part(e)}):this.initDate.data.map(function(e){t.part(e)})}},{key:"part",value:function(e){this.dom.find(".condition").append('<div class="content '+e[0].name+'"></div>'),this.data[e[0].name]=[];for(var t=0;t<e.length;t++)this.allControl(e[t],t)}},{key:"allControl",value:function allControl(value,pos){this.dom.find(".condition ."+value.name).append('<div class="signlecontent'+pos+' fl"></div>'),eval("this."+value.type+"(value,pos)")}},{key:"selectTablePage",value:function selectTablePage(value,pos){var that=this,id="signlecontent"+pos,name=value.name,showname=value.showname,key=value.key,keywordName=value.keywordName,searchApi=value.searchApi,_value$params=value.params,params=void 0===_value$params?{}:_value$params,keyName=value.keyName,valueName=value.valueName,multiple=value.multiple,el=this.dom.find(".condition ."+name+" ."+id);el.append('\n          <div id="'+id+'">\n            <select-table-page\n              placeholder="请选择'+showname+'"\n              v-model="'+key+'"\n              :data="likeListPage"\n              :remote-method="queryListPage"\n              :key-name="keyName"\n              :value-name="valueName"\n              :multiple="multiple"\n            ></select-table-page>\n          </div>\n        '),new Vue({el:"#"+id,components:{SelectTablePage:_selectTablePage2.default},data:function(){var e;return _defineProperty(e={},key,""),_defineProperty(e,"keyName",keyName),_defineProperty(e,"valueName",valueName),_defineProperty(e,"multiple",multiple),_defineProperty(e,"likeListPage",{}),e},watch:_defineProperty({},key,function(e){that.data[key][0]=e}),mounted:function(){this.queryListPage()},methods:{queryListPage:function queryListPage(){var _this4=this,_ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$value=_ref2.value,value=void 0===_ref2$value?"":_ref2$value,_ref2$page=_ref2.page,page=void 0===_ref2$page?1:_ref2$page,_ref2$pageSize=_ref2.pageSize,pageSize=void 0===_ref2$pageSize?10:_ref2$pageSize;setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var qparams,res;return regeneratorRuntime.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return qparams=_extends(_defineProperty({noLoading:!0,page:page,pageSize:pageSize},keywordName,value),params),_context.next=3,eval(searchApi)(qparams);case 3:res=_context.sent,_this4.likeListPage=res.data;case 5:case"end":return _context.stop()}},_callee,_this4)})),500)}}})}},{key:"dobuledropdown",value:function(e,t){var n=this,a=(e.input,this.app.loadModule(this.needCompent.duoxuanxlk,this.dom.find(".condition ."+e.name+" .signlecontent"+t),{showname:e.showname,data:e.data,datatype:e.datatype,input:!!e.input&&e.input,code:e.name,pos:t}));a.event._addEvent("duoxuan.select",function(e){n.data[a.initDate.code][a.initDate.pos]=e.name}),a.event._addEvent("duoxuan.input",function(e){n.event._dispatch("datacondition.dropinput",{data:e,name:a.initDate.code})}),a.event._addEvent("duoxuanxlk.clear",function(e){n.data[a.initDate.code][a.initDate.pos]="",n.event._dispatch("datacondition.dropinput",{data:"",name:a.initDate.code})}),n.moduleobj[a.initDate.code]=a}},{key:"dropdown",value:function(e,t){var n=this,a=this.app.loadModule(this.needCompent.dropdown,this.dom.find(".condition ."+e.name+" .signlecontent"+t),{className:"xlk",firstSelect:{val:e.showname,idx:""},data:e.data,code:e.name,datatype:e.datatype,input:!!e.input&&e.input});a.event._addEvent("option.click",function(e){n.data[a.initDate.code][t]=e.idx}),a.event._addEvent("dropDown.clear",function(e){n.data[a.initDate.code][t]="",n.event._dispatch("datacondition.dropinput",{data:"",name:a.initDate.code})}),a.event._addEvent("drop.input",function(e){n.event._dispatch("datacondition.dropinput",{data:e,name:a.initDate.code})}),n.moduleobj[a.initDate.code]=a}},{key:"dropdownS",value:function(e,t){var n=this;this.dom.find(".condition ."+e.name+" .signlecontent"+t).append('<span class="radioonly" style="margin:0 10px 0 5px">'+e.showname+"</span>"),this.dom.find(".condition ."+e.name+" .signlecontent"+t).append('<div class="dropdownContent" style="display: inline-block;"></div>');var a=e.showname;"check"!=e.name&&"inspect"!=e.name||(a=e.data[0].val);var i=this.app.loadModule(this.needCompent.dropdown,this.dom.find(".condition ."+e.name+" .signlecontent"+t+" .dropdownContent"),{className:"xlk",firstSelect:{val:a,idx:""},data:e.data,code:e.name,datatype:e.datatype,input:!!e.input&&e.input});i.event._addEvent("option.click",function(e){console.log(i.initDate.code),n.data[i.initDate.code][t]=e.idx}),i.event._addEvent("dropDown.clear",function(e){n.data[i.initDate.code][t]=""}),i.event._addEvent("drop.input",function(e){n.event._dispatch("datacondition.dropinput",{data:e,name:i.initDate.code})}),n.moduleobj[i.initDate.code]=i}},{key:"dTexts",value:function(e,t){var n=this,a="<span>"+e.showname+'</span>\n                <input type="text" class="lower dText" check="num">\n                <label>-</label>\n            <input type="text" class="upper dText" check="num">';this.dom.find(".condition ."+e.name+" .signlecontent"+t).append(a),this.data[e.name].push({}),this.dom.find(".condition ."+e.name+" .lower").on("blur",function(){console.log(n.data,e.name),n.data[e.name][t].lower=n.dom.find(".condition ."+e.name+" .lower").val()}),this.dom.find(".condition ."+e.name+" .upper").on("blur",function(){n.data[e.name][t].upper=n.dom.find(".condition ."+e.name+" .upper").val()})}},{key:"dText",value:function(e,t){var n=this;this.dom.find(".condition ."+e.name+" .signlecontent"+t).append('<input type="text" class="lower dText" check="num">\n                <label>-</label>\n            <input type="text" class="upper dText" check="num">'),this.data[e.name][t]={},console.log(this.data),this.dom.find(".condition ."+e.name+" .lower").on("blur",function(){console.log(n.data,"value.name"),n.data[e.name][t].lower=n.dom.find(".condition ."+e.name+" .lower").val()}),this.dom.find(".condition ."+e.name+" .upper").on("blur",function(){n.data[e.name][t].upper=n.dom.find(".condition ."+e.name+" .upper").val()})}},{key:"texts",value:function(e,t){var n=this,a="<span>"+e.showname+'</span>\n        <input type="text" class="inputtext textData" style="display:inline-block" value="'+(e.data?e.data:"")+'" '+(!1===e.input?"readonly":"")+">";this.dom.find(".condition ."+e.name+" .signlecontent"+t).append(a),this.dom.find(".condition ."+e.name+" .textData").on("blur",function(){console.log(t,e.name),n.data[e.name][t]=n.data[e.name][t]?n.data[e.name][t]:{},n.data[e.name][t]=n.dom.find(".condition ."+e.name+" .textData").val()})}},{key:"time",value:function(e,t){var n=this,a=e.name;n.data[a].push({});var i=new Date,o=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1;i.getFullYear(),i.getDate();this.dom.find(".condition ."+e.name+" .signlecontent"+t).append('<span class="radioonly">'+e.showname+"</span>"),this.dom.find(".condition ."+e.name+" .signlecontent"+t).append('<div class="timefilter" style="display: inline-block;"></div>');var r=this.app.loadModule(this.needCompent.calendar,this.dom.find(".condition ."+e.name+" .signlecontent"+t+" .timefilter"),{titleShow:!1,defaultword:"请选择时间"});r.event._addEvent("times1.day",function(e){console.log(e,"valuetime",n.data),n.data[a][t].startTime=e.st?e.st+" 00:00:00":"",n.data[a][t].endTime=e.et?e.et+" 23:59:59":"",console.log(n.apidata)}),r.event._addEvent("times.dele",function(e){e.dom.hasClass("day_left")?n.data[a][t].startTime="":n.data[a][t].endTime=""})}},{key:"text",value:function(e,t){var n=this,a='<input type="text" class="inputtext textData" placeholder="'+e.showname+'">';this.dom.find(".condition ."+e.name+" .signlecontent"+t).append(a),this.data[e.name][t]="",this.dom.find(".condition ."+e.name+" .textData").on("blur",function(){console.log(n.dom.find(".condition ."+e.name+" .signlecontent"+t+" .textData").val(),e.name),n.data[e.name][t]=n.dom.find(".condition ."+e.name+" .signlecontent"+t+" .textData").val()})}},{key:"editdone",value:function(e,t){var n=this,a=e.name;this.dom.find(".condition ."+e.name+" .signlecontent"+t).append('<a class="iconfont icon-bianji radioonly"></a>'),this.dom.find(".condition ."+e.name+" .signlecontent"+t+" .icon-bianji").on("click",function(){n.event._dispatch("datacondition.editor",{code:a})})}},{key:"renderHtml",value:function(e,t){this.moduleobj[t].renderHtml(e)}}]),bztoollist}(Interstellar.moduleBase);module.exports=bztoollist},1020:function(e,t,n){var a=n(1021);"string"==typeof a&&(a=[[e.i,a,""]]);var i={transform:void 0};n(705)(a,i);a.locals&&(e.exports=a.locals)},1021:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".datacondition {\n  position: relative;\n}\n.datacondition .condition .content {\n  float: left;\n  padding: 5px 0;\n}\n.datacondition .condition .content .textData,\n.datacondition .condition .content .dText {\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n}\n.datacondition .condition .icon-bianji {\n  margin: 0px 10px;\n  line-height: 30px;\n}\n.datacondition .condition .patientAgetype > div {\n  margin-right: 5px;\n}\n.datacondition .condition .check > div,\n.datacondition .condition .inspect > div {\n  margin-right: 5px;\n}\n.datacondition .condition .check .xlk,\n.datacondition .condition .inspect .xlk {\n  width: 80px;\n  height: 30px;\n  line-height: 30px;\n}\n.datacondition .condition .check .xlk .nowname,\n.datacondition .condition .inspect .xlk .nowname {\n  width: 60px;\n}\n.datacondition .btnarea {\n  position: absolute;\n  bottom: 20px;\n  transform: translate(-120px, 0px);\n  right: 0px;\n}\n.datacondition .btnarea .showData {\n  width: 110px;\n  height: 40px;\n  line-height: 40px;\n  border-radius: 4px;\n}\n.datacondition .btnarea .biaozhubtn {\n  display: inline-block;\n  padding: 0 20px;\n  height: 40px;\n  color: #fff;\n  line-height: 40px;\n  background: #4c9fa9;\n  border-radius: 4px;\n  text-align: center;\n}\n.datacondition .btnarea .searchbtn {\n  margin: 0 20px 0 30px;\n}\n.datacondition .btnarea .dwdiv {\n  position: relative;\n  display: inline-block;\n}\n.datacondition .btnarea .dwdiv > label {\n  width: 280px;\n  color: red;\n  position: absolute;\n  text-align: left;\n  left: 0;\n}\n",""])},1022:function(e,t){e.exports="<div class=datacondition> <div class=condition></div> <div style=clear:both></div> </div>"},108:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1757)),o=n(75);function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,DataBase),a(t,[{key:"complete",value:function(){var e=this,t=window.location.href.split("#!/")[1].split("/")[0];this.app.userResource[ES.selctorDoc('.menu .twolink[link="'+t+'"]').parent().attr("id")].forEach(function(t){switch(t.type){case"CREATE":e.dom.find(".btnarea").append('<a class="createbtn strokeBtn">'+t.name+"</a>");break;case"START":case"EDIT":e.model.listicon.action.config.content.push({text:t.name,key:t.type});break;case"STOP":e.model.listicon.action2.config.content.push({text:t.name,key:t.type});break;case"END":e.model.listicon.action1.config.content.push({text:t.name,key:t.type}),e.model.listicon.action3.config.content.push({text:t.name,key:t.type});break;case"VIEW_SERIES":e.model.listicon.action3.config.content.push({text:t.name,key:t.type}),e.model.listicon.action4.config.content.push({text:t.name,key:t.type});break;default:e.model.listicon.action.config.content.push({text:t.name,key:t.type}),e.model.listicon.action1.config.content.push({text:t.name,key:t.type}),e.model.listicon.action2.config.content.push({text:t.name,key:t.type}),e.model.listicon.action3.config.content.push({text:t.name,key:t.type}),e.model.listicon.action4.config.content.push({text:t.name,key:t.type}),e.model.listicon.action5.config.content.push({text:t.name,key:t.type})}}),this.taskType=-1!==window.location.hash.indexOf("taskmanage")?1:3,this.changeAll(this.model.condition),this.addli(this.model.condition),this.model.dataList=[],this.model.tableconfig.tablewidth=ES.selctorDoc(".taskmanage").box().clientWidth-240,this.loadlist("group"),this.dom.find(".strokeBtn").on("click",function(){e.app.session.set("ischanged",!1),1==e.taskType?e.app.changePage("createtask",{type:"new"}):e.app.changePage("createbackflowtask1",{type:"new"})}),this.dom.find(".fillBtn").on("click",function(){e.model.condition.forEach(function(t,n){"inspectTime"==t[0].name?(e.model.apiData.startCreateTime=e.getfiltercondition()[t[0].name][0].startTime,e.model.apiData.endCreateTime=e.getfiltercondition()[t[0].name][0].endTime):e.model.apiData[t[0].name]=""==e.getfiltercondition()[t[0].name].toString()?null:e.getfiltercondition()[t[0].name].toString()}),e.model.apiData.projectIdList=e.model.apiData.projectIdList?e.model.apiData.projectIdList.split(",").map(Number):null,e.model.apiData.algPreAnnotation&&(e.model.apiData.algPreAnnotation=1==e.model.apiData.algPreAnnotation),e.model.apiData.taskIdList=e.model.apiData.taskIdList?e.model.apiData.taskIdList.split(",").map(Number):null,e.model.apiData.vendorIdList=e.model.apiData.vendorIdList?e.model.apiData.vendorIdList.split(",").map(Number):null,e.model.apiData.page=1,e.model.apiData.type=1,e.search(!0)})}},{key:"search",value:function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],this.model.apiData.type=this.taskType,this.model.apiData.taskId&&(this.model.apiData.taskIdList=this.model.apiData.taskIdList||[],this.model.apiData.taskIdList.push(this.model.apiData.taskId)),delete this.model.apiData.taskId,e.next=6,this.api.queryTask(this.model.apiData);case 6:0==(a=e.sent).code?a.data.list.length>0?(a.data.list.forEach(function(e,t){for(var a in e)e[a]=null==e[a]?"":e[a];var o={};switch(e.vendors="",o.id=e.id+","+e.projectStatus+","+e.seriesTotalNum/(e.crossMarkNum?e.crossMarkNum:1)+","+e.projectId+","+e.status,e.assignVendors=e.assignVendors.length>0?e.assignVendors.toString():"",e.remark=JSON.parse('"'+e.remark+'"'),e.status){case 1:e.status="待发布",o.operation=i.model.listicon.action;break;case 2:e.status="进行中",e.seriesAvailableNum===e.seriesTotalNum?o.operation=i.model.listicon.action1:o.operation=i.model.listicon.action3;break;case 3:e.status="已完成",e.seriesAvailableNum===e.seriesTotalNum?o.operation=i.model.listicon.action5:o.operation=i.model.listicon.action4;break;case 4:e.status="已终结",e.seriesAvailableNum===e.seriesTotalNum?o.operation=i.model.listicon.action5:o.operation=i.model.listicon.action4}n.push(o),e.method=1==e.method?"承包式":"开放式",e.algPreAnnotation=e.algPreAnnotation?"算法标注":"人工标注",e.projectStatus=1==e.projectStatus?"未启用":"已启用",e.crossMarkNum=2==e.assignMethod?1:e.crossMarkNum,e.seriesTotalNum=e.crossMarkNum?e.seriesTotalNum/e.crossMarkNum+"(*"+e.crossMarkNum+")":e.seriesTotalNum+"(*1)",e.createTime&&(e.createTime=Tool.time(e.createTime,"yyyy-mm-dd")),e.startTime&&(e.startTime=Tool.time(e.startTime,"yyyy-mm-dd")),e.endTime&&(e.endTime=Tool.time(e.endTime,"yyyy-mm-dd")),e.isassign=""}),this.tablecont.setData(a.data.list,n),this.model.dataList=a.data.list||[]):this.tablecont.noData():Tool.errorshow(a.msg,this.app),t&&this.tablecont.getTotal(a.data.pages,2,a.data.total);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPath",value:function(){return{taskmanage:"createproone",backflowtask:"createbackflowpro1"}[location.hash.split("/")[1]]}},{key:"listlink",value:function(e){var t=e.projectId,n=(e.id,this.getPath());n&&window.open(location.origin+"/#!/"+n+"/view/"+t)}},{key:"listaction",value:function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,s,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id.split(",")[0],a=this.model.dataList.find(function(e){return e.id===Number(n)}),s=1===this.taskType?"createtask":"createbackflowtask1",e.t0=t.classname,e.next="READ"===e.t0?6:"EDIT"===e.t0?8:"COPY"===e.t0?10:"START"===e.t0?15:"END"===e.t0?17:"VIEW_SERIES"===e.t0?19:21;break;case 6:return window.open(window.location.origin+"/#!/"+s+"/view/"+t.id.split(",")[0]+"//"+t.id.split(",")[4]),e.abrupt("break",21);case 8:return window.open(window.location.origin+"/#!/"+s+"/edit/"+t.id.split(",")[0]+"/"+t.id.split(",")[3]+"/"+t.id.split(",")[4]),e.abrupt("break",21);case 10:if(!a||9!==a.projectSeriesImgFileType){e.next=13;break}return this.app.alert.show({title:"提示",msg:"随访配准的项目任务不支持复制！",close:!1,sure:function(){this.app.alert.hide()}}),e.abrupt("return");case 13:return this.app.alert.show({title:" ",msg:"确认复制吗？",close:!0,sure:function(){var e=r(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.api.task_clone({taskId:t.id.split(",")[0]});case 2:0==(n=e.sent).code?(l.model.apiData.page=1,l.search(!0)):Tool.errorshow(n.msg,l.app);case 4:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}()}),e.abrupt("break",21);case 15:return 1==t.id.split(",")[1]?this.app.alert.show({title:" ",msg:"此任务中引用的项目未启动，请先启动项目。",close:!0}):this.app.alert.show({title:" ",msg:"是否确定开始任务，本次任务的需要标注的序列数量为"+t.id.split(",")[2]+"个，一旦开始序列数量即为锁定。",close:!0,sure:function(){var e=r(regeneratorRuntime.mark(function e(){var n,a,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.app.loading.show(),e.next=3,l.api.startTask(parseInt(t.id.split(",")[0]));case 3:n=e.sent,l.app.loading.hide(),0===n.code?(a=n.data)?(r=a.map(function(e){return{"序列号":e}}),s=i.default.unparse(r),Tool.exportCSVFile(s,"序列号.csv"),o.MessageBox.alert("存在序列未跑mha或mha2,请查看已下载的文件")):(l.model.apiData.page=1,l.search(!0)):l.app.alert.show({title:"提醒",msg:n.msg,close:!0});case 6:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}()}),e.abrupt("break",21);case 17:return this.app.alert.show({title:" ",msg:"是否确定要终结任务，一旦终结外部医生的任务即结束，本次任务也无法再次发布。",close:!0,sure:function(){var e=r(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.api.task_end({taskId:t.id.split(",")[0]});case 2:0==(n=e.sent).code?(l.model.apiData.page=1,l.search(!0)):Tool.errorshow(n.msg,l.app);case 4:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}()}),e.abrupt("break",21);case 19:return window.open(window.location.origin+"/#!/ytjtaskdetail/"+t.id.split(",")[0]+"/"+this.taskType),e.abrupt("break",21);case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"toggletab",value:function(e){this.app.changePage(1==this.taskType?"taskmanage":"backflowtask",{type:e.id})}},{key:"getapidata",value:function(e){if(e)switch(e.name){case"userId":this.chooseData.moduleobj.userId.loading(!0),this.userIdListSearch(e.data.data?e.data.data.trim():"");break;case"taskIdList":this.chooseData.moduleobj.taskIdList.loading(!0),this.taskNameSearch(e.data.data?e.data.data.trim():"");break;case"projectIdList":this.chooseData.moduleobj.projectIdList.loading(!0),this.projectNameSearch(e.data.data?e.data.data.trim():"");break;case"vendorIdList":this.chooseData.moduleobj.vendorIdList.loading(!0),this.taskVendorNameSearch(e.data.data?e.data.data.trim():"")}else this.chooseData.moduleobj.userId&&this.chooseData.moduleobj.userId.loading(!0),this.chooseData.moduleobj.projectIdList&&this.chooseData.moduleobj.projectIdList.loading(!0),this.chooseData.moduleobj.taskIdList&&this.chooseData.moduleobj.taskIdList.loading(!0),this.chooseData.moduleobj.vendorIdList&&this.chooseData.moduleobj.vendorIdList.loading(!0),this.userIdListSearch(""),this.taskNameSearch(""),this.taskVendorNameSearch(""),this.projectNameSearch("")}},{key:"projectNameSearch",value:function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.projectNameSearch({projectName:t,type:-1!==window.location.hash.indexOf("taskmanage")?1:3});case 2:n=e.sent,a=n.data,this.chooseData.moduleobj.projectIdList.loading(!1),i=a.list.map(function(e){return{idx:e.projectId,val:e.projectName}}),this.chooseData.renderHtml(i,"projectIdList");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"userIdListSearch",value:function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.userListSearch({name:t,type:-1!==window.location.hash.indexOf("taskmanage")?1:3});case 2:n=e.sent,a=n.data,this.chooseData.moduleobj.userId.loading(!1),i=a.map(function(e){return{idx:e.userId,val:e.name+"（"+e.userId+"）"}}),this.chooseData.renderHtml(i,"userId");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"taskNameSearch",value:function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.taskNameSearch({taskName:t,type:-1!==window.location.hash.indexOf("taskmanage")?1:3});case 2:n=e.sent,a=n.data,this.chooseData.moduleobj.taskIdList.loading(!1),i=a.list.map(function(e){return{idx:e.taskId,val:e.taskName}}),this.chooseData.renderHtml(i,"taskIdList");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"taskVendorNameSearch",value:function(){var e=r(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.taskVendorNameSearch({name:t});case 2:n=e.sent,a=n.data,this.chooseData.moduleobj.vendorIdList.loading(!1),i=a.list.map(function(e){return{idx:e.id,val:e.name}}),this.chooseData.renderHtml(i,"vendorIdList");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}();e.exports=s},16:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=function(e){function t(e,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a,i));return o.apiData={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.pagesBase),a(t,[{key:"complete",value:function(){}},{key:"addli",value:function(e){var t=this,a=n(1015);this.app.loadModule(a,this.dom.find(".topchoose"),{data:this.model.tablist,default:this.app.parpam.type}).event._addEvent("tab.change",function(e){t.toggletab(e)}),this.changeAll(e||this.model.condition[this.app.parpam.type])}},{key:"loadlist",value:function(e,t){var a=this;this.tablecont=null,n.e(87).then(function(){switch(a.table_group=n(952),a.table_single=n(930),e){case"group":a.tablecont=a.app.loadModule(a.table_group,a.dom.find(".tablearea"),{id:"tasktable",header:t||a.model.tableconfig});break;case"single":a.tablecont=a.app.loadModule(a.table_single,a.dom.find(".tablearea"),{id:"tasktable",header:t||a.model.tableconfig})}a.tablecont.event._addEvent("table.pagenumber",function(e){a.model.apiData.page=parseInt(e),a.tablecont.changenum(a.model.apiData.page),a.search()}),a.tablecont.event._addEvent("table.pagesize",function(e){a.model.apiData.pageSize=e.num,a.model.apiData.page=1,a.search(!0)}),a.tablecont.event._addEvent("table.action",function(e){a.listaction(e)}),a.tablecont.event._addEvent("table.onoff",function(e){a.listOnOff(e)}),a.tablecont.event._addEvent("table.listlink",function(e){a.listlink(e)}),a.search(!0)}.bind(null,n)).catch(n.oe)}},{key:"loadproissonlist",value:function(e,t,a){var i=this;this.tablecont=null,n.e(87).then(function(){switch(i.table_group=n(952),i.table_single=n(930),e){case"group":i.tablecont=i.app.loadModule(i.table_group,i.dom.find(".tablearea"),{id:"tasktable",header:t||i.model.tableconfig});break;case"single":i.tablecont=i.app.loadModule(i.table_single,i.dom.find(".tablearea"),{id:"tasktable",header:t||i.model.tableconfig})}i.tablecont.event._addEvent("table.pagenumber",function(e){i.model.apiData.page=parseInt(e),i.tablecont.changenum(i.model.apiData.page),i.search()}),i.tablecont.event._addEvent("table.pagesize",function(e){i.model.apiData.pageSize=e.num,i.model.apiData.page=1,i.search(!0)}),i.tablecont.event._addEvent("table.action",function(e){i.listaction(e)}),i.tablecont.event._addEvent("table.onoff",function(e){i.listOnOff(e)}),i.tablecont.event._addEvent("table.listlink",function(e){i.listlink(e)}),i.search(a)}.bind(null,n)).catch(n.oe)}},{key:"changeAll",value:function(e){var t=this,a=n(1019);this.chooseData=this.app.loadModule(a,this.dom.find(".filterarea"),{data:e}),this.chooseData.event._addEvent("datacondition.moduledone",function(){t.conditionconfig(),t.getapidata()}),this.chooseData.event._addEvent("datacondition.dropinput",function(e){t.getapidata(e)})}},{key:"getapidata",value:function(){}},{key:"conditionconfig",value:function(){}},{key:"getfiltercondition",value:function(){return this.chooseData.data}}]),t}();window.DataBase=window.DataBase||i,e.exports=i},1757:function(e,t,n){var a,i,o;
/* @license
Papa Parse
v5.3.1
https://github.com/mholt/PapaParse
License: MIT
*/!function(n,r){i=[],void 0===(o="function"==typeof(a=r)?a.apply(t,i):a)||(e.exports=o)}(0,function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,a=n&&/blob:/i.test((t.location||{}).protocol),i={},o=0,r={parse:function(n,a){var s=(a=a||{}).dynamicTyping||!1;if(k(s)&&(a.dynamicTypingFunction=s,s={}),a.dynamicTyping=s,a.transform=!!k(a.transform)&&a.transform,a.worker&&r.WORKERS_SUPPORTED){var l=function(){if(!r.WORKERS_SUPPORTED)return!1;var n,a,s=(n=t.URL||t.webkitURL||null,a=e.toString(),r.BLOB_URL||(r.BLOB_URL=n.createObjectURL(new Blob(["(",a,")();"],{type:"text/javascript"})))),l=new t.Worker(s);return l.onmessage=g,l.id=o++,i[l.id]=l}();return l.userStep=a.step,l.userChunk=a.chunk,l.userComplete=a.complete,l.userError=a.error,a.step=k(a.step),a.chunk=k(a.chunk),a.complete=k(a.complete),a.error=k(a.error),delete a.worker,void l.postMessage({input:n,config:a,workerId:l.id})}var h=null;return r.NODE_STREAM_INPUT,"string"==typeof n?h=a.download?new c(a):new u(a):!0===n.readable&&k(n.read)&&k(n.on)?h=new p(a):(t.File&&n instanceof File||n instanceof Object)&&(h=new d(a)),h.stream(n)},unparse:function(e,t){var n=!1,a=!0,i=",",o="\r\n",s='"',l=s+s,c=!1,d=null,u=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||r.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(a=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),"boolean"==typeof t.escapeFormulae&&(u=t.escapeFormulae)}}();var p=new RegExp(f(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var r="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&a){for(var c=0;c<e.length;c++)0<c&&(r+=i),r+=m(e[c],c);0<t.length&&(r+=o)}for(var d=0;d<t.length;d++){var u=s?e.length:t[d].length,p=!1,h=s?0===Object.keys(t[d]).length:0===t[d].length;if(n&&!s&&(p="greedy"===n?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===n&&s){for(var f=[],g=0;g<u;g++){var v=l?e[g]:g;f.push(t[d][v])}p=""===f.join("").trim()}if(!p){for(var y=0;y<u;y++){0<y&&!h&&(r+=i);var b=s&&l?e[y]:y;r+=m(t[d][b],y)}d<t.length-1&&(!n||0<u&&!h)&&(r+=o)}}return r}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===u&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var a=e.toString().replace(p,l);return"boolean"==typeof n&&n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(a,r.BAD_DELIMITERS)||-1<a.indexOf(i)||" "===a.charAt(0)||" "===a.charAt(a.length-1)?s+a+s:a}}};if(r.RECORD_SEP=String.fromCharCode(30),r.UNIT_SEP=String.fromCharCode(31),r.BYTE_ORDER_MARK="\ufeff",r.BAD_DELIMITERS=["\r","\n",'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!n&&!!t.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=m,r.ParserHandle=h,r.NetworkStreamer=c,r.FileStreamer=d,r.StringStreamer=u,r.ReadableStreamStreamer=p,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},a=[];return this.each(function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)a.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})}),i(),this;function i(){if(0!==a.length){var t,n,i,l,c=a[0];if(k(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return t="AbortError",n=c.file,i=c.inputElem,l=d.reason,void(k(e.error)&&e.error({name:t},n,i,l));if("skip"===d.action)return void o();"object"==typeof d.config&&(c.instanceConfig=s.extend(c.instanceConfig,d.config))}else if("skip"===d)return void o()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){k(u)&&u(e,c.file,c.inputElem),o()},r.parse(c.file,c.instanceConfig)}else k(e.complete)&&e.complete()}function o(){a.splice(0,1),i()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)t.postMessage({results:s,workerId:r.WORKER_ID,finished:c});else if(k(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!k(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){k(this._config.error)?this._config.error(e):a&&this._config.error&&t.postMessage({workerId:r.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=r.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var a in e)t.setRequestHeader(a,e[a])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var n=t.getResponseHeader("Content-Range");return null===n?-1:parseInt(n.substring(n.lastIndexOf("/")+1))}(),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function d(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=r.LocalChunkSize),l.call(this,e);var a="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,a?((t=new FileReader).onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);a||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){l.call(this,e=e||{});var t=[],n=!0,a=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){a&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=_(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=_(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=_(function(){this._streamCleanUp(),a=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(e){var t,n,a,i=Math.pow(2,53),o=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,c=this,d=0,u=0,p=!1,h=!1,g=[],v={data:[],errors:[],meta:{}};if(k(e.step)){var y=e.step;e.step=function(t){if(v=t,x())w();else{if(w(),0===v.data.length)return;d+=t.data.length,e.preview&&d>e.preview?n.abort():(v.data=v.data[0],y(v,c))}}}function _(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){if(v&&a&&(T("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),a=!1),e.skipEmptyLines)for(var t=0;t<v.data.length;t++)_(v.data[t])&&v.data.splice(t--,1);return x()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;x()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){k(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var a,i=e.header?{}:[];for(a=0;a<t.length;a++){var o=a,r=t[a];e.header&&(o=a>=g.length?"__parsed_extra":g[a]),e.transform&&(r=e.transform(r,o)),r=S(o,r),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(r)):i[o]=r}return e.header&&(a>g.length?T("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+a,u+n):a<g.length&&T("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+a,u+n)),i}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),u+=n,v}()}function x(){return e.header&&0===g.length}function S(t,n){return a=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[a]&&(e.dynamicTyping[a]=e.dynamicTypingFunction(a)),!0===(e.dynamicTyping[a]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(o<t&&t<i)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var a}function T(e,t,n,a){var i={type:e,code:t,message:n};void 0!==a&&(i.row=a),v.errors.push(i)}this.parse=function(i,o,s){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(f(t)+"([^]*?)"+f(t),"gm"),a=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<a[0].length;if(1===a.length||o)return"\n";for(var r=0,s=0;s<a.length;s++)"\n"===a[s][0]&&r++;return r>=a.length/2?"\r\n":"\r"}(i,l)),a=!1,e.delimiter)k(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter);else{var c=function(t,n,a,i,o){var s,l,c,d;o=o||[",","\t","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var u=0;u<o.length;u++){var p=o[u],h=0,f=0,g=0;c=void 0;for(var v=new m({comments:i,delimiter:p,newline:n,preview:10}).parse(t),y=0;y<v.data.length;y++)if(a&&_(v.data[y]))g++;else{var b=v.data[y].length;f+=b,void 0!==c?0<b&&(h+=Math.abs(b-c),c=b):c=b}0<v.data.length&&(f/=v.data.length-g),(void 0===l||h<=l)&&(void 0===d||d<f)&&1.99<f&&(l=h,s=p,d=f)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(a=!0,e.delimiter=r.DefaultDelimiter),v.meta.delimiter=e.delimiter}var d=b(e);return e.preview&&e.header&&d.preview++,t=i,n=new m(d),v=n.parse(t,o,s),w(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=k(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(p=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),v.meta.aborted=!0,k(e.complete)&&e.complete(v),t=""}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,a=e.newline,i=e.comments,o=e.step,s=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<r.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<r.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==a&&"\r"!==a&&"\r\n"!==a&&(a="\n");var d=0,u=!1;this.parse=function(e,r,p){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,m=n.length,g=a.length,v=i.length,y=k(o),b=[],_=[],w=[],x=d=0;if(!e)return A();if(l||!1!==l&&-1===e.indexOf(t)){for(var S=e.split(a),T=0;T<S.length;T++){if(w=S[T],d+=w.length,T!==S.length-1)d+=a.length;else if(p)return A();if(!i||w.substring(0,v)!==i){if(y){if(b=[],R(w.split(n)),z(),u)return A()}else R(w.split(n));if(s&&s<=T)return b=b.slice(0,s),A(!0)}}return A()}for(var D=e.indexOf(n,d),E=e.indexOf(a,d),C=new RegExp(f(c)+f(t),"g"),O=e.indexOf(t,d);;)if(e[d]!==t)if(i&&0===w.length&&e.substring(d,d+v)===i){if(-1===E)return A();d=E+g,E=e.indexOf(a,d),D=e.indexOf(n,d)}else if(-1!==D&&(D<E||-1===E))w.push(e.substring(d,D)),d=D+m,D=e.indexOf(n,d);else{if(-1===E)break;if(w.push(e.substring(d,E)),L(E+g),y&&(z(),u))return A();if(s&&b.length>=s)return A(!0)}else for(O=d,d++;;){if(-1===(O=e.indexOf(t,O+1)))return p||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:d}),P();if(O===h-1)return P(e.substring(d,O).replace(C,t));if(t!==c||e[O+1]!==c){if(t===c||0===O||e[O-1]!==c){-1!==D&&D<O+1&&(D=e.indexOf(n,O+1)),-1!==E&&E<O+1&&(E=e.indexOf(a,O+1));var j=N(-1===E?D:Math.min(D,E));if(e[O+1+j]===n){w.push(e.substring(d,O).replace(C,t)),e[d=O+1+j+m]!==t&&(O=e.indexOf(t,d)),D=e.indexOf(n,d),E=e.indexOf(a,d);break}var I=N(E);if(e.substring(O+1+I,O+1+I+g)===a){if(w.push(e.substring(d,O).replace(C,t)),L(O+1+I+g),D=e.indexOf(n,d),O=e.indexOf(t,d),y&&(z(),u))return A();if(s&&b.length>=s)return A(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:d}),O++}}else O++}return P();function R(e){b.push(e),x=d}function N(t){var n=0;if(-1!==t){var a=e.substring(O+1,t);a&&""===a.trim()&&(n=a.length)}return n}function P(t){return p||(void 0===t&&(t=e.substring(d)),w.push(t),d=h,R(w),y&&z()),A()}function L(t){d=t,R(w),w=[],E=e.indexOf(a,d)}function A(e){return{data:b,errors:_,meta:{delimiter:n,linebreak:a,aborted:u,truncated:!!e,cursor:x+(r||0)}}}function z(){o(A()),b=[],_=[]}},this.abort=function(){u=!0},this.getCharIndex=function(){return d}}function g(e){var t=e.data,n=i[t.workerId],a=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){a=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(k(n.userStep)){for(var r=0;r<t.results.data.length&&(n.userStep({data:t.results.data[r],errors:t.results.errors,meta:t.results.meta},o),!a);r++);delete t.results}else k(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!a&&v(t.workerId,t.results)}function v(e,t){var n=i[e];k(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function _(e,t){return function(){e.apply(t,arguments)}}function k(e){return"function"==typeof e}return a&&(t.onmessage=function(e){var n=e.data;if(void 0===r.WORKER_ID&&n&&(r.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:r.WORKER_ID,results:r.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var a=r.parse(n.input,n.config);a&&t.postMessage({workerId:r.WORKER_ID,results:a,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(p.prototype=Object.create(l.prototype)).constructor=p,r})},1950:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".taskmanage {\n  min-height: 837px;\n  background-color: #fff;\n}\n.taskmanage .topchoose {\n  padding-top: 20px;\n  border-bottom: 1px solid #ccc;\n}\n.taskmanage .topchoose a {\n  font-size: 14px;\n  height: 40px;\n  line-height: 40px;\n  width: 100px;\n  text-align: center;\n  display: inline-block;\n  cursor: pointer;\n  color: #333;\n}\n.taskmanage .topchoose .choosed {\n  border-bottom: 1px solid #448e97;\n}\n.taskmanage .filterarea {\n  margin: 20px;\n  width: 1000px;\n}\n.taskmanage .filterarea .content {\n  margin-right: 20px;\n}\n.taskmanage .filterarea .content .xlk {\n  width: 170px;\n  height: 35px;\n  line-height: 35px;\n}\n.taskmanage .filterarea .content .xlk .nowname {\n  width: 94%;\n}\n.taskmanage .filterarea .content .duoxuanxlk {\n  width: 170px;\n  height: 35px;\n  line-height: 35px;\n}\n.taskmanage .filterarea .content .inputtext {\n  width: 170px;\n  padding-left: 10px;\n  height: 35px;\n  line-height: 35px;\n}\n.taskmanage .filterarea .inspectTime {\n  position: relative;\n}\n.taskmanage .filterarea .inspectTime .chooseData > div {\n  display: inline-block;\n}\n.taskmanage .filterarea .inspectTime .chooseData .showData {\n  width: 170px;\n  height: 35px;\n  line-height: 35px;\n  border-radius: 4px;\n}\n.taskmanage .btnarea {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n}\n.taskmanage .btnarea .biaozhubtn {\n  margin-right: 20px;\n  height: 35px;\n  line-height: 35px;\n  padding: 0 20px;\n  background: #4c9fa9;\n  color: #fff;\n}\n.taskmanage .tablearea .actionul {\n  width: 140px !important;\n  left: -55px !important;\n}\n.taskmanage .tablearea .actiontable .ul {\n  overflow: unset;\n}\n.taskmanage .tablearea .list {\n  min-height: 350px;\n}\n",""])},267:function(e,t,n){var a=n(1950);"string"==typeof a&&(a=[[e.i,a,""]]);var i={transform:void 0};n(705)(a,i);a.locals&&(e.exports=a.locals)},268:function(e,t,n){"use strict";var a="/task/search",i="/task/start",o="/project/name/search",r="/task/name/search",s="/vendor/query",l="/task/clone",c="/task/end",d="/user/task/user/list";e.exports={queryTask:function(e){return this.HttpRequest.POST(a,e)},startTask:function(e){return this.HttpRequest.POST(i,{id:e})},projectNameSearch:function(e){return this.HttpRequest.POST(o,e)},taskNameSearch:function(e){return this.HttpRequest.POST(r,e)},taskVendorNameSearch:function(e){return this.HttpRequest.POST(s,e)},task_clone:function(e){return this.HttpRequest.POST(l,e)},task_end:function(e){return this.HttpRequest.POST(c,e)},userListSearch:function(e){return this.HttpRequest.POST(d,e)}}},269:function(e,t){e.exports='<div class=taskmanage> <div class=topchoose> </div> <div class=filterarea> </div> <div class=btnarea> <a class="searchbtn fillBtn">查询</a> </div> <div class=tablearea> </div> </div> '},270:function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(n(65));var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.categories={fs:1,bl:2,qt:0,cs:3,sjk:4},n.apiData={page:1,pageSize:10,type:1,category:n.categories[e.parpam.type]},n.tablist=[{id:"fs",name:"放射科"},{id:"bl",name:"病理科"},{id:"qt",name:"其它"},{id:"cs",name:"测试"},{id:"sjk",name:"数据库"}],n.condition=[[{type:"text",name:"taskId",showname:"任务ID",datatype:"obj",data:[],key:"taskId",input:!0}],[{type:"selectTablePage",name:"taskIdList",showname:"任务名称",datatype:"obj",data:[],key:"taskIdList",searchApi:a.default.taskNamePageSearch,keywordName:"taskName",params:{projectType:-1!==window.location.hash.indexOf("taskmanage")?1:3},keyName:"taskId",valueName:"taskName",multiple:!0,out:!0,input:!0}],[{type:"dropdown",name:"algPreAnnotation",showname:"任务类型",datatype:"obj",data:[{val:"人工标注",idx:0},{val:"算法标注",idx:1}],key:"algPreAnnotation",out:!0}],[{type:"dropdown",name:"method",showname:"任务方式",datatype:"obj",data:[{val:"承包式",idx:1},{val:"开放式",idx:2}],key:"method",out:!0,input:!1}],[{type:"dropdown",name:"status",showname:"任务状态",datatype:"obj",data:[{val:"待发布",idx:"1"},{val:"进行中",idx:"2"},{val:"已完成",idx:"3"},{val:"已终结",idx:"4"}],key:"status",out:!0}],[{type:"dobuledropdown",name:"vendorIdList",showname:"所属公司",datatype:"obj",data:[],key:"vendorIdList",out:!0,input:!0}],[{type:"dropdown",name:"sicknessType",showname:"项目标签",datatype:"obj",data:Tool.configxlkformat(e.constmap.SICKNESS_TYPE),key:"status",out:!0}],[{type:"dropdown",name:"projectFunction",showname:"项目目标",datatype:"obj",data:Tool.configxlkformat(e.constmap.PROJECT_FUNCTION),key:"status",out:!0}],[{type:"dropdown",name:"projectTarget",showname:"项目用途",datatype:"obj",data:Tool.configxlkformat(e.constmap.ANNO_PROJECT_TARGET),key:"projectTarget",out:!0,input:!1}],[{type:"dobuledropdown",name:"projectIdList",showname:"所属项目",datatype:"obj",data:[],key:"projectIdList",out:!0,input:!0}],[{type:"dropdown",name:"userId",showname:"医生姓名",datatype:"obj",data:[],key:"userId",out:!0,input:!0}],[{type:"time",name:"inspectTime",showname:"",datatype:"obj",data:null,key:"inspectTime",out:!0}]],n.tableconfig={icon:{id:{name:"<span>任务ID</span>",type:"text",code:"checkid",w:"2%",ww:"2%",n:"22"},name:{name:"<span>任务名称</span>",type:"text",code:"pid",w:"10%",ww:"10%",n:"22"},assignVendors:{name:"<span>所属公司</span>",type:"text",code:"age",w:"5%",ww:"5%"},sicknessType:{name:"<span>项目标签</span>",type:"text",code:"age",w:"3%",ww:"3%"},seriesTotalNum:{name:'<span style="line-height: 20px;">序列总量<br>(*交叉次数)</span>',type:"text",code:"date",w:"3%",ww:"3%"},imageAnnoNum:{name:"<span>病灶数量</span>",type:"text",code:"nidusCount",w:"2%",ww:"2%"},seriesAvailableNum:{name:'<span style="line-height: 20px;">未标注序列数量<br>(包含交叉次数)</span>',type:"text",code:"date",w:"4%",ww:"4%"},seriesSubmittedNum:{name:'<span style="line-height: 20px;">已提交序列数量<br>(包含交叉次数)</span>',type:"text",code:"date",w:"4%",ww:"4%"},method:{name:"<span>任务方式</span>",type:"text",code:"pname",w:"4%",ww:"4%"},algPreAnnotation:{name:"<span>任务类型</span>",type:"text",code:"psex",w:"6%",ww:"6%"},projectName:{name:"<span>所属项目</span>",type:"link",code:"age",w:"6%",ww:"6%"},projectFunction:{name:"<span>项目目标</span>",type:"text",code:"age",w:"4%",ww:"4%"},projectTarget:{name:"<span>项目用途</span>",type:"text",code:"age",w:"6%",ww:"6%"},projectStatus:{name:"<span>项目状态</span>",type:"text",code:"age",w:"4%",ww:"4%"},status:{name:"<span>任务状态</span>",type:"text",code:"age",w:"4%",ww:"4%"},remark:{name:"<span>任务备注</span>",type:"text",code:"age",w:"5%",ww:"5%"},startTime:{name:"<span>开始日期</span>",type:"text",code:"positive",w:"5%",ww:"5%"},endTime:{name:"<span>结束日期</span>",type:"text",code:"shebei",w:"5%",ww:"5%"},createUserName:{name:"<span>创建人</span>",type:"text",code:"action",w:"5%",ww:"5%"},createTime:{name:"<span>创建日期</span>",type:"text",code:"action",w:"5%",ww:"5%"}},actionulwidth:200,minwidth:2800,type:"center",actionicon:{operation:{name:'<span data-i18n="action" data-name="操作">操作</span>',type:"action",code:"action",w:"100%",ww:"100%"}}},n.listicon={action:{config:{dis:"inline",link:"noLink",content:[]}},action1:{config:{dis:"inline",link:"noLink",content:[]}},action2:{config:{dis:"inline",link:"noLink",content:[]}},action3:{config:{dis:"inline",link:"noLink",content:[]}},action4:{config:{dis:"inline",link:"noLink",content:[]}},action5:{config:{dis:"inline",link:"noLink",content:[]}}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.modelBase),t}();e.exports=i},921:function(e,t,n){"use strict";t.a=function(e,t,n,a,i,o,r,s){var l,c="function"==typeof e?e.options:e;t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0);a&&(c.functional=!0);o&&(c._scopeId="data-v-"+o);r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i);if(l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}},932:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(933),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=i.a},933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(945));t.default={name:"ElTablePagination",inheritAttrs:!1,props:a.default,data:function(){var e=this;return{pagination:{pageNo:1,pageSize:function(){var t=e.pageSizes;return t.length?t[0]:20}()},filtersArg:{},sorter:{},total:0,loading:!1,tableData:[],originTableData:[]}},watch:{data:function(e){this.rebuildInitData(e)}},methods:{handleSortChange:function(e){"local"===this.type?this.emitEventHandler("sort-change",e):(this.sorter=e,this.fetchHandler())},handleFilterChange:function(e){"local"===this.type?this.emitEventHandler("filter-change",e):(this.filtersArg=e,this.fetchHandler())},handleSizeChange:function(e){this.pagination.pageSize=e,this.dataChangeHandler()},handleCurrentChange:function(e){this.pagination.pageNo=e,this.dataChangeHandler()},dataChangeHandler:function(){var e=this.type;"local"===e?this.dataFilterHandler(arguments[0]):"remote"===e&&this.fetchHandler(arguments[0])},dataFilter:function(e){var t=this.pagination,n=t.pageNo,a=t.pageSize;return e.filter(function(e,t){return t>=(n-1)*a&&t<n*a})},dataFilterHandler:function(e){var t=this.originTableData;this.total=t.length,this.tableData=this.dataFilter(t)},fetchHandler:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this.pagination,t=this.filtersArg,n=this.sorter;this.$emit("onchange",e,t,n)},emitEventHandler:function(e){this.$emit.apply(this,[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(arguments).slice(1))))},rebuildInitData:function(e){var t=this.type;if(!e)throw this.showPagination=!1,new Error("When the type is 'local', you must set attribute 'data' and 'data' must be a array.");var n=JSON.parse(JSON.stringify(e.list||[]));this.originTableData=n;var a=e.page,i=e.pageSize,o=e.total;this.total=o,this.pagination.pageNo=a,this.pagination.pageSize=i,this.tableData="local"===t?this.dataFilter(n):e.list},emitTableData:function(){this.$emit("emit-table-data",this.tableData)},selectRows:function(e){var t=this;e&&e.length&&e.forEach(function(e){t.$refs.table.toggleRowSelection(e)})},clearAllSelectedRows:function(){this.$refs.table.clearSelection()}}}},937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(938),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t.default=i.a},938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(939));function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default={inheritAttrs:!1,components:{TablePagination:a.default},props:{placeholder:{type:String,default:""},className:{type:String,default:""},disabled:{type:Boolean,default:!1},collapseTags:{type:Boolean,default:!0},value:{type:[String,Number,Array],default:""},remoteMethod:{type:Function,default:function(){}},data:{type:[Object,Array],default:function(){return{}}},type:{type:String,default:"local"},keyName:{type:String},valueName:{type:String},multiple:Boolean},data:function(){return{page:1,pageSize:10,selectValue:this.value,keyword:"",allChecked:!1}},computed:{isIndeterminate:function(){for(var e=this,t=this.data.list||[],n=this.selectValue||[],a=!0,i=0,o=function(o){var r=t[o][e.keyName],s=n.some(function(e){return e===r});if(s&&i++,!s&&(a=!1),i>0&&!a)return"break"},r=0;r<t.length;r++){if("break"===o(r))break}return this.allChecked=a,i>0&&!a}},watch:{selectValue:function(e){this.$emit("input",e)}},methods:{handleCheckAllChange:function(e){var t=this,n=this.data.list.map(function(e){return e[t.keyName]}),a=this.selectValue.slice();e&&(this.selectValue=Array.from(new Set([].concat(i(a),i(n))))),!e&&(this.selectValue=a.filter(function(e){return!n.includes(e)}))},handleSizeChange:function(e){this.pageSize=e,this.dataChangeHandler()},handleCurrentChange:function(e){this.page=e,this.dataChangeHandler()},handleFocus:function(e){!e.target.value&&this.keyword&&this.handleFilterMethod("")},dataChangeHandler:function(){this.queryRemoteList()},handleFilterMethod:function(e){this.page=1,this.keyword=e,this.queryRemoteList()},queryRemoteList:function(){var e=this.page,t=this.pageSize;this.remoteMethod&&this.remoteMethod({value:this.keyword,page:e,pageSize:t})},handleInput:function(e){this.$refs.selectTableRef.debouncedQueryChange(e)},setValue:function(e){this.selectValue=e}}}},939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(943),i=n(932);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var r=n(921),s=Object(r.a)(i.default,a.a,a.b,!1,null,null,null);s.options.__file="app/components/table-pagination/index.vue",t.default=s.exports},943:function(e,t,n){"use strict";var a=n(944);n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return a.b})},944:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",e._g(e._b({directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"table",staticClass:"el-table-input-wrapper",style:e.tableStyle,attrs:{"show-overflow-tooltip":e.showOverflowTooltip,stripe:e.stripe,data:e.tableData},on:{"sort-change":e.handleSortChange,"filter-change":e.handleFilterChange}},"el-table",e.$attrs,!1),e.$listeners),[e._t("default")],2),e._v(" "),e.showPagination?n("div",{staticClass:"el-pagination-wrapper",staticStyle:{"text-align":"right"}},[n("el-pagination",{attrs:{background:e.pageBackground,small:e.pageSmall,"hide-on-single-page":e.hideOnSinglePage,"current-page":e.pagination.pageNo,"page-sizes":e.pageSizes,"page-size":e.pagination.pageSize,layout:e.paginationLayout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)},i=[];a._withStripped=!0},945:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={tableStyle:{type:String,default:""},type:{type:String,default:"remote",validator:function(e){var t=-1!==["remote","local"].indexOf(e);if(!t)throw new Error("Invalid type of '"+e+"', please set one type of 'remote' or 'local'.");return t}},data:{type:Object},onChange:{type:Function},showPagination:{type:Boolean,default:!0},pageSizes:{type:Array,default:function(){return[10,20,50,100]}},paginationLayout:{type:String,default:"total, prev, pager, next, jumper, sizes"},pageBackground:{type:Boolean,default:!0},pageSmall:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},stripe:{type:Boolean,default:!0},showOverflowTooltip:{type:Boolean,default:!0}};t.default=a},956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(958),i=n(937);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);n(960);var r=n(921),s=Object(r.a)(i.default,a.a,a.b,!1,null,null,null);s.options.__file="app/components/select-table-page/index.vue",t.default=s.exports},958:function(e,t,n){"use strict";var a=n(959);n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return a.b})},959:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._g(e._b({ref:"selectTableRef",class:e.className+"  select-table-page-wrapper",attrs:{"popper-class":"select-table-page-popper","filter-method":e.handleFilterMethod,multiple:e.multiple,"collapse-tags":e.collapseTags,filterable:"",clearable:"","reserve-keyword":"","default-first-option":"",disabled:e.disabled,placeholder:e.placeholder},on:{focus:e.handleFocus},nativeOn:{input:function(t){return e.handleInput.apply(null,arguments)}},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},"el-select",e.$attrs,!1),e.$listeners),[e.multiple?n("div",[n("el-checkbox",{staticClass:"check-all",attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}},[e._v("全选")])],1):e._e(),e._v(" "),n("div",{staticClass:"options-wrapper"},e._l(e.data.list,function(t){return n("el-option",{key:t[e.keyName],attrs:{label:t[e.valueName],value:t[e.keyName]}})}),1),e._v(" "),n("el-pagination",{staticClass:"pagination-wrapper",attrs:{layout:"total, prev, pager, next","hide-on-single-page":"","current-page":e.page,"page-size":e.pageSize,total:e.data.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}})],1)},i=[];a._withStripped=!0},960:function(e,t,n){"use strict";var a=n(961);n.n(a)},961:function(e,t,n){var a=n(962);"string"==typeof a&&(a=[[e.i,a,""]]);var i={transform:void 0};n(705)(a,i);a.locals&&(e.exports=a.locals)},962:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".select-table-page-wrapper {\n  padding: 0;\n  border-radius: 4px;\n  border: 0;\n}\n.select-table-page-wrapper .select-table-input {\n  min-width: 300px;\n}\n.select-table-page-popper.el-select-dropdown .check-all {\n  padding-left: 20px;\n}\n.select-table-page-popper.el-select-dropdown .el-select-dropdown__wrap {\n  max-height: unset;\n}\n.select-table-page-popper.el-select-dropdown .el-select-dropdown__list {\n  display: flex;\n  flex-direction: column;\n}\n.select-table-page-popper.el-select-dropdown .el-select-dropdown__list .options-wrapper {\n  max-height: 340px;\n  overflow-y: auto;\n}\n.select-table-page-popper.el-select-dropdown .el-select-dropdown__list .pagination-wrapper {\n  width: 100%;\n  height: 32px;\n  background: #fff;\n  margin-top: 0;\n}\n.select-table-page-popper.el-select-dropdown .el-select-dropdown__list .pagination-wrapper .el-pager li {\n  min-width: 27.5px;\n}\n.filterarea .select-table-page-wrapper {\n  min-width: 360px;\n}\n.filterarea .select-table-page-wrapper .el-input__inner {\n  height: 34px;\n  line-height: 34px;\n}\n.filterarea .select-table-page-wrapper .el-input__icon {\n  line-height: 34px;\n}\n.filterarea .select-table-page-wrapper .el-input__inner::-webkit-input-placeholder {\n  font-size: 12px;\n  color: #757575;\n}\n",""])}});