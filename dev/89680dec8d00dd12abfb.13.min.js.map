{"version":3,"sources":["webpack:///./app/pagesmodel/mark.js","webpack:///./app/pagesmodel/base/mark_base.js","webpack:///./pages/mark.html","webpack:///./app/less/mark.less?448b","webpack:///./app/pages/mark.js","webpack:///./app/api/mark.api.js","webpack:///./app/utils/cornerstone_class.js","webpack:///./app/modules/ctcornerstone/ctcornerstone.less?5834","webpack:///./app/modules/crossline/crossline.js","webpack:///./app/modal/magicloading/magicloading.js","webpack:///./app/modal/progress/progress.js","webpack:///./app/modules/ctcornerstone/ctcornerstone_base.js","webpack:///./app/modules/ctcornerstone/ctcornerstone.less","webpack:///./app/modules/ctcornerstone/tpl.html","webpack:///./config/cornerstoneTool_config.js","webpack:///./app/modules/ctcornerstone/manager.js","webpack:///./app/modules/ctprogress/ctprogress.js","webpack:///./app/modules/ctprogress/ctprogress.less?767f","webpack:///./app/modules/ctprogress/ctprogress.less","webpack:///./app/modules/ctprogress/tpl.html","webpack:///./app/modules/ctcornerstone/brush_manager.js","webpack:///./app/modules/ctcornerstone/setcomfig_tool.js","webpack:///./app/utils/baselinebak.js","webpack:///./app/utils/baseline.js","webpack:///./app/modules/ctcornerstone/ctcornerstoneload.js","webpack:///./app/modules/ctcornerstone/ctcornerstone_model.js","webpack:///./app/modules/crossline/crossline.less?377d","webpack:///./app/modules/crossline/crossline.less","webpack:///./app/modules/crossline/tpl.html","webpack:///./app/libs/cornerstoneTools/rectangleRoi.js","webpack:///./app/libs/cornerstoneTools/length.js","webpack:///./app/libs/cornerstoneTools/magnify.js","webpack:///./app/libs/cornerstoneTools/brush.js","webpack:///./app/libs/cornerstoneTools/brushTool.js","webpack:///./app/libs/cornerstoneTools/simpleAngle.js","webpack:///./app/libs/cornerstoneTools/ellipticalRoi.js","webpack:///./app/libs/cornerstoneTools/lengths.js","webpack:///./app/libs/cornerstoneTools/zoom.js","webpack:///./app/modules/mpr/mpr.js","webpack:///./app/modules/mpr/mpr.less?2036","webpack:///./app/modules/mpr/mpr.less","webpack:///./app/modules/mpr/tpl.html","webpack:///./app/modules/mpr/makeJPG.js","webpack:///./app/modules/sequencelist/sequencelist.js","webpack:///./app/modules/sequencelist/sequencelist.less?0d47","webpack:///./app/modules/sequencelist/sequencelist.less","webpack:///./app/modules/sequencelist/tpl.html","webpack:///./app/modules/serieslist/serieslist.js","webpack:///./app/modules/serieslist/serieslist.less?4315","webpack:///./app/modules/serieslist/serieslist.less","webpack:///./app/modules/serieslist/tpl.html","webpack:///./app/modules/nidusinfo/nidusinfo.js","webpack:///./app/modules/nidusinfo/nidusinfo.less?426e","webpack:///./app/modules/nidusinfo/nidusinfo.less","webpack:///./app/modules/nidusinfo/tpl.html","webpack:///./app/modules/report/report.js","webpack:///./app/modules/report/report.less?6ead","webpack:///./app/modules/report/report.less","webpack:///./app/modules/report/tpl.html","webpack:///./app/modules/ctcornerstone/ctcornerstone_view.js","webpack:///./app/modules/ctcornerstone/ctcornerstone.js","webpack:///./app/modules/ctcornerstone/freedhand.js","webpack:///./app/modules/cttool/cttool.js","webpack:///./app/pages/base/mark_base.js","webpack:///./app/modules/cttool/cttool.less?b8c5","webpack:///./app/modules/cttool/cttool.less","webpack:///./app/modules/cttool/tpl.html","webpack:///./app/modules/cttool/cttool_model.js","webpack:///./app/modules/cttool/manager.js","webpack:///./app/modules/cttool/freedhand.js","webpack:///./app/modules/thumbnailprogress/thumbnailprogress.js","webpack:///./app/modules/thumbnailprogress/thumbnailprogress.less?792d","webpack:///./app/modules/thumbnailprogress/thumbnailprogress.less","webpack:///./app/modules/thumbnailprogress/tpl.html","webpack:///./config/toolmenu_config.js","webpack:///./app/modules/dicommenu/dicommenu.js","webpack:///./app/modules/dicommenu/dicommenu.less?bda2","webpack:///./app/modules/dicommenu/dicommenu.less","webpack:///./app/modules/dicommenu/tpl.html","webpack:///./app/modules/rangetextchoose/rangetextchoose.js","webpack:///./app/modules/rangetextchoose/rangetextchoose.less?0056","webpack:///./app/modules/rangetextchoose/rangetextchoose.less","webpack:///./app/modules/rangetextchoose/tpl.html","webpack:///./app/modal/setyz/setyz.js","webpack:///./app/modal/setyz/setyz.less?45a6","webpack:///./app/modal/setyz/setyz.less","webpack:///./app/modal/setyz/tpl.html","webpack:///./app/modal/progress/progress.less?d71b","webpack:///./app/modal/progress/progress.less","webpack:///./app/modal/progress/tpl.html","webpack:///./app/modal/seriessubmit/seriessubmit.js","webpack:///./app/modal/seriessubmit/seriessubmit.less?6810","webpack:///./app/modal/seriessubmit/seriessubmit.less","webpack:///./app/modal/seriessubmit/tpl.html","webpack:///./app/modal/magicloading/magicloading.less?7331","webpack:///./app/modal/magicloading/magicloading.less","webpack:///./app/modal/magicloading/tpl.html","webpack:///./app/modal/removeseries/removeseries.js","webpack:///./app/modal/removeseries/removeseries.less?5de1","webpack:///./app/modal/removeseries/removeseries.less","webpack:///./app/modal/removeseries/tpl.html","webpack:///./app/less/mark.less"],"names":["markmodel","app","id","value","postData","annotationItemResultList","i","data","result","String","lastIndexOf","split","filter","item","toString","push","annotationItemId","formComponentId","handles","needbian","console","log","seriesInfo","sId","info","type","sp","pixelSpacing","x","end","start","y","z","mind","Math","min","abs","maxd","max","direction","JSON","stringify","minx","maxx","miny","maxy","startAll","parse","endAll","point1","point2","startAll1","middleAll1","middle","endAll1","point3","length","lineA","angle","nowH","map","Tool","calAngel","startAll12","middleAll12","middleAll22","middle1","endAll12","point4","bord","points","ct","wwc","hight","low","round","MarkModel","module","exports","___auto","taskInfo","projectInfo","cachelist","seriesResult","series_result_id","seriesAnnotationResultId","seriesInstanceUid","userInfo","doneNum","toolInfo","loadData","total","num","res","err","uuid","backId","setDataType","imageAnnotationToolType","layerNumber","tooltype","toolType","imageAnnotationToolId","imageAnnotation","imageAnnotationType","imageAnnotationId","itemw","point","random","images","flag","newImages","number","urlWAN","urlWan","fileType","modality","Interstellar","modelBase","window","markview","api","dom","model","task_read","parpam","done","find","eq","html","name","studyAnno","cornerstoneContorl","close","dicommenu","resetAll","loading","show","startTask","series_result_search","taskId","serialNumber","sid","userId","useinfo","hide","list","discardCode","str","discardReason","temp","seriesInstanceUids","studyInstanceUid","needAnno","seriesList","setData","click","series_get","code","location","href","host","reload","taskStatus","serLength","sarIdList","series","imageList","imageIdList","endInfo","series_result_act_record","userRecord","lists","series_result_read","remark","that","event","_addEvent","sarId","seriesInfoData","nee","makeJsonToBackend","image_result_create","updataSequencelist","image_result_update","image_result_delete","ids","getSarIds","changeItemDataToBackend","series_result_item_edit","image_result_item_edit","chooseData","dataToolType","infoData","hu","alert","title","msg","removeSequencelist","closeSure","sure","ctVal","isNaN","val","e","detail","currentPoints","image","imgsTotal","backData","getpoints","threshUp","threshDown","magicloadingClass","require","magicloading","loadModal","adv","j","studyInstanceUID","seriesInstanceUID","magicToolCerate","param","imgToolId","resCreate","magicToolRead","iarId","resRead","baseMagicTranData","footer","base64","src","replace","LESION","configxlkformat","constmap","who","idx","returnListAnno","setTimeout","anno_iar_update","imageData","changeImageToBase64","submitData","rid","image_process_item_edit","changeImage","then","anno_iar_create","brush","x1","document","createElement","tempI","Image","deferred","ES","Deferred","onload","rate","width","floor","height","setAttribute","ctx","getContext","drawImage","resolve","toDataURL","apineed","newdata","setbrush","alertSubmit","series_discard","des","on","needSub","xi","submitSeries","pading","vid","yayAttributes","startSubmit","conmponentInfo","nidusComponentInfo","allnid","allnidussubmit","imageAnnotationResultList","optionLength","wn","optional","w","errorShow","idsAll","aaa","numa","alerError","series_submit","now","allitem","all","nowS","componentName","ww","series_result_submit","node","openSequenceNode","configobjformat","MarkBase","sys_transfer","HttpRequest","POST","st","tokentime","token","ajax","url","domain1","dataType","contentType","questring","response","apiresult","reject","project_basic_read","alg_sar_reset_mask_image","project_anno_read","project_series_search","series_read","domain","series_origin_detail","image_query","series_cache","series_result_create","series_result_query","image_process_batch_read","image_process_delete","anno_iar_read","anno_iar_delete","series_result_yayAttributes","Cornerstone_Class","initData","colwDefault","colcDefault","removeId","thickness","distanceStart","newImgOrender","spsec","calculationCars","Array","stepPage","scroll","undefined","imgType","moveAllElementData","modifyCount1","Object","modifyCount2","modifyDate1","element","nodeArray","imageAddress","axialStack1","currentImageIdIndex","index","imageIds","preventCache","nowloadNum","perload","burshChoose","movelist","init","cornerstone","getEnabledElements","nnowE","selctorDoc","attr","loadAndViewImage","buildUrl","loadImage","loadCurrentCount","baseUrl","maxCount","loadCache","after","loadAfterCount","afterMax","befor","layerCount","noduleId","page","buildUrlLoad","slice","layer","tempA","getLenStr","n","s","pow","randomLength","Number","substr","Date","measurementData","GenNonDuplicateID","_dispatch","tempHandles","y1","x2","y2","dx","spsecX","dy","spsecY","sqrt","toFixed","getLayerNum","splitHandle","elementT","changewindow","cornerstoneTools","getToolState","zoomFan","displayImage","el","imageId","isLoad","isInit","offsets","Map","enable","mouseInput","mouseWheelInput","mousePos","addEventListener","onNewImage","onImageRendered","cornerstonetoolsmeasurementmodified","cornerstonetoolsmeasurementadded","onlyClose","cornerstonemeasurementremoved","cornerstonetoolsmousewheel","buttons","button","cornerstonetoolsmouseclick","cornerstonetoolsmousedownactivate","cornerstonetoolsmousemove","cornerstonetoolsmousedrag","cornerstonetoolsmousedown","cornerstonetoolsmouseup","cornerstoneactivelayerchanged","cornerstonelayeradded","viewport","getDefaultViewportForImage","voi","windowWidth","windowCenter","addStackStateManager","addToolState","ellipticalRoi","deactivate","pan","activate","stackScrollWheel","removePartData","eventData","getViewport","canvasContext","currentCount","columnPixelSpacing","rowPixelSpacing","v","beforehandCacheLoad","setViewport","rectangleRoi","simpleAngle","alignment","arr","setUUidData","isdis","zoom","disable","wwwc","magnify","probe","imageCache","cachedImages","resize","c","disableAllTools","updateImage","clearToolState","removeToolState","remove","crossline","addMode","xy","xyChange","pageX","pageY","nowpos","css","transform","parent","h","cWidth","box","clientWidth","cHeight","clientHeight","scaleT","style","moduleBase","progress","initDate","modalBase","pr","timeSt","setInterval","makeprogress","clearInterval","ctcornerstone_base","addMore","sceen","choosescreen","cornerstoneArray","nowWWC","makeStudy","nidusSigle","cornerstoneTools_config","drawInfo","ctProgress","brushManage","setoolconfig","baseLine","crossLine","clearLayer","nodeInfo","initFrist","brushC","nodeShow","toolColors","setToolColor","setconfig","ellipticalRoi_config","rectangleRoi_config","setConfiguration","magnify_config","cornerstoneWADOImageLoader","external","mprClass","moduleLoad","sequenceC","ctmenu","sequenceList","initSeriesLists","class_c","nidusinfo","nidusControl","loadModule","nidusChoose","nidusComponentData","jiangui","imageRemark","remarkRes","nidusControlAll","serinfo","nowmpr","openS","mpr","gid","crossOpen","baseLineOpen","gotoLayer","creatCrossLine","removeCrossLine","crossArray","screenPoint","returnScreenPoint","setPos","setXYLinePos","setYHeight","returnRealPoint","stPos","getStartPos","scale","imagePoint","crossmove","changePOint","nowLayNum","calCrossLine","sort","newXY","returnXY","screenPoint1","nowSid","endXYZ","newxy1","disInfo","people","referent","imageOrientationPatient","ImageOrientationPatient","imagePositionPatient","convert","column","row","newDis","dis","endData","getSagPoint","newxy","funcNodule","orw","displayedArea","brhc","orh","translation","report","markdoctor","tt","allresult","doctorNidduleAll","assign","seriesRemark","auditResult","nowLine","convertData","referentLay","bid","closeMark","showClose","classValue","sequencelists","initsingle","imgs","major","sequencelist","showNowData","clearRemark","changeD","axialImageIdss","restSignleIdFill","rSId","getInfo","doneSingleChange","sIdA","layerid","restSignleId","restSignleIdShow","hash","drawNode","renderStage","toolData","getAllState","clearSigleData","info1","niddtype","objetClone","layerNum","cancel","clone","restChooseColor","makeInfo","orginFileType","infoAll","restNowImageOnLayer","getTime","allShow","deleteNode","currentSeriesId","getSid","currentSeriesEl","$","has","append","currentSeriesSequenceListEl","markedIconEl","updateSequencelistSid","setNname","returnAnno","changeColorById","childrens","sData","daa","tempD","getMeasurement","linItem","setInfo","orginannotationItemResultList","doctorName","setBackId","removeNode","nowplayData","openNode","totalImage","baseData","timeLoad","setScreen","keyCode","controlename","con","layers","getIndex","quickselect_config","deviation","makeCicle","prepend","cid","resetAllData","changeToName","imageType","toLowerCase","newArray","urlA","setImageData","changeLayeIdTime","layserId","getRate","getDicomValue","ctEvent","removeInfo","splice","endDone","off","nowData","geSiglneState","layarr","imglist","allload","img","crossOrigin","creatNewImage","brushFan","onerror","setLayerInfo","key","controlStauts","delete","doneDelete","delbrush","ctArray","haveScreen","active","stauts","clearData","nid","nidA","brush_config","radius","freehand_config","lineWidth","polygon_config","distance","funName","clickById","now_config","defaultFunction","eval","changeWWCImage","lungWindown","mindata","range","xyinfo","HU","toolDataClear","dataArray","clearSigleFan","removeAll","deleteAll","cw","ch","layout","getLayout","t","calflow","cornerstoneTool_config","areaDisplayFlag","nameDisplayFlag","drawHandlesOnHover","rectangle_text_config","length_config","displayMean","displayText","line_config","magnifySize","magnificationLevel","draw","hoverColor","dragColor","earse_config","regionpaint_config","manager","singelId","getSigleId","brushInfo","pushnow","returnInfo","allData","itemId","CtProgress","valH","topValue","dowpagex","progressPos","numPos","totalHeight","barHeight","imageLists","stopPropagation","layerId","pox","offsetHeight","setBarHeight","setPosBar","brushManager","brushIdInfo","brushlength","aplha","colorMap","layerLists","obj","bId","r","newid","getroundpoint","brushIdInfoSet","creatImage","fill","color","wh","orginimage","canvas","imgData","getImageData","putImageData","imgurl","needScale","dataA","resetColor","calPoint","len","selfNode","nodeId","doneId","cancelId","endId","brushInfoLayer","roation","layerArray","brushInfoArray","allrest","imgArr","colorA","fillSt","boud","fourpd","up","right","left","down","sx","sy","d","rand","oldConfig","oldConfig1","getConfiguration","lineMeanConfig","configuration","oldConfig11","BaseLine","backImageOrientationPatient","nowMetix","makeMetix","backMetix","AInverse","getPoint","a","b","allline","getfourline","pointAll","pointA","getlineIntersection","endA","orginXYZ","mm","getMaxMin","Metix","orgin","multiply","backxy","orginMaxx","orginMinx","orginMaxy","orginMiny","orginMaxz","orginMinz","pointA1","getXYZ","lt","pointA2","rt","pointA3","lb","pointA4","rb","line","z1","z2","line1","getlineEquation","line2","line3","line4","l1","l2","l3","l4","value1","metixAll","iop","ipp","change","transpose","nowXYZ","convertF","allpoint","newMetix","x4","y4","z4","x5","y5","endpoint","ctcornerstoneload","registerImageLoader","numPixels","pixelData","aaaimg","getPixelData","getCanvas","getImage","setPixelData","minPixelValue","maxPixelValue","slope","intercept","render","renderWebImage","rows","columns","Wretched","rgba","invert","sizeInBytes","promise","Promise","imgase","fileTypeName","cancelFn","loadGlayImage","numw","match","ratey","depth","targetInfo","ratex","imageData1","orginI","pixImage","minW","wc","maxW","dataNum","ctmanage","pos","allcolor","config","chooseHU","returnscore","dataf","da","chooseC","hudata","screen","top","p","rmean","R","G","B","stack","returnPoint","pop","compareColors","radiu","px","py","mouseButtonTool","toolStyle","drawHandles","calculateSUV","drawTextBox","drawRect","drawing","getNewContext","setShadow","keyboardTool","createNewMeasurement","mouseEventData","visible","invalidated","highlight","textBox","hasMoved","movesIndependently","drawnIndependently","allowedOutsideImage","hasBoundingBox","rectangleRoiend","pointNearTool","coords","startCanvas","pixelToCanvas","endCanvas","rect","distanceToPoint","cornerstoneMath","calculateMeanStdDev","ellipse","sum","sumSquared","count","mean","variance","stdDev","numberWithCommas","parts","join","currentTarget","getToolWidth","seriesModule","metaData","get","imagePlane","colPixelSpacing","rowImagePixelSpacing","colImagePixelSpacing","context","getColorIfActive","handleOptions","drawHandlesIfActive","area","meanStdDev","meanStdDevSUV","pixels","getPixels","text","textBoxText","textCoords","options","centering","textLines","moSuffix","meanText","stdDevText","SUVtext","suffix","fromCharCode","areaText","textBoxAnchorPoints","drawLine","lineSegDistance","lineSegment","lengthend","xOffset","midpoint","EVENTS","getBrowserInfo","isMouseButtonEnabled","setToolOptions","getToolOptions","fillBox","clip","high","clipToBox","browserName","zoomCanvas","zoomElement","mouseUpCallback","removeEventListener","MOUSE_DRAG","dragCallback","MOUSE_UP","MOUSE_CLICK","hideTool","querySelector","display","body","cursor","removeZoomElement","mouseDownCallback","isTouchEvent","which","mouseButtonMask","TOUCH_DRAG","TOUCH_END","NEW_IMAGE","newImageCallback","drawZoomedElement","requestAnimationFrame","drawMagnificationTool","preventDefault","dragEndCallback","TOUCH_DRAG_END","magnifyCanvas","createMagnificationCanvas","magnifyend","getSize","canvasLocation","clearRect","boundingBox","copyFrom","qiege","globalCompositeOperation","fillStyle","arc","PI","save","strokeStyle","stroke","classList","add","position","appendChild","removeMagnificationCanvas","removeChild","enabledElement","getEnabledElement","origCanvas","zoomEnabledElement","MOUSE_DOWN","infoString","newbrush","brushTool","getCircle","xCoord","yCoord","x0","y0","circleArray","drawBrushPixels","pointerArray","storedPixels","brushPixelValue","getPixelIndex","forEach","spIndex","drawBrushOnCanvas","canvasPtTL","canvasPtBR","sizeX","sizeY","canvasPt","TOOL_STATE_TOOL_TYPE","minRadius","maxRadius","lastImageCoords","dragging","autoplay","paint","getLayer","brushLayerId","invalid","onMouseUp","onMouseDown","onMouseMove","onDrag","setTransform","clear","getAllId","newbrushTool","brushToolInterface","imageLayerId","keyDownCallback","imageNeedsUpdate","keyDownChangeToolSize","keyDownChangeSegmentation","decreaseRadius","increaseRadius","previousSegmentation","nextSegmentation","changeDrawColor","drawId","colormap","colors","getColormap","colormapId","colorArray","getColor","numberOfColors","getNumberOfColors","mouseMoveCallback","mouseDownActivateCallback","Uint8ClampedArray","setBrushColormap","setNumberOfColors","setColor","IMAGE_RENDERED","MOUSE_DOWN_ACTIVATE","MOUSE_MOVE","KEY_DOWN","labelMapImage","labelmap","pixelReplication","addLayer","newsimpleAngle","textStyle","anyHandlesOutsideImage","moveNewHandle","drawJoinedLines","textBoxWidth","padding","font","getFont","origFont","measureText","roundToDecimal","precision","multiplier","angleData","vector","handleStartCanvas","handleMiddleCanvas","sideA","ceil","sideB","sideC","sideALength","sideBLength","sideCLength","acos","rAngle","textWidth","internal","getTransform","transformPoint","parseInt","addNewMeasurement","addNewMeasurementTouch","touchEventData","simpleAngleTouch","touchMoveCallback","TOUCH_START_ACTIVE","touchDownActivateCallback","TOUCH_START","touchStartCallback","TAP","tapCallback","moveNewHandleTouch","pointInEllipse","calculateEllipseStatistics","drawEllipse","ellipticalRoiend","pointNearEllipse","minorEllipse","majorEllipse","pointInMinorEllipse","pointInMajorEllipse","pointNearToolTouch","lengths","sxy","mxy","m1xy","exy","simpleMouseButtonTool","touchDragTool","touchPinchTool","mouseWheelTool","clipToBoxnow","mouseButton","startPoints","changeViewportScale","ticks","oldFactor","factor","maxScale","minScale","correctShift","shift","hflip","vflip","rotation","cosA","cos","sinA","sin","newX","newY","defaultStrategy","newCoords","pageToPixel","translateStrategy","translateSpeed","outwardsMinScaleToTranslate","minTranslation","preventZoomOutsideImage","desiredTranslation","distanceToDesired","zoomToCenterStrategy","deltaPoints","strategy","mouseWheelCallback","touchPinchCallback","scaleChange","strategies","default","translate","zoomToCenter","imageS","modelImage","firstWindowCenter","firstWindowWidth","xUrl","yUrl","zUrl","loadAll","loadSing","firse","minS","maxS","nowId","nowVO","renderXYZ","aa","allmove","brushInfoAll","brushNodes","nodeA","fliterNodes","beginPath","mozImageSmoothingEnabled","chooseNidus","strokeRect","rx","ry","moveTo","lineTo","clearAllData","atype","resizeCon","renderAllLayer","MakeJPG","imgaeIds","startNum","toLocaleLowerCase","jpgParse","fiveLoad","urls","fiveL","dcmParse","div","urlAddress","string","arrData","Int16Array","HUDATA","lengthWH","Uint8Array","myScrollgood","loadId","listData","currentSid","isSortByDoctor","sortBtnDom","sortNidusList","sortBy","nidusDomList","$a","$b","sortByAttrA","sortByAttrB","charCodeAt","tempObj","$item","prev","sortByAttr","scrollToChooseItem","chooseDom","containerHeight","offset","scrollToElement","initscrollgood","handleSortBtnVisible","includes","trigger","addNode","addClass","nidusDesc","addNormal","classname","brushtype","li","htmlstr","markResult","markResultValue","btnClick","childrenDom","targetA","cc","hasClass","removeClass","nowTarget","domA","childThis","hasclass","studyId","sequenceName","refresh","IScroll","scrollbars","mouseWheel","interactiveScrollbars","hideScrollbar","vScrollbar","shrinkScrollbars","fadeScrollbars","disableMouse","disablePointer","SeriesList","htmlStr","imgInfo","hasMarked","scrollX","doctorResult","btnEvent","myScrollgood1","modalneed","showReport","reporta","reportControl","blur","mark","dragCanvase","dealnidus","doctorId","makeMarkScroe","makeOption","codeResult","keys","initScoll","str1","paxu","is","sequence","returnHtmlDOM","makeBtn","toDoneCompend","dropdown","woptions","firstSelect","componentData","optionname","componentParameter","isdefault","guojihua","firstchildren","className","componentId","syncResult","orginComp","ctype","domstr","relation","conclusion","newSorle","finding","ctcornerstone","showWWC","makeBaseLine","timeD","xDate","hashText","fontSize","xA","showNum","fillText","layersNum","item1","nx","ny","itptem","freehand","items","drawImg","nowCOlor","getAlllayer","ex","ey","startX","startY","handel","pointArray","rangel","brushId","updateAllCanvas","creatBrush","endPath","noneClosePath","cobbAdd","setSpliceUUID","xmax","xmin","ymax","ymin","guid","pianyi","makeCiclePoint","setBrush","avalue","nowbackName","toUpperCase","pointEnd","creatPath","drawPath","removeBrush","target","mousemoveView","makeBrushCicle","typeC","showRadius","ntype","drawneed","dataTool","tempLineA","spx","spy","x3","y3","handlesLen","drawAlignment","textshow","rightA","freedhand","lw","craetCanvas","cd","donePoint","arrmove","newArr","dataIndex","closePath","Model","hitArea","createjs","Shape","graphics","beginFill","_pathSize","tpLoad","getElementById","thumbnailprogress","tpControl","moveBoX","stage","mouseX","_vpCanvasInfo","mouseY","scaleCanvas","call","setContainerPos","spos","nowImageLevel","level","pathSize","handlerImageLoad","scaleBox","orginImgSizes","segmentationInfo","initBreviaryImg","initImgCanvas","path","bitmapPos","makeSingleBitmap","imagePool","bitmap","Bitmap","container","addChild","bitmapNumx","bitmapNumy","_section","bx","by","numberList","k","queryImgs","windowType","makeImage","bit","blank","isScale","nativeEvent","dragOffset","craetData","moveX","moveY","editLine","endDraw","borderColor","shape","beginStroke","setStrokeStyle","imageLeftPoint","evt","drawData","calSaveXYPos","father","child","prePoint","creatShape","drawPos","calXYPos","modelD","calGetMinDistance","drawPoss","returnNull","calShowXYPos","removeData","reDrawShape","p0","p1","size","getCanvasSize","Stage","Container","onmousewhee","onmousewheel","delta","wheelDelta","opera","leftTopX","leftTopY","orginImg","_orginImgSizes","colnum","back","backImageNumber","makeShowArea","changProgress","changeNum","_changeRange","cr","getColRow","col","boxpos","update","datae","local","nowTaskOver","imageDataType","cornerstoneLoad","styleModel","dicommenuLoad","modalLoad","baseApi","start_series","annotationIteminit","setWWC","defaultWWC","seriesInfoNum","seriesResultNum","cornerstoneStart","listInit","cornerstoneClass","stopAll","makeWwC","huValue","cornerstoneContorlOther","configTool","tool_user","closeYY","menuChoose","fun","wl","seriesImgFileType","getwwc","getMMCImage","sinfo","windowCenterUpper","windowWidthUpper","wwc1","segThreshold","creatAllPoint","clickChoose","openRemove","openmpr","controlNodeShowHide","setConfigByDicommeun","baseLineSt","imagesAll","SMALL","LARGE","progressClass","alertS","projectId","apiload","tool","imageAnnotationList","toolList","openadd","annotationItemList","translateData","teampData","getSeriesAllImage","result_get_fromback","service","method","params","jpgInfo","discaseToDone","tdata","large","jpgInfoLarge","small","jpgInfoSmall","getPeoplePostion","urlPath","posNum","audito_result_get_fromback","hasYay","openYY","need","translateBackData","sIdcon","seriesUid","annoResultList","addDoctorSocre","setYY","audit_annoitem_update","resultList","changeItemDataToBackendCheck","isYayAttributes","penRealy","initCT","studyInfo","reslutData","tempImageAnnotationResultList","translateDataReslut","concat","largeFigure","setSequenceLists","closeSequenceLists","setSequence","setSeriesNidusData","getAllimageData","seriesResultData","open","anId","needFlag","cloneData","whichModel","otherSid","serInfo","getImagesBack","getImages","judgeX","needApiAll","seriesResultId","createId","orignwc","def","removeseries","discardList","remove_s","class","sorce","showError","componentType","hasnull","array","pagesBase","crl","viewPortColRow","seriesNext","getBlankImg","breviaryImg","_breviaryImgBorder","beforeImages","afterImages","vp","setPrivate","innerWidth","innerHeight","nowwidth","maxWidth","returnRate","xd","yd","rangeX","rangeY","f","nowRange","ThumbnailProgress","imageSrc","posObect","thumbnail","ev","changeX","changeY","dragDivPos","getClientRects","xyA","innerHTML","posY","levelFenduan","jg","translates","nowscale","dragDivCss","marktool_config","normal","earse","magicStickSingle","polygon","quickselect","regionpaint","copd","sub","cobb","upstep","nextstep","rest","proe","rectangle_text","light","wl_text","del","layer_del","all_del","yinyang","next_task","WINDOW","children","initRange","inputName","btn_event","rangechoose","configArr","temprangechoose","synchronization","classObject","copdVal","localStorage","setItem","allClass","setAllData","toBtn_choose","removeAttr","setyz","setyzControl","property","yzmin","yzmax","userChoose","btnStauts","htmlS","ctlist","moveDis","nowParam","startPos","nowPos","setInputVal","initAll","whoIn","calReturnValue","downpagex","offsetX","changeEvent","chaju","ran","hint","template","Function","noshadow","resetbody"],"mappings":"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","file":"89680dec8d00dd12abfb.13.min.js","sourcesContent":["class markmodel extends MarkModel {\n    constructor(app) {\n            super(app)\n        }\n        //将组件数据翻译后端需要的数据格式进行提交\n    changeItemDataToBackend(id, value) {\n        let postData = {}\n        postData.id = id\n        postData.annotationItemResultList = []\n        for (var i in value) {\n            let data = value[i].result\n            if (String(value[i].result).lastIndexOf(',') != -1) {\n                data = value[i].result.split(',').filter((item) => {\n                    return item\n                }).toString()\n            }\n            postData.annotationItemResultList.push({\n                annotationItemId: i,\n                formComponentId: value[i].formComponentId,\n                result: data\n            })\n        }\n        return postData\n    }\n\n    //翻译影像标注结果提交给到后端\n    makeJsonToBackend(value, handles, needbian) {\n            let result\n            console.log(this.seriesInfo[value.sId].info.data)\n            switch (value.type) {\n                case \"ELLIPSE\":\n                    let sp = this.seriesInfo[value.sId].info.data.pixelSpacing ? this.seriesInfo[value.sId].info.data.pixelSpacing[0] : 1\n                    result = {\n                        x: (handles.end.x + handles.start.x) / 2,\n                        y: (handles.end.y + handles.start.y) / 2,\n                        z: handles.end.z,\n                        mind: Math.min(Math.abs(handles.end.x - handles.start.x), Math.abs(handles.end.y - handles.start.y)) * sp,\n                        maxd: Math.max(Math.abs(handles.end.x - handles.start.x), Math.abs(handles.end.y - handles.start.y)) * sp,\n                        direction: JSON.stringify({\n                            x: Math.abs(handles.end.x - handles.start.x),\n                            y: Math.abs(handles.end.y - handles.start.y),\n                            z: 0\n                        })\n                    }\n                    if (needbian) {\n                        result.x = result.x * 2\n                        result.y = result.y * 2\n                        result.mind = result.mind * 2\n                        result.maxd = result.maxd * 2\n                    }\n                    break\n                case \"RECTANGLE\":\n                    let minx = Math.min(handles.start.x, handles.end.x)\n                    let maxx = Math.max(handles.start.x, handles.end.x)\n                    let miny = Math.min(handles.start.y, handles.end.y)\n                    let maxy = Math.max(handles.start.y, handles.end.y)\n                    let startAll = JSON.parse(JSON.stringify(handles.start))\n                    startAll.x = minx\n                    startAll.y = miny\n                    if (needbian) {\n                        startAll.x = startAll.x * 2\n                        startAll.y = startAll.y * 2\n                    }\n                    let endAll = JSON.parse(JSON.stringify(handles.end))\n                    endAll.x = maxx\n                    endAll.y = maxy\n                    if (needbian) {\n                        endAll.x = endAll.x * 2\n                        endAll.y = endAll.y * 2\n                    }\n                    result = {\n                        point1: startAll,\n                        point2: endAll\n                    }\n                    break\n                case \"ANGLE\":\n                    let startAll1 = JSON.parse(JSON.stringify(handles.start))\n                    if (needbian) {\n                        startAll1.x = startAll1.x * 2\n                        startAll1.y = startAll1.y * 2\n                    }\n                    let middleAll1 = JSON.parse(JSON.stringify(handles.middle))\n                    if (needbian) {\n                        middleAll1.x = middleAll1.x * 2\n                        middleAll1.y = middleAll1.y * 2\n                    }\n                    let endAll1 = JSON.parse(JSON.stringify(handles.end))\n                    if (needbian) {\n                        endAll1.x = endAll1.x * 2\n                        endAll1.y = endAll1.y * 2\n                    }\n                    result = {\n                        point1: startAll1,\n                        point2: middleAll1,\n                        point3: endAll1\n                    }\n                    break\n                case \"PEN\":\n                    break\n                case \"POINT\":\n                    break\n                case \"LINE\":\n                    if (needbian) {\n                        handles.start.x = handles.start.x * 2\n                        handles.start.y = handles.start.y * 2\n                        handles.end.x = handles.end.x * 2\n                        handles.end.y = handles.end.y * 2\n                    }\n                    result = {\n                        point1: handles.start,\n                        point2: handles.end,\n                        length: handles.length\n                    }\n                    break\n                case \"COBB\":\n                    result = {\n                        lineA: [],\n                        angle: 0\n                    }\n                    console.log(value)\n                    let nowH = JSON.parse(JSON.stringify(handles))\n                    nowH.map((item) => {\n                        if (needbian) {\n                            item.start.x = item.start.x * 2\n                            item.start.y = item.start.y * 2\n                            item.end.x = item.end.x * 2\n                            item.end.y = item.end.y * 2\n                        }\n                        result.lineA.push({\n                            point1: item.start,\n                            point2: item.end\n                        })\n                    })\n                    if (handles.length == 2) {\n                        result.angle = Tool.calAngel(handles[0], handles[1])\n                    }\n                    break\n                case \"ALIGNMENT\":\n                    let startAll12 = JSON.parse(JSON.stringify(handles.start))\n                    if (needbian) {\n                        startAll12.x = startAll12.x * 2\n                        startAll12.y = startAll12.y * 2\n                    }\n                    let middleAll12 = JSON.parse(JSON.stringify(handles.middle))\n                    if (needbian) {\n                        middleAll12.x = middleAll12.x * 2\n                        middleAll12.y = middleAll12.y * 2\n                    }\n                    let middleAll22 = JSON.parse(JSON.stringify(handles.middle1))\n                    if (needbian) {\n                        middleAll22.x = middleAll22.x * 2\n                        middleAll22.y = middleAll22.y * 2\n                    }\n                    let endAll12 = JSON.parse(JSON.stringify(handles.end))\n                    if (needbian) {\n                        endAll12.x = endAll12.x * 2\n                        endAll12.y = endAll12.y * 2\n                    }\n                    result = {\n                        point1: startAll12,\n                        point2: middleAll12,\n                        point3: middleAll22,\n                        point4: endAll12\n                    }\n                    break\n            }\n            return JSON.stringify(result)\n        }\n        //装换多点\n    getpoints(value, type) {\n        let bord = null\n        switch (type) {\n            case \"ANNO4\":\n                bord = 130\n                break\n        }\n        let points = []\n        for (let i = 0; i < value.points.length; i++) {\n            let ct = (this.seriesInfo[value.sId].info.wwc.hight * 1 - this.seriesInfo[value.sId].info.wwc.low * 1) * value.points[i].ct / 255 + this.seriesInfo[value.sId].info.wwc.low * 1\n            console.log(ct)\n            if (bord) {\n                if (ct > bord) {\n                    points.push([Math.round(value.points[i].x) - 1, Math.round(value.points[i].y) - 1, value.z - 1])\n                }\n            } else {\n                points.push([Math.round(value.points[i].x) - 1, Math.round(value.points[i].y) - 1, value.z - 1])\n            }\n        }\n        return points\n    }\n}\nmodule.exports = markmodel;\n\n\n\n// WEBPACK FOOTER //\n// ./app/pagesmodel/mark.js","class MarkModel extends Interstellar.modelBase {\n    constructor(app) {\n        super(app)\n\n        //taskInfo任务详情\n        //projectInfo项目详情\n        //cachelist缓存列表\n\n        //series_result_id 标注列表的id和对应的序列id\n\n        //seriesInfo序列详情\n        //seriesResult这个序列下面的标注结果\n\n        //loadData根据用户标注了多少钙化灶的信息，然后进行加载。整体加载完了，关闭弹框\n\n        //taskInfo里面会记录他隶属的项目是否按照检查号标注\n        this.___auto = true\n\n        this.taskInfo = {}\n        this.projectInfo = {}\n        this.cachelist = {}\n        this.seriesInfo = {}\n        this.seriesResult = {}\n        this.series_result_id = {\n            seriesAnnotationResultId: \"\",\n            seriesInstanceUid: \"\"\n        }\n        this.userInfo = {}\n        this.doneNum = 0\n        this.toolInfo = {}\n\n        this.loadData = {\n            total: 0,\n            num: 0\n        }\n\n    }\n\n    //将后端还回来的数据转换成画图控件可以用的数据，根据不同类型进行相应的装换\n    translateDataReslut(value, sId, needbian) {\n        value.map((item) => {\n            if (typeof item.result == \"string\") {\n                let res\n                try {\n                    res = JSON.parse(item.result)\n                } catch (err) {\n                    res = item.result\n                }\n                    //let res=JSON.parse('{\"point1\":{\"x\":897.2789968652032,\"y\":2016.5360501567397,\"highlight\":true,\"active\":false,\"z\":1},\"point2\":{\"x\":1479.833855799373,\"y\":1236.808777429467,\"highlight\":true,\"active\":true,\"z\":1}}')\n                item.uuid = item.backId = item.id\n                item.setDataType = \"number\"\n                item.sId = sId ? sId : null\n                switch (item.imageAnnotationToolType) {\n                    case \"LINE\":\n                        item.type = 'length'\n                        if (needbian) {\n                            res.point1.x = res.point1.x / 2\n                            res.point1.y = res.point1.y / 2\n                            res.point2.x = res.point2.x / 2\n                            res.point2.y = res.point2.y / 2\n                        }\n                        item.result = res\n                        item.layerNumber = res.point1.z*1\n                        item.tooltype = 'length'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"COBB\":\n                        item.type = 'cobb'\n                        res.lineA.map((item) => {\n                            if (needbian) {\n                                item.point1.x = item.point1.x / 2\n                                item.point1.y = item.point1.y / 2\n                                item.point2.x = item.point2.x / 2\n                                item.point2.y = item.point2.y / 2\n                            }\n                        })\n                        item.result = res\n                        item.lineA = []\n                        res.lineA.map((itemw) => {\n                            item.lineA.push({\n                                end: {\n                                    x: itemw.point2.x,\n                                    y: itemw.point2.y\n                                },\n                                start: {\n                                    x: itemw.point1.x,\n                                    y: itemw.point1.y\n                                }\n                            })\n                        })\n                        item.layerNumber = res.lineA[0].point1.z\n                        item.tooltype = 'cobb'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"ALIGNMENT\":\n                        item.type = 'alignment'\n                        if (needbian) {\n                            res.point1.x = res.point1.x / 2\n                            res.point1.y = res.point1.y / 2\n                            res.point2.x = res.point2.x / 2\n                            res.point2.y = res.point2.y / 2\n                            res.point3.x = res.point3.x / 2\n                            res.point3.y = res.point3.y / 2\n                            res.point4.x = res.point4.x / 2\n                            res.point4.y = res.point4.y / 2\n                        }\n                        item.result = res\n                        item.layerNumber = res.point1.z\n                        //item.layerNumber = res.pointA[0].point1.z\n                        item.tooltype = 'alignment'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"FREEHANDLINE\":\n                        item.type = 'freehandline'\n                        if (needbian) {\n                            res.point1.x = res.point1.x / 2\n                            res.point1.y = res.point1.y / 2\n                            res.point2.x = res.point2.x / 2\n                            res.point2.y = res.point2.y / 2\n                        }\n                        item.result = res\n                        item.layerNumber = res.point1.z\n                        item.tooltype = 'freehandline'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"ELLIPSE\":\n                        let sp = this.seriesInfo[sId].info.data.pixelSpacing ? this.seriesInfo[sId].info.data.pixelSpacing[0] : 1\n                        item.type = 'ellipticalRoi'\n                        if (needbian) {\n                            res.x = res.x / 2\n                            res.y = res.y / 2\n                            res.maxd = res.maxd / 2\n                            res.mind = res.mind / 2\n                        }\n                        console.log(res.z)\n                        item.layerNumber = res.z\n                        item.result = {}\n                        item.result = {\n                            point1: {\n                                x: res.x - 0.5 * res.maxd / sp,\n                                y: res.y - 0.5 * res.maxd / sp\n                            },\n                            point2: {\n                                x: res.x + 0.5 * res.maxd / sp,\n                                y: res.y + 0.5 * res.maxd / sp\n                            }\n                        }\n\n                        item.tooltype = 'ellipticalRoi'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"RECTANGLE\":\n                        item.type = 'rectangleRoi'\n                        if (needbian) {\n                            res.point1.x = res.point1.x / 2\n                            res.point1.y = res.point1.y / 2\n                            res.point2.x = res.point2.x / 2\n                            res.point2.y = res.point2.y / 2\n                        }\n                        item.result = res\n                        item.layerNumber = res.point1.z\n                        item.tooltype = 'rectangleRoi'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"ANGLE\":\n                        item.type = 'simpleAngle'\n                        if (needbian) {\n                            res.point1.x = res.point1.x / 2\n                            res.point1.y = res.point1.y / 2\n                            res.point2.x = res.point2.x / 2\n                            res.point2.y = res.point2.y / 2\n                            res.point3.x = res.point3.x / 2\n                            res.point3.y = res.point3.y / 2\n                        }\n                        item.result = res\n                        item.layerNumber = res.point1.z\n                        item.tooltype = 'simpleAngle'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"MAGIC_STICK_SINGLE\":\n                        item.type = 'magicStickSingle'\n                        item.result = item.result\n                        item.tooltype = 'magicStickSingle'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"POLYGON\":\n                        item.type = 'polygon'\n                        item.result = item.result\n                        item.tooltype = 'polygon'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"FREEHAND\":\n                        item.type = 'freehand'\n                        item.result = item.result\n                        item.tooltype = 'freehand'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"QSELECT\":\n                        item.type = 'quickselect'\n                        item.result = item.result\n                        item.tooltype = 'quickselect'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                    case \"REGION_PAINT\":\n                        item.type = 'regionpaint'\n                        item.result = item.result\n                        item.tooltype = 'regionpaint'\n                        item.toolType = {\n                            id: item.imageAnnotationToolId,\n                            imageAnnotation: item.imageAnnotationType,\n                            imageAnnotationId: item.imageAnnotationId,\n                            type: item.imageAnnotationToolType\n                        }\n                        break\n                }\n            }\n        })\n    }\n    getpoints(value, length, num) {\n        let points = []\n        if (num == 1) {\n            return [\n                [Math.round(value.x), Math.round(value.y), value.z]\n            ]\n        }\n        for (let i = 0; i < num; i++) {\n            let point = [Math.round(value.x - length + 2 * Math.random() * length), Math.round(value.y - length + 2 * Math.random() * length), value.z]\n            points.push(point)\n        }\n        return points\n    }\n    getImages(images, flag, total) {\n        if (!images) {\n            return []\n        }\n        let newImages = []\n        images.map((item) => {\n            let num = item.number\n            if (flag == 0) {\n                newImages[num - 1] = item.urlWAN || item.urlWan\n            } else {\n                newImages[total - num + 1] = item.urlWAN || item.urlWan\n            }\n        })\n        return newImages\n    }\n    getImagesBack(images, flag, total) {\n            if (!images) {\n                return []\n            }\n            let newImages = []\n            images.map((item) => {\n                //console.log(item)\n                //let num = Tool.changeToName(item.urlWAN || item.urlWan, 'png')\n                newImages[item.number] = item.urlWAN || item.urlWan\n\n            })\n            return newImages\n        }\n        //判断是不是x光\n    judgeX(fileType, modality) {\n            if (fileType == \"DCM\" && (modality == 'DX' || modality == 'DR' || modality == 'CR' || modality == 'CX')) {\n                return true\n            }\n            return false\n        }\n        //判断是不是CT，MR，MRI\n    judgeCT(fileType, modality) {\n        if (fileType == \"DCM\" && (modality != 'DX' && modality != 'DR' && modality != 'CR' && modality != 'CX')) {\n            return true\n        }\n        return false\n    }\n}\nwindow.MarkModel = window.MarkModel || MarkModel\nmodule.exports = MarkModel;\n\n\n// WEBPACK FOOTER //\n// ./app/pagesmodel/base/mark_base.js","module.exports = \"<div class=mark> <ul class=mark-header> <li class=\\\"back-icon fl\\\"> <span><span class=lefta><i class=\\\"iconfont icon-icon-test3\\\" style=font-size:12px></i></span><span class=infojian>医生主页</span></span> </li> <li class=\\\"task-name fl\\\"> <span>|</span> <span>Cassiel0705标注4</span> </li> <li class=\\\"cotrol-btn fr\\\"> <div class=\\\"btn btn-pause\\\">暂停</div> <div class=\\\"btn btn-submit\\\">提交</div> </li> <li class=\\\"discard_info fr\\\" style=margin-right:10px></li> </ul> <div class=mark-menu></div> <div class=mark-content> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/mark.html\n// module id = 145\n// module chunks = 9 13","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./mark.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./mark.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./mark.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/less/mark.less\n// module id = 489\n// module chunks = 13","//import {firstName, lastName, year} from 'http://172.16.100.221:44444/footer/footer.js';\n//这边基本上引入需要使用的资源less，api，需要使用的模块等等。\n\nclass markview extends MarkBase {\n    constructor(app, api, dom, model) {\n            super(app, api, dom, model)\n        }\n        //接口调用，获取信息\n    apiload() {\n            this.api.task_read({\n                id: this.app.parpam['taskId']\n            }).done((value) => {\n                this.dom.find('.task-name span').eq(1).html(value.data.name)\n                this.model.taskInfo = value.data\n                this.model.taskInfo.studyAnno = value.data.studyAnno\n            })\n            \n        }\n        //************************标注相关*************************\n        //获取需要标注的序列\n    series_get() {\n        if (this.cornerstoneContorl) {\n            this.cornerstoneContorl.close()\n        }\n        if (this.dicommenu) {\n            this.dicommenu.resetAll()\n        }\n        this.model.seriesInfo = {}\n        this.model.seriesResult = {}\n        this.app.loading.show()\n        this.startTask()\n            // this.editTask()\n    }\n\n    // 编辑\n    editTask() {\n        this.api.series_result_search({\n            type: 'TASK',\n            id: this.app.parpam.taskId,\n            serialNumber: this.app.parpam.sid, // this.app.parpam['sid'],\n            userId: this.useinfo.userId\n        }).done((value) => {\n            this.app.loading.hide()\n            if (value.data.list[0].discardCode) {\n                let str = ''\n                str += value.data.list[0].discardReason ? value.data.list[0].discardReason : \"\"\n                this.dom.find('.discard_info').html('<span>当前序列被标为废片，原因：' + str + '</span>')\n            }\n            if (value.data.list.length != 0) {\n                let temp = {}\n                let seriesInstanceUids = []\n                for (let i = 0; i < value.data.list.length; i++) {\n                    let data = value.data.list[i]\n                    temp.studyInstanceUid = data.studyInstanceUid\n                    seriesInstanceUids.push({\n                        seriesAnnotationResultId: data.id,\n                        seriesInstanceUid: data.seriesInstanceUid,\n                        needAnno: value.data.seriesList[i].needAnno\n                    })\n                }\n                temp.seriesInstanceUids = seriesInstanceUids\n                temp.studyInstanceUid = temp.seriesInstanceUids[0].seriesInstanceUid\n                this.model.setData('series_result_id', temp)\n            } else {\n                this.dom.find('.back-icon').click()\n            }\n        })\n    }\n\n    // 开始任务\n    startTask() {\n        this.api.series_get({\n            taskId: this.app.parpam['taskId'],\n            userId: this.useinfo.userId\n        }).done((value) => {\n            this.app.loading.hide()\n\n            if (value.code == 1001) {\n                window.location.href = 'http://' + window.location.host + '/#!/personalaccount' //this.app.changePage('personalaccount')\n                window.location.reload()\n            }\n            if (!value.data) {\n                window.location.href = 'http://' + window.location.host + '/#!/personalaccount'\n                window.location.reload()\n            }\n            if (value.data.taskStatus == 3 || value.data.taskStatus == 4) {\n                window.location.href = 'http://' + window.location.host + '/#!/personalaccount'\n                window.location.reload()\n            }\n            let serLength = value.data.sarIdList.length\n            let seriesInstanceUids = []\n            for (let i = 0; i < serLength; i++) {\n                seriesInstanceUids.push({\n                    seriesAnnotationResultId: value.data.sarIdList[i],\n                    seriesInstanceUid: value.data.seriesList[i].series,\n                    needAnno: value.data.seriesList[i].needAnno,\n                    imageList: value.data.seriesList[i].imageIdList\n                })\n            }\n            let endInfo = {\n                studyInstanceUid: value.data.studyInstanceUid,\n                seriesInstanceUids: seriesInstanceUids\n            }\n            if (!this.model.taskInfo.studyAnno) {\n                endInfo.studyInstanceUid = endInfo.seriesInstanceUids[0].seriesInstanceUid\n            }\n            this.model.setData('series_result_id', endInfo)\n            this.api.series_result_act_record({\n                userId: this.useinfo.userId,\n                taskId: this.app.parpam['taskId'],\n                sarIdList: value.data.sarIdList.toString(),\n                userRecord: 1\n            })\n        })\n    }\n\n    // 获取所有序列\n    result_get_fromback() {\n        let lists = this.model.series_result_id.seriesInstanceUids\n        console.log(lists, 'sssssssssssssssssss')\n        for (let i = 0; i < lists.length; i++) {\n            this.api.series_result_read({\n                id: lists[i].seriesAnnotationResultId\n            }).done((res) => {\n                console.log(res, '我是是是是是')\n                if (res.data.discardCode) {\n                    let str = ''\n                    str += res.data.discardReason ? res.data.discardReason : \"\"\n                    this.dom.find('.discard_info').html('<span>当前序列被标为废片，原因：' + str + '</span>')\n                }\n                this.model.series_result_id.remark = 0\n                this.model.seriesResult[lists[i].seriesAnnotationResultId] = res\n                this.model.setData('seriesResult', this.model.seriesResult)\n            })\n        }\n    }\n\n    //影像区加载\n    cornerstoneContorlOther() {\n        let that = this\n            //对于图片上面的影像标注操作\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.addNode', function(value) {\n            console.log(value, '=================')\n            let handles = value.handles ? JSON.parse(JSON.stringify(value.handles)) : {\n                start: {},\n                end: {}\n            }\n            handles.end.z = handles.start.z = value.layerNumber\n            let postData = {}\n            postData.seriesAnnotationResultId = that.model.seriesInfo[value.sId].sarId // that.model.seriesResult.data.id //.info.data.seriesInstanceUID\n            postData.imageAnnotationId = value.toolType.imageAnnotationId\n            postData.imageAnnotationToolId = value.toolType.id\n                //console.log(value)\n            let seriesInfoData = that.model.seriesInfo[value.sId].info.data\n            let nee = false\n            if (seriesInfoData.fileType == \"DCM\" && (seriesInfoData.modality == 'DX' || seriesInfoData.modality == 'DR' || seriesInfoData.modality == 'CR')) {\n               // nee = true\n            }\n            /*if (value.toolType.type == 'ALIGNMENT') {\n                value.pointA.map((item) => {\n                    if (item.start) {\n                        item.start.z = value.layerNumber\n                    }\n                })\n                postData.result = that.model.makeJsonToBackend({\n                    type: value.toolType.type,\n                    sId: value.sId\n                }, value.pointA, nee)\n            } else*/\n            if (value.toolType.type == 'COBB') {\n                value.lineA.map((item) => {\n                    item.end.z = item.start.z = value.layerNumber\n                })\n                postData.result = that.model.makeJsonToBackend({\n                    type: value.toolType.type,\n                    sId: value.sId\n                }, value.lineA, nee)\n            } else {\n                postData.result = that.model.makeJsonToBackend({\n                    type: value.toolType.type,\n                    sId: value.sId\n                }, handles, nee)\n            }\n\n            that.app.loading.show()\n            that.api.image_result_create(postData).done(function(res) {\n                that.app.loading.hide()\n                value.backId = res.data.id\n                console.log(value)\n                that.cornerstoneContorl.updataSequencelist(value)\n            })\n\n        })\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.editNode', function(value) {\n            let postData = {}\n            console.log(value, '=================')\n            let handles = value.handles ? JSON.parse(JSON.stringify(value.handles)) : {\n                start: {},\n                end: {}\n            }\n            handles.end.z = handles.start.z = value.layerNumber\n            postData.id = value.backId\n            postData.imageAnnotationId = value.imageAnnotationId\n            postData.imageAnnotationToolId = value.imageAnnotationToolId\n            let seriesInfoData = that.model.seriesInfo[value.sId].info.data\n            let nee = false\n            if (seriesInfoData.fileType == \"DCM\" && (seriesInfoData.modality == 'DX' || seriesInfoData.modality == 'DR' || seriesInfoData.modality == 'CR')) {\n              //  nee = true\n            }\n            /* if (value.toolType.type == 'ALIGNMENT') {\n                 value.pointA.map((item) => {\n                     if (item.start) {\n                         item.start.z = value.layerNumber\n                     }\n                 })\n                 postData.result = that.model.makeJsonToBackend({\n                     type: value.toolType.type,\n                     sId: value.sId\n                 }, value.pointA, nee)\n             } else*/\n            if (value.toolType.type == 'COBB') {\n                value.lineA.map((item) => {\n                    item.end.z = item.start.z = value.layerNumber\n                })\n                postData.result = that.model.makeJsonToBackend({\n                    type: value.toolType.type,\n                    sId: value.sId\n                }, value.lineA, nee)\n            } else {\n                postData.result = that.model.makeJsonToBackend({\n                    type: value.toolType.type,\n                    sId: value.sId\n                }, handles, nee)\n            }\n            /*postData.result = that.model.makeJsonToBackend({\n                type: value.imageAnnotationToolType,\n                sId: value.sId\n            }, handles, nee)*/\n            that.app.loading.show()\n            that.api.image_result_update(postData).done(function(res) {\n                that.app.loading.hide()\n                that.cornerstoneContorl.updataSequencelist(value)\n            })\n        })\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.deleteNode', function(value) {\n            that.app.loading.show()\n            that.api.image_result_delete({\n                id: value.backId\n            }).done(function(res) {\n                that.app.loading.hide()\n            })\n        })\n\n        //获取整个序列的征象信息\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.Allthing', function(value) {\n            that.app.loading.show()\n            let ids = that.getSarIds()\n            let data = that.model.changeItemDataToBackend(that.model.taskInfo.id, value)\n                //data.taskId = that.model.taskInfo.id\n                //data.studyInstanceUid = that.model.series_result_id.studyInstanceUid\n            data.sarIdList = ids\n            that.api.series_result_item_edit(data).done(function() {\n                that.app.loading.hide()\n            })\n        })\n\n        //获取某一个病症的征象信息\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.editNodeItem', function(value) {\n            that.app.loading.show()\n            that.api.image_result_item_edit(that.model.changeItemDataToBackend(value.backId, value.chooseData)).done(function() {\n                that.app.loading.hide()\n            })\n        })\n\n        //-------------------------------魔法棒的处理-------------------------------\n        //魔法棒点击去调用接口进行后续处理\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.makeMagic', value => {\n            console.log(value)\n                //console.log(that.dicommenu.chooseData)\n            let sId = value.sId\n            let dataToolType = that.dicommenu.chooseData.data\n            let infoData = that.model.seriesInfo[sId]\n            value.ct.hu = (infoData.info.wwc.hight * 1 - infoData.info.wwc.low * 1) * value.ct.hu / 255 + infoData.info.wwc.low * 1\n            if (dataToolType.imageAnnotation == \"ANNO4\") {\n                if (value.ct.hu < 130) {\n                    that.app.alert.show({\n                        title: ' ',\n                        msg: '提交的点CT值不符合要求，请重新选择CT值大于130的点位。',\n                        close: true\n                    })\n                    that.cornerstoneContorl.removeSequencelist(value)\n                    return\n                }\n            }\n            //return\n            that.app.alert.show({\n                title: ' ',\n                msg: '确认提交影像标注的标注位置？提交后将自动生成影像标注区域，请耐心等待。<br />请填写CT差值：<input class=\"ct_d\" type=\"text\" value=\"200\" style=\"width: 60px;\">',\n                close: true,\n                closeSure: function() {\n                    that.cornerstoneContorl.removeSequencelist(value)\n                },\n                sure: async() => {\n                    // that.needApiAll(resCreate.data.iarId, resRead, value, true, i)\n                    // return\n                    let ctVal = isNaN(that.app.alert.dom.find('.ct_d').val()) ? 0 : that.app.alert.dom.find('.ct_d').val() * 1\n                    that.model.loadData = {\n                        total: 1,\n                        num: 0\n                    }\n                    let points = value.e.detail.currentPoints.image\n                    if (that.model.seriesInfo[value.sId].info.wwc.flag * 1 == 1) {\n                        value.layerNumber = infoData.imgsTotal - value.layerNumber + 1\n                    }\n                    //value.ct.hu = (that.model.seriesInfo.info.wwc.hight * 1 - that.model.seriesInfo.info.wwc.low * 1) * value.ct.hu / 255 + that.model.seriesInfo.info.wwc.low * 1\n                    let backData = {\n                        points: that.model.getpoints({\n                            points: value.points,\n                            z: value.layerNumber,\n                            sId: value.sId\n                        }, dataToolType.imageAnnotation),\n                        threshUp: value.ct.hu * 1 + ctVal, // that.dicommenu.chooseData.ctVal * 1, //value.toolType.userChoose ? value.toolType.userChoose.yzmax * 1 : 130,\n                        threshDown: value.ct.hu * 1 - ctVal, // that.dicommenu.chooseData.ctVal * 1 //value.toolType.userChoose ? value.toolType.userChoose.yzmin * 1 : 4000\n                    }\n                    if (dataToolType.imageAnnotation == \"ANNO4\") {\n                        backData.threshDown = backData.threshDown < 130 ? 130 : backData.threshDown\n                    }\n                    let magicloadingClass = require(\"../modal/magicloading/magicloading.js\")\n                    that.magicloading = that.app.loadModal(magicloadingClass, {\n                        adv: true\n                    })\n                    for (var j in that.model.seriesInfo) {\n                        console.log(that.model.seriesInfo[j].info.data.studyInstanceUID,value.sId)\n                        if (that.model.seriesInfo[j].info.data.seriesInstanceUID == value.sId && that.model.seriesInfo[j].needAnno) {\n                            try {\n                                let resCreate = await that.api.magicToolCerate({\n                                    sarId: that.model.seriesInfo[j].sarId,\n                                    param: JSON.stringify(backData),\n                                    imgToolId: value.toolType.id\n                                })\n                                if (resCreate.code == 0) {\n                                    let resRead = await that.api.magicToolRead({\n                                        id: resCreate.data.iarId\n                                    })\n                                    console.log(value, 'wishing第三')\n                                    that.baseMagicTranData(resCreate.data.iarId, resRead, value, true, i)\n                                } else {\n                                    that.app.alert.show({\n                                        title: ' ',\n                                        msg: resCreate.msg,\n                                        close: true,\n                                        footer: true\n                                    })\n                                    that.cornerstoneContorl.removeSequencelist(value)\n                                }\n                            } catch (err) {}\n                            that.magicloading.hide()\n                        }\n                        //if(that.model.seriesInfo[j])\n                    }\n                    /*for (var i in that.model.seriesResult) {\n                        for (var j in that.model.seriesInfo) {\n                            console.log(that.model.seriesInfo[j].sarId, i)\n                            if (that.model.seriesInfo[j].sarId * 1 == i * 1 && that.model.seriesInfo[j].needAnno) {\n                                try {\n                                    let resCreate = await that.api.magicToolCerate({\n                                        sarId: i,\n                                        param: JSON.stringify(backData),\n                                        imgToolId: value.toolType.id\n                                    })\n                                    if (resCreate.code == 0) {\n                                        let resRead = await that.api.magicToolRead({\n                                            id: resCreate.data.iarId\n                                        })\n                                        console.log(value, 'wishing第三')\n                                        that.baseMagicTranData(resCreate.data.iarId, resRead, value, true, i)\n                                    } else {\n                                        that.app.alert.show({\n                                            title: ' ',\n                                            msg: resCreate.msg,\n                                            close: true,\n                                            footer: true\n                                        })\n                                        that.cornerstoneContorl.removeSequencelist(value)\n                                    }\n                                } catch (err) {}\n                                that.magicloading.hide()\n                            }\n                        }\n                    }*/\n                }\n            })\n        })\n\n        //点完魔法棒拿算法返回的所有图片以后触发的事件\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.brushfirstload', function(value) {\n            that.model.loadData.num++\n                if (that.magicloading && that.model.loadData.num >= that.model.loadData.total) {\n                    that.magicloading.hide()\n                }\n        })\n\n        //编辑魔法棒\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.editBrush', function(value) {\n            console.log(value)\n            let infoData = that.model.seriesInfo[value.sId]\n            if (value.toolType.type == 'POLYGON' || value.toolType.type == 'QSELECT' || value.toolType.type == 'REGION_PAINT' || value.toolType.type == 'FREEHAND') {\n                //console.log(value.orginimage.src)\n                that.app.loading.show()\n                let base64 = value.image.src.replace('data:image/png;base64,', '')\n                if (infoData.info.data.fileType == \"DCM\" && (infoData.info.data.modality == 'DX' || infoData.info.data.modality == 'DR' || infoData.info.data.modality == 'CR')) {\n                    //base64 = that.changeImage(value.image.src)\n                    /*that.changeImage(value.image.src).then((value) => {\n                        base64 = value\n                    })*/\n                }\n                let layerNumber = value.layerNumber\n                let LESION = Tool.configxlkformat(that.app.constmap.LESION)\n\n                let who = LESION.find((res) => {\n                    return res.idx == that.cornerstoneContorl.returnListAnno(value)\n                })\n                if (who && who.val == '心脏分割') {\n                    if (infoData.info.wwc.flag * 1 == 1) {\n                        layerNumber = infoData.imgsTotal - value.layerNumber + 1\n                    }\n                }\n                setTimeout(() => {\n                    that.api.anno_iar_update({\n                        id: value.backId * 1,\n                        imageList: [{\n                            number: layerNumber,\n                            imageData: base64\n                        }]\n                    }).done(function(res) {\n                        that.app.loading.hide()\n                    })\n                }, 500)\n\n                return\n            }\n            let base64 = Tool.changeImageToBase64(value.image)\n            console.log(infoData, 'infoDatainfoDatainfoDatainfoDatainfoData')\n            if (infoData.info.wwc.flag * 1 == 1) {\n                value.layerNumber = infoData.imgsTotal - value.layerNumber + 1\n            }\n            let submitData = {\n                \"id\": value.rid || value.backId,\n                \"imageList\": [{\n                    \"number\": value.layerNumber * 1,\n                    \"imageData\": base64.replace('data:image/png;base64,', '')\n                }]\n            }\n            that.app.loading.show()\n            that.api.image_process_item_edit(submitData).done(function(res) {\n                that.app.loading.hide()\n            })\n            return\n        })\n\n        //-------------------------------魔法棒的处理-------------------------------\n        //----------------图像工具添加--------------------------\n        //添加画图工具\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.addImageResult', function(value) {\n            //console.log(value.image)\n            //let base64 = value.image.src // Tool.changeImageToBase64(value.image)\n            //console.log(base64)\n            //return\n            that.app.loading.show()\n            let base64 = value.image.src.replace('data:image/png;base64,', '')\n            let infoData = that.model.seriesInfo[value.sId]\n            if (infoData.info.data.fileType == \"DCM\" && (infoData.info.data.modality == 'DX' || infoData.info.data.modality == 'DR' || infoData.info.data.modality == 'CR')) {\n                that.changeImage(value.image.src).then((value) => {\n                        base64 = value\n                    })\n                    //base64 = that.changeImage(value.image.src)\n            }\n            console.log('=============wqeqwewqe', that.model.seriesResult)\n            let rid\n            for (let i in that.model.seriesResult) {\n                if (that.model.seriesResult[i].data.seriesInstanceUid == value.sId) {\n                    rid = i\n                }\n            }\n            setTimeout(() => {\n                that.api.anno_iar_create({\n                    seriesAnnotationResultId: rid, // that.model.seriesResult.data.id,\n                    imageAnnotationId: value.imageAnnotationId,\n                    imageAnnotationToolId: value.imageAnnotationToolId,\n                    imageList: [{\n                        number: value.layerNumber,\n                        imageData: base64\n                    }]\n                }).done(function(res) {\n                    that.app.loading.hide()\n                    value.backId = res.data.id\n                    value.brush = true\n                        //console.log('==========', value)\n                    that.cornerstoneContorl.updataSequencelist(value)\n                })\n            })\n        })\n    }\n\n    // 返回后台的图片变大 只有x光可以适用\n    changeImage(value) {\n        let x1 = document.createElement(\"CANVAS\");\n        let tempI = new Image()\n        var deferred = ES.Deferred()\n        tempI.onload = function() {\n            let rate = 0.5\n            let width = Math.floor(this.width * 2)\n            let height = Math.floor(this.height * 2)\n            console.log(width, height)\n            x1.setAttribute(\"width\", width);\n            x1.setAttribute(\"height\", height);\n            let ctx = x1.getContext(\"2d\");\n            ctx.drawImage(this, 0, 0, this.width, this.height, 0, 0, width, height)\n            deferred.resolve(x1.toDataURL(\"image/png\").replace('data:image/png;base64,', ''))\n        }\n        tempI.src = value\n        return deferred\n    }\n    needApiAll(data, apineed, newdata) {\n\n        if (apineed) {\n            data.brush = true\n            data.backId = newdata.id\n            console.log(newdata.id)\n            this.cornerstoneContorl.updataSequencelist(data)\n        }\n        //从后台读回来的mask根据情况进行处理，只有x光可以适用\n        this.cornerstoneContorl.setbrush(newdata)\n    }\n\n    //************************废片区*************************\n    discaseToDone(value, dom) {\n        let ids = this.getSarIds()\n        let that = this\n        this.alertSubmit.show({\n            title: ' ',\n            msg: '确认提交该序列？提交后该序列将不再修改',\n            closeSure: function() {\n                that.app.loading.show()\n                that.api.series_discard({\n                    sarIdList: ids,\n                    discardCode: value.type,\n                    discardReason: value.des\n                }).done((value) => {\n                    that.app.loading.hide()\n                    window.location.href = 'http://' + window.location.host + '/#!/personalaccount'\n                    window.location.reload()\n                        // that.app.changePage('personalaccount')\n                })\n            },\n            sure: function() {\n                that.app.loading.show()\n                that.api.series_discard({\n                    sarIdList: ids,\n                    discardCode: value.type,\n                    discardReason: value.des\n                }).done((value) => {\n                    that.app.loading.hide()\n                    window.location.reload();\n                    //that.series_get()\n                })\n            }\n        })\n    }\n\n    //************************废片区*************************\n    //************************弹框区*************************\n    //提交整个序列事件\n    btnEvent() {\n        this.dom.find('.back-icon').on('click', () => {\n\n            window.location.href = 'http://' + window.location.host + '/#!/personalaccount' //this.app.changePage('personalaccount')\n            window.location.reload()\n        })\n        let that = this\n        this.dom.find('.cotrol-btn .btn-submit').on('click', () => {\n            //this.model.doneNum += 1\n            this.needSub = {}\n            this.alertSubmit.show({\n                title: ' ',\n                msg: '确认提交该序列？提交后该序列将不再修改',\n                closeSure: function() {\n                    that.model.doneNum = -1\n                    that.alertSubmit.hide()\n                    that.app.loading.show()\n                    let xi = \"\"\n                    for (var i in that.model.seriesResult) {\n                        xi = i\n                        for (var j in that.model.seriesInfo) {\n                            if (that.model.seriesInfo[j].sarId * 1 == i * 1 && that.model.seriesInfo[j].needAnno) {\n                                that.needSub[i] = null\n                                that.submitSeries(i)\n                            }\n                        }\n                    }\n                    if (JSON.stringify(that.needSub) == \"{}\") {\n                        that.needSub[xi] = false\n                        that.submitSeries(xi)\n                    }\n                },\n                sure: function() {\n\n                    that.model.doneNum = 3\n                    that.alertSubmit.hide()\n                    that.app.loading.show()\n                    let xi = \"\"\n                    for (var i in that.model.seriesResult) {\n                        xi = i\n                        for (var j in that.model.seriesInfo) {\n                            if (that.model.seriesInfo[j].sarId * 1 == i * 1 && that.model.seriesInfo[j].needAnno) {\n                                that.needSub[i] = null\n                                that.submitSeries(i)\n                            }\n                        }\n                    }\n                    if (JSON.stringify(that.needSub) == \"{}\") {\n                        that.needSub[xi] = false\n                        that.submitSeries(xi)\n                    }\n                }\n            })\n        })\n        this.dom.find('.cotrol-btn .btn-pause').on('click', () => {\n            this.api.series_result_act_record({\n                userId: this.useinfo.userId,\n                taskId: this.app.parpam['taskId'],\n                sarIdList: this.getSarIds(),\n                userRecord: 2\n            })\n            this.app.alert.show({\n                title: ' ',\n                msg: \"当前标注已暂停，点击确认继续开始\",\n                close: false,\n                sure: () => {\n                    this.api.series_result_act_record({\n                        userId: this.useinfo.userId,\n                        taskId: this.app.parpam['taskId'],\n                        sarIdList: this.getSarIds(),\n                        userRecord: 3\n                    })\n                }\n            })\n        })\n    }\n\n    //提交当前在标注的序列\n    submitSeries(id, pading) {\n        let vid = id\n        this.api.series_result_read({\n            id: id //this.model.series_result_id.seriesAnnotationResultId\n        }).done((value) => {\n            this.app.loading.hide()\n            \n            this.needSub[vid] = false\n            if (value.data.yayAttributes) {\n                if (this.model.projectInfo.yayAttributes * 1 == 4) {\n                    this.startSubmit()\n                    return false\n                }\n                if (this.model.projectInfo.yayAttributes * 1 == 3 && value.data.yayAttributes * 1 == 1) {\n                    this.startSubmit()\n                    return false\n                }\n                if (this.model.projectInfo.yayAttributes * 1 == 1 && value.data.yayAttributes * 1 == 2) {\n                    this.startSubmit()\n                    return false\n                }\n            }\n            let data = value.data\n            let conmponentInfo = this.cornerstoneContorl.model.nidusComponentInfo\n                //判断大征象是否完成了\n            let allnid = this.allnidussubmit(data)\n            if (!allnid) {\n                return true\n            }\n            console.log(conmponentInfo, 'conmponentInfoconmponentInfoconmponentInfo')\n            console.log(this.needSub, vid)\n            this.needSub[vid] = false\n            for (let i = 0; i < data.imageAnnotationResultList.length; i++) {\n                let item = data.imageAnnotationResultList[i]\n                let optionLength = 0\n                for (let wn in conmponentInfo[item.imageAnnotationType]) {\n                    if (conmponentInfo[item.imageAnnotationType][wn].optional) {\n                        optionLength++\n                    }\n                }\n                if (item.annotationItemResultList == null && optionLength != 0) {\n                    for (let w in conmponentInfo[item.imageAnnotationType]) {\n                        if (conmponentInfo[item.imageAnnotationType][w].optional) {\n                            this.errorShow(item, conmponentInfo[item.imageAnnotationType][w])\n                            this.needSub[vid] = true\n                            return true\n                        }\n                    }\n                }\n                console.log(item.annotationItemResultList)\n                if (item.annotationItemResultList) {\n                    //后台记录的必填项数据比真实必填项个数不一致\n                    if (optionLength) {\n                        let idsAll = ','\n                        for (let j = 0; j < item.annotationItemResultList.length; j++) {\n                            let res = item.annotationItemResultList[j]\n                            if (res.result) {\n                                idsAll += res.annotationItemId + ','\n                            }\n                        }\n                        for (let w in conmponentInfo[item.imageAnnotationType]) {\n                            if (idsAll.lastIndexOf(',' + w + ',') == -1 && conmponentInfo[item.imageAnnotationType][w].optional) {\n                                this.errorShow(item, conmponentInfo[item.imageAnnotationType][w])\n                                this.needSub[vid] = true\n                                return true\n                            }\n                        }\n                    }\n                    //后台记录的必填项数据跟真实必填项个数不一致，判断哪个必填项值为空\n                    for (let j = 0; j < item.annotationItemResultList.length; j++) {\n                        let res = item.annotationItemResultList[j]\n                        if (!res.result && conmponentInfo[item.imageAnnotationType][res.annotationItemId].optional) {\n                            this.needSub[vid] = true\n                            this.errorShow(item, conmponentInfo[item.imageAnnotationType][res.annotationItemId])\n                            return true\n                        }\n                    }\n                }\n            }\n            this.startSubmit()\n        })\n    }\n    startSubmit() {\n        let aaa = null\n        console.log(this.needSub)\n        let numa = false\n        for (var i in this.needSub) {\n            if (this.needSub[i] == null) {\n                return\n            }\n            if (this.needSub[i] == 'none') {\n                numa = numa || false\n            } else {\n                numa = true\n            }\n            if (aaa == null) {\n                aaa = this.needSub[i] == 'none' ? false : this.needSub[i]\n            } else {\n                aaa = aaa || (this.needSub[i] == 'none' ? false : this.needSub[i])\n            }\n            console.log(aaa)\n                // aaa = (aaa == null ? this.needSub[i] : (aaa || this.needSub[i]))\n        }\n        if (!numa) {\n            this.alerError('请检查你是否进行了标注')\n            return\n        }\n        if (aaa) {\n            return\n        }\n        this.series_submit()\n    }\n    allnidussubmit(data) {\n        let conmponentInfo = this.cornerstoneContorl.model.nidusComponentInfo\n        let now = false\n            //console.log(conmponentInfo.all)\n        for (let i in conmponentInfo.all) {\n            if (i != 'annotationItemResultList') {\n                let allitem = conmponentInfo.all[i]\n                if (allitem.optional) {\n                    let nowS = false\n                    data.annotationItemResultList.map((item) => {\n                        if (item.annotationItemId == i && item.result) {\n                            nowS = true\n                        }\n                    })\n                    if (!nowS) {\n                        this.alerError('“序列整体标注信息”的“' + allitem.componentName + '”为必填项，请填写完整。')\n                        return false\n                    }\n                }\n            }\n        }\n        if (data.annotationItemResultList.length == 0) {\n            for (let ww in conmponentInfo.all.annotationItemResultList) {\n                console.log(conmponentInfo.all)\n                if (conmponentInfo.all.annotationItemResultList[ww].optional) {\n                    this.alerError('“序列整体标注信息”的“' + conmponentInfo.all.annotationItemResultList[ww].componentName + '”为必填项，请填写完整。')\n                    return false\n                }\n            }\n        }\n        return true\n    }\n\n    //经过检查能够进行提交了\n    series_submit() {\n        let ids = this.getSarIds()\n        this.app.loading.show()\n        this.api.series_result_act_record({\n            userId: this.useinfo.userId,\n            taskId: this.app.parpam['taskId'],\n            sarIdList: this.getSarIds(),\n            userRecord: 4\n        })\n        this.api.series_result_submit({\n            sarIdList: ids\n        }).done(() => {\n            this.app.loading.hide()\n            if (this.model.doneNum == -1) {\n                window.location.href = 'http://' + window.location.host + '/#!/personalaccount'\n                window.location.reload()\n                    //this.app.changePage('personalaccount')\n                return\n            }\n            window.location.reload();\n            /*if (this.model.doneNum > this.model.cachelist.length) {\n                this.submitFinish()\n                return\n            }\n            this.series_get()*/\n        })\n    }\n\n    //检查报错部分并且要显示的部分\n    errorShow(item, node) {\n        this.cornerstoneContorl.openSequenceNode(item)\n            //let msg = this.app.disease[item.imageAnnotationType] + '_' + item.id\n        let temp = Tool.configobjformat(this.app.constmap.LESION)\n        let msg = temp[item.imageAnnotationType] + '_' + item.id\n        msg += '的“' + node.componentName + '”为必填项，请填写完整。'\n        this.alerError(msg)\n    }\n\n    //缓存里面的序列用完了以后的事情\n    submitFinish(data) {\n        this.app.alert.show({\n            title: ' ',\n            msg: '需要加载新一批标注，请耐心等待',\n            close: true,\n            sure: function() {\n                window.location.reload();\n            }\n        })\n    }\n}\nmodule.exports = markview;\n\n\n\n// WEBPACK FOOTER //\n// ./app/pages/mark.js","var api = {\n  //透传接口\n  sys_transfer(value) {\n    return this.HttpRequest.POST('/sys/transfer', value)\n  },\n  \n  series_result_act_record: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/act/record',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json;charset=UTF-8\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //项目基础信息\n  project_basic_read: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain1 + 'v1/project/basic/read',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json;charset=UTF-8\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //项目基础信息\n  alg_sar_reset_mask_image: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain1 + 'v1/alg/sar/reset_mask_image',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json;charset=UTF-8\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //项目读取\n  project_anno_read: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain1 + 'v1/project/anno/read',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json;charset=UTF-8\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //项目序列列表\n  project_series_search: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain1 + 'v1/project/series/search',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json;charset=UTF-8\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //任务读取\n  task_read: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain1 + 'v1/task/read',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //序列详情\n  series_read: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain + 'v1/series/read',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //序列原始tag\n  series_origin_detail: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain + 'v1/series/origin/detail',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //序列图片地址\n  image_query: function (value) {\n    let st = api.app.tokentime()\n    if (!st) {\n      delete value.token\n    }\n    var deferred = ES.Deferred()\n    //deferred.resolve({aa:'aa'});\n    ES.ajax({\n      url: api.app.domain + 'v1/image/query',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //缓存序列\n  series_cache: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/user/series/cache',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n\n  //获取当前序列 \n  series_result_search(value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/search',\n      type: \"post\",\n      dataType: \"json\",\n      questring: value,\n      contentType: \"application/json\",\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n\n  //获取下一个序列\n  series_get: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/user/series/get',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //****************为每一个序列创建一个标注结果集合*********************\n  series_result_create: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/create',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  series_result_read: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/read',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  series_result_submit: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/submit',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  series_result_query: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/query',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n\n  series_result_item_edit: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/item/edit',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //****************为每一个序列创建一个标注结果集合*********************\n  //****************单个标注结果*********************\n  image_result_create: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/image_result/create',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  image_result_update: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/image_result/update',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  image_result_delete: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/image_result/delete',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //****************单个标注结果*********************\n  //组件结果上传\n  image_result_item_edit: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/image_result/item/edit',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //废片结果\n  series_discard: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/discard',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n\n  //魔法棒接口\n  // image_process_create: function (value) {\n  //   var deferred = ES.Deferred()\n  //   ES.ajax({\n  //     url: api.app.domain1 + 'v1/mask/magic_stick/create',\n  //     type: \"POST\",\n  //     dataType: \"json\",\n  //     contentType: \"application/json\",\n  //     questring: value\n  //   }).then(function (response) {\n  //     if (!api.app.apiresult(response)) {\n  //       return\n  //     }\n  //     deferred.resolve(response);\n  //   }, function () {\n  //     deferred.reject(true);\n  //   });\n  //   return deferred\n  // },\n  // 魔法棒创建\n  magicToolCerate(data) {\n    return this.HttpRequest.POST('/mask/magic_stick/create', data)\n  },\n  // 魔法棒查看一个\n  magicToolRead(data) {\n    return this.HttpRequest.POST('/anno/iar/read', data)\n  },\n  //魔法棒批量查看\n  image_process_batch_read: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/image_process/batch_read',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //魔法棒查看\n  // image_process_read: function (value) {\n  //   var deferred = ES.Deferred()\n  //   ES.ajax({\n  //     // url: api.app.domain + 'v1/image_process/read',\n  //     url: api.app.domain1 + 'v1/anno/iar/read',\n  //     type: \"POST\",\n  //     dataType: \"json\",\n  //     contentType: \"application/json\",\n  //     questring: value\n  //   }).then(function (response) {\n  //     if (!api.app.apiresult(response)) {\n  //       return\n  //     }\n  //     deferred.resolve(response);\n  //   }, function () {\n  //     deferred.reject(true);\n  //   });\n  //   return deferred\n  // },\n  //魔法棒删除\n  image_process_delete: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/iar/delete',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //魔法棒接口\n  image_process_item_edit: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/iar/update',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  //通用mask保存接口\n  anno_iar_read: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/iar/read',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  anno_iar_create: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/iar/create',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  anno_iar_update: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/iar/update',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  anno_iar_delete: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/iar/delete',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  },\n  series_result_yayAttributes: function (value) {\n    var deferred = ES.Deferred()\n    ES.ajax({\n      url: api.app.domain1 + 'v1/anno/series_result/yayAttributes',\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      questring: value\n    }).then(function (response) {\n      if (!api.app.apiresult(response)) {\n        return\n      }\n      deferred.resolve(response);\n    }, function () {\n      deferred.reject(true);\n    });\n    return deferred\n  }\n\n}\nmodule.exports = api;\n\n\n// WEBPACK FOOTER //\n// ./app/api/mark.api.js"," //计算公式 获取cornerstone.getViewport(element)里面的translation和scale计算\n /*\n 1.当前的dicom文件距离canvas的0的位置 translation*scale+(外面的canvas的宽度-512*scale）/2\n 2.cornerstone.pixelToCanvas(element, splitHandle)这个里面的x，y是针对外部cavans的0,0为标准\n 3.上面2-1就是为当前元素和dicom文件基于现在比例的差值\n 4.随后拿3/scale,这样就可以有元素相对于dicom的512的相对距离\n\n 5.半径也是用widthCanvas/scale,换算出相对于512的半径\n */\n class Cornerstone_Class {\n     constructor(initData) {\n         let that = this\n\n         this.colwDefault = this.colcDefault = null;\n\n         this.removeId = \"\";\n\n         this.thickness;\n         this.distanceStart;\n\n         this.newImgOrender = \"\";\n         this.spsec;\n         this.calculationCars = new Array();\n\n         this.event = new Interstellar.event()\n         this.stepPage = initData.stepPage || 5\n         this.scroll = (initData.scroll != undefined || initData.scroll != null) ? initData.scroll : true\n         this.imgType = initData.type || 'png'\n\n         this.moveAllElementData = {}\n         this.modifyCount1 = new Object();\n         this.modifyCount2 = new Object();\n         this.modifyDate1 = new Object();\n         this.element = initData.element;\n\n         this.nodeArray = []\n\n         this.imageAddress = initData.imageAddress\n\n         this.axialStack1 = {\n             currentImageIdIndex: initData.index || 0,\n             imageIds: this.imageAddress,\n             preventCache: true\n         }\n         this.nowloadNum = 0\n         this.perload = (initData.perload != undefined || initData.perload != null) ? initData.perload : true\n         this.burshChoose = false\n         this.movelist = false\n         this.init()\n     }\n     init() {\n         let that = this\n             //让多屏可以同时滚动的\n             //let synchronizer1 = new cornerstoneTools.Synchronizer(\"CornerstoneNewImage\", cornerstoneTools.stackImageIndexSynchronizer);\n         let dom = cornerstone.getEnabledElements()\n\n         let nnowE = false\n         for (var i = 0; i < dom.length; i++) {\n             let temp = dom[i]\n             if (temp.element.id == ES.selctorDoc(this.element).attr('id')) {\n                 nnowE = true\n             }\n         }\n         //console.log(nnowE,this.element)\n         if (!nnowE) {\n             this.loadAndViewImage(this.axialStack1.currentImageIdIndex, true, true);\n         } else {\n             var url = this.buildUrl(this.axialStack1.currentImageIdIndex);\n             this.loadImage(url, this.element, true);\n         }\n         if (this.perload) {\n             setTimeout(() => {\n                 //this.beforehandCacheLoad(true, 1, this.imageAddress, this.imageAddress.length)\n             }, 0);\n         }\n     }\n\n     beforehandCacheLoad(flag, loadCurrentCount, baseUrl, maxCount) {\n         if (flag) {\n             for (var i = 1; i < this.stepPage; i++) {\n                 this.loadCache(i, baseUrl);\n             }\n         } else {\n             if (null == this.calculationCars[loadCurrentCount + 1] && loadCurrentCount < maxCount) {\n                 this.loadCache(loadCurrentCount + 1, baseUrl);\n             }\n             if (null == this.calculationCars[loadCurrentCount - 1] && loadCurrentCount > 1) {\n                 this.loadCache(loadCurrentCount - 1, baseUrl);\n             }\n         }\n     }\n     funcNodiuCacheLoad(loadCurrentCount, baseUrl, maxCount) {\n         let after = this.imageAddress.length - loadCurrentCount;\n         if (after != 0) {\n             let loadAfterCount;\n             if (after < this.stepPage)\n                 loadAfterCount = after;\n             else {\n                 loadAfterCount = this.stepPage;\n             }\n             let afterMax = loadCurrentCount * 1 + loadAfterCount * 1;\n             for (var i = loadCurrentCount; i < afterMax; i++) {\n                 if (null == this.calculationCars[i] && loadCurrentCount < maxCount) {\n                     this.loadCache(i, baseUrl);\n                 }\n             }\n         }\n         if (loadCurrentCount > this.stepPage) {\n             let befor = loadCurrentCount - this.stepPage;\n             for (var i = befor; i < loadCurrentCount; i++) {\n                 if (null == this.calculationCars[i] && loadCurrentCount > 1) {\n                     this.loadCache(i, baseUrl);\n                 }\n             }\n         }\n\n     }\n     funcNodule(layerCount, noduleId) {\n         let that = this\n         this.axialStack1.currentImageIdIndex = layerCount - 1\n\n         var url = this.buildUrl(layerCount - 1);\n         //console.log(url, layerCount)\n         //cornerstoneTools.scrollToIndex(this.element,this.axialStack1.currentImageIdIndex)\n         this.loadImage(url, this.element);\n         //this.loadAndViewImage(layerCount*1 - 1, false, false);\n         //this.deleteOtherCanv('dicomImage')\n         setTimeout(function() {\n             // that.funcNodiuCacheLoad(layerCount, that.imageAddress, that.imageAddress.length);\n         }, 0);\n     }\n     loadCache(page, baseUrl) {\n             let url = this.buildUrlLoad(page, baseUrl)\n                 //cornerstoneWADOImageLoader.wadouri.dataSetCacheManager.load(url);\n                 //this.calculationCars[page] = true;\n         }\n         //处理url\n     buildUrl(index) {\n         if (typeof this.imageAddress == \"object\") {\n             if (this.imageAddress[0].lastIndexOf('glayImage') != -1 || this.imageAddress[0].lastIndexOf('pixImage') != -1) {\n                 this.axialStack1.currentImageIdIndex = index\n                 return this.imageAddress[index]\n             }\n             for (let i = 0; i < this.imageAddress.length; i++) {\n                 //console.log(this.imageAddress[i])\n                 let name = this.imageAddress[i].split('?')[0]\n                 let num = '/' + (\"000000\" + (index * 1 + 1)).slice(-6) + '.'\n                     // console.log(num,'numnumnumnumnumnumnumnum',name)\n                 if (name.lastIndexOf(num) != -1) {\n                     this.axialStack1.currentImageIdIndex = i\n                     return this.imageAddress[i]\n                 }\n             }\n             return null\n         }\n     }\n     getIndex(layer) {\n         for (let i = 0; i < this.imageAddress.length; i++) {\n             //console.log(this.imageAddress[i])\n             let name = this.imageAddress[i].split('?')[0]\n             let num = '/' + (\"000000\" + (layer * 1)).slice(-6) + '.'\n                 // console.log(num,'numnumnumnumnumnumnumnum',name)\n             if (name.lastIndexOf(num) != -1) {\n                 //this.axialStack1.currentImageIdIndex = i\n                 return i\n             }\n         }\n     }\n     getLayerNum(index) {\n         let tempA = this.imageAddress[index].split('?')[0].split('/')\n         return tempA[tempA.length - 1].split('.')[0] * 1\n     }\n     buildUrlLoad(index, baseUrl) {\n         if (typeof this.imageAddress == \"object\") {\n             return this.imageAddress[index]\n         }\n         //alert($(\"#imageAddress\").text());\n         if (this.imgType == \"dcm\") {\n             return baseUrl + '/' + this.getLenStr(6, index) + '.dcm';\n         } else {\n             return baseUrl + '/' + this.getLenStr(6, index) + '.png';\n         }\n     }\n     getLenStr(n, s) {\n             if ((s + '').length < n) {\n                 return (String(Math.pow(10, n)) + s).slice(-n)\n             }\n             return s;\n         }\n         //-------------\n         //添加测量事件\n     GenNonDuplicateID(randomLength) {\n         return Number(Math.random().toString().substr(3, randomLength) + Date.now()).toString(36)\n     }\n     cornerstonetoolsmeasurementadded(e) {\n         e.detail.measurementData.id = this.GenNonDuplicateID(12)\n         this.event._dispatch('Cornerstone_Class.MeasurementAdded', e)\n     }\n     cornerstonetoolsmouseup(e) {\n        if (this.moveAllElementData) {\n          if (this.removeId && this.removeId == this.moveAllElementData.id) {\n            this.moveAllElementData = null\n            this.removeId = null\n          }\n          const tempHandles = this.moveAllElementData.handles\n          if (tempHandles) {\n            const { x: x1, y: y1 } = tempHandles.start\n            const { x: x2, y: y2 } = tempHandles.end\n            const dx = (x1 - x2) * (this.spsecX || 1)\n            const dy = (y1 - y2) * (this.spsecY || 1)\n            this.moveAllElementData.handles.length = Math.sqrt(dx * dx + dy * dy).toFixed(2)\n          }\n        }\n        this.event._dispatch('Cornerstone_Class.MeasurementEnd', this.moveAllElementData)\n     }\n     cornerstonetoolsmousedown(e) {\n         this.event._dispatch('Cornerstone_Class.mousedown', {\n             e: e\n         })\n     }\n     cornerstonetoolsmouseclick(e) {\n         this.event._dispatch('Cornerstone_Class.click', {\n             e: e\n         })\n     }\n     cornerstonemeasurementremoved(e) {\n         var id = e.detail.measurementData.uuid;\n         this.removeId = id;\n         this.event._dispatch('Cornerstone_Class.MeasurementRemove', {\n             id: id,\n             layerNumber: this.getLayerNum(this.axialStack1.currentImageIdIndex) //this.axialStack1.currentImageIdIndex + 1\n         })\n     }\n     cornerstonetoolsmeasurementmodified(e) {\n         var id = e.detail.measurementData.id;\n         if (this.removeId == id) {\n             return\n         }\n         // console.log(e.detail.measurementData)\n         //var definitionStartX = Math.min(e.detail.measurementData.handles.start.x, e.detail.measurementData.handles.end.x)\n         //var definitionStartY = Math.min(e.detail.measurementData.handles.start.y, e.detail.measurementData.handles.end.y)\n         /*var splitHandle = {\n             \"x\": definitionStartX,\n             \"y\": definitionStartY,\n             \"highlight\": true,\n             \"active\": false\n         };*/\n         let splitHandle = e.detail.measurementData\n         this.event._dispatch('Cornerstone_Class.ModifiedFinsh', {\n             element: this.element,\n             e: e,\n             splitHandle: splitHandle,\n             spsec: this.spsec\n         })\n     }\n     cornerstonetoolsmousedrag(e) {\n         this.event._dispatch('Cornerstone_Class.MouseDrag', {\n             element: this.element,\n             e: e,\n             layerNumber: this.getLayerNum(this.axialStack1.currentImageIdIndex) // this.axialStack1.currentImageIdIndex + 1\n         })\n     }\n     cornerstonetoolsmousewheel(e) {\n       this.event._dispatch('Cornerstone_Class.cornerstonetoolsmousewheel')\n       //let nowUrl = this.buildUrl(this.axialStack1.currentImageIdIndex);\n       //this.loadImage(nowUrl, this.element)\n     }\n     //图片加载\n     loadImage(url, elementT, changewindow) {\n         let that = this\n         cornerstone.loadImage(url).then(function(image) {\n             //console.log('---------------------')\n             //cornerstone.loadAndCacheImage(url).then(function(image) {\n             // console.log('aaaaa', that.axialStack1.currentImageIdIndex)\n             if (cornerstoneTools.getToolState(that.element, 'stack')) {\n                 cornerstoneTools.getToolState(that.element, 'stack').data[0].currentImageIdIndex = that.axialStack1.currentImageIdIndex\n             }\n             if (changewindow) {\n                 that.zoomFan()\n             }\n             cornerstone.displayImage(elementT, image);\n             setTimeout(function() {\n                 that.event._dispatch('Cornerstone_Class.LoadFinish', {\n                     el: that.element\n                 })\n             }, 0)\n         }, function(err) {\n             alert(err);\n         });\n     }\n     loadAndViewImage(imageId, isLoad, isInit) {\n         let offsets = new Map();\n         this.axialStack1.currentImageIdIndex = (imageId < 0 ? 0 : imageId);\n         cornerstone.enable(this.element);\n         cornerstoneTools.mouseInput.enable(this.element);\n         cornerstoneTools.mouseWheelInput.enable(this.element);\n         //cornerstoneTools.keyboardInput.enable(this.element);\n         let url = this.buildUrl(imageId);\n         console.log(url, imageId)\n         let that = this\n         let mousePos = 0\n         this.element.addEventListener('cornerstonenewimage', function(e) {\n             that.onNewImage(e)\n         });\n         this.element.addEventListener('cornerstoneimagerendered', function(e) {\n             that.onImageRendered(e)\n         });\n         this.element.addEventListener('cornerstonetoolsmeasurementmodified', function(e) {\n             //console.log('aaaaa',e)\n             that.cornerstonetoolsmeasurementmodified(e)\n         })\n         this.element.addEventListener('cornerstonetoolsmeasurementadded', function(e) {\n             that.cornerstonetoolsmeasurementadded(e)\n         });\n         this.element.addEventListener('cornerstonemeasurementremoved', function(e) {\n             ///console.log('aaa',e)\n             if (that.onlyClose) {\n                 return\n             }\n             that.cornerstonemeasurementremoved(e)\n         })\n         this.element.addEventListener('cornerstonetoolsmousewheel', function(e) {\n             that.cornerstonetoolsmousewheel(e)\n         })\n         this.element.addEventListener('cornerstonetoolsmouseclick', function(e) {\n             mousePos = e.detail.event.buttons || e.detail.event.button\n             if (mousePos == 2) {\n                 return\n             }\n             that.cornerstonetoolsmouseclick(e)\n                 // console.log('aaaaaaaa',e)\n         })\n         this.element.addEventListener('cornerstonetoolsmousedownactivate', function(e) {\n             that.cornerstonetoolsmousedownactivate(e)\n         })\n         this.element.addEventListener('cornerstoneimageloadfailed', function(e) {\n\n         })\n         this.element.addEventListener('cornerstonetoolsmousemove', function(e) {\n                 //console.log(e)\n                 that.cornerstonetoolsmousemove(e)\n             })\n             //for brush\n         this.element.addEventListener('cornerstonetoolsmousedrag', function(e) {\n             e.mousePos = mousePos\n                 //console.log('cornerstonetoolsmousemove', e)\n             that.cornerstonetoolsmousedrag(e)\n         })\n         this.element.addEventListener('cornerstonetoolsmousedown', function(e) {\n             //console.log(e)\n             mousePos = e.detail.event.buttons || e.detail.event.button\n             if (mousePos == 2) {\n                 return\n             }\n             that.cornerstonetoolsmousedown(e)\n         })\n         this.element.addEventListener('cornerstonetoolsmouseup', function(e) {\n             //console.log('cornerstonetoolsmouseup')\n             that.cornerstonetoolsmouseup(e)\n         })\n         this.element.addEventListener('cornerstoneactivelayerchanged', function(e) {\n             // console.log('cornerstoneactivelayerchanged', e)\n             that.cornerstoneactivelayerchanged(e)\n                 // that.cornerstonetoolsmouseup(e)\n         })\n         this.element.addEventListener('cornerstonelayeradded', function(e) {\n                 that.cornerstonelayeradded(e)\n             })\n             //console.log(url)\n         cornerstone.loadImage(url).then(function(image) {\n             //cornerstone.loadAndCacheImage(url).then(function(image) {\n             //console.log('initinitinitinitinitinit')\n             var viewport = cornerstone.getDefaultViewportForImage(that.element, image);\n             if (!isLoad) {\n                 if (null != that.colcDefault && null != that.colwDefault) {\n                     viewport.voi.windowWidth = that.colwDefault;\n                     viewport.voi.windowCenter = that.colcDefault;\n                 }\n             } else {\n                 that.colcDefault = viewport.voi.windowCenter;\n                 that.colwDefault = viewport.voi.windowWidth;\n             }\n             cornerstone.displayImage(that.element, image, viewport);\n             cornerstoneTools.addStackStateManager(that.element, ['stack']);\n             cornerstoneTools.addToolState(that.element, 'stack', that.axialStack1);\n             if (isInit) {\n                 //cornerstoneTools.zoom.activate(that.element, 1);\n                 cornerstoneTools.ellipticalRoi.deactivate(that.element, 1);\n                 cornerstoneTools.pan.activate(that.element, 4);\n                 // console.log(that.scroll, 'scrollscrollscrollscroll', that.axialStack1)\n                 if (that.scroll) {\n                     cornerstoneTools.stackScrollWheel.activate(that.element);\n                 }\n             }\n             setTimeout(function() {\n                 that.event._dispatch('Cornerstone_Class.LoadFinish', {\n                     el: that.element\n                 })\n             }, 0)\n         }, function(err) {\n             alert(err);\n         });\n     }\n     cornerstonetoolsmousemove(e) {\n         this.event._dispatch('Cornerstone_Class.cornerstonetoolsmousemove', e)\n     }\n     cornerstoneactivelayerchanged(e) {\n         this.event._dispatch('Cornerstone_Class.ActiveLayerChanged', e)\n     }\n     cornerstonelayeradded(e) {\n         this.event._dispatch('Cornerstone_Class.LayerAdded', e)\n     }\n     cornerstonetoolsmousedownactivate(e) {\n         this.event._dispatch('Cornerstone_Class.brushDown', e)\n     }\n     onImageRendered(e) {\n       this.removePartData()\n       let image = e.detail.image;\n       let eventData = e.detail;\n       // let str=new RegExp(\"(\\\\/0*\\\\d.\"+this.imgType+\"$){1,}\",\"g\")\n       // let layerNumber=this.imageAddress[this.axialStack1.currentImageIdIndex].split('?')[0].match(str)\n       // console.log(layerNumber,'layerNumberlayerNumber',this.imageAddress[this.axialStack1.currentImageIdIndex].split('?')[0],str)\n       // let ymd = String(image.data.string('x00080022'))\n       // let hms = String(image.data.string('x00080030')) //image.data.string('x00080022')+image.data.string('x00080030') * 1000;\n       // let xDate = ymd.substr(0, 4) + '-' + ymd.substr(4, 2) + '-' + ymd.substr(6) + ' ' + hms.substr(0, 2) + ':' + hms.substr(2, 2) + ':' + hms.substr(4, 2)\n       let data = {\n         // ABDCMENA: image.data.string('x00180015'),\n         // slicethickness: image.data.string('x00180050'),\n         // convolutionKernel: image.data.string('x00181210'),\n         // KVP: image.data.string('x00180060'),\n         // rayTubeCurrent: image.data.string('x00181151'),\n         // seriesNumber: image.data.string('x00200011'),\n         // pixelSpacing: parseFloat(image.data.string('x00280030')),\n         viewport: cornerstone.getViewport(this.element).voi,\n         // xDate,\n         e: e,\n         canvasContext: eventData.canvasContext,\n         element: this.element,\n         image: image,\n         currentCount: this.axialStack1.currentImageIdIndex\n       }\n       this.spsecX = image.columnPixelSpacing\n       this.spsecY = image.rowPixelSpacing\n       this.event._dispatch('Cornerstone_Class.ImageRendered', data)\n     }\n     onNewImage(e) {\n         let v = this.axialStack1.currentImageIdIndex + 1;\n         if (this.perload) {\n             this.beforehandCacheLoad(false, v, this.imageAddress, this.imageAddress.length);\n         }\n     }\n\n     //----------------\n     //获取视窗\n     getViewport() {\n         var viewport = cornerstone.getViewport(this.element);\n         return viewport\n     }\n     setViewport(value) {\n         cornerstone.setViewport(this.element, value);\n     }\n\n     /*getState() {\n         return cornerstoneTools.getToolState(this.element, 'ellipticalRoi')\n     }*/\n     getAllState() {\n         let rectangleRoi = cornerstoneTools.getToolState(this.element, 'rectangleRoi')\n         let simpleAngle = cornerstoneTools.getToolState(this.element, 'simpleAngle')\n         let ellipticalRoi = cornerstoneTools.getToolState(this.element, 'ellipticalRoi')\n         let length = cornerstoneTools.getToolState(this.element, 'length')\n         let alignment = cornerstoneTools.getToolState(this.element, 'alignment')\n         let arr = []\n         if (rectangleRoi) {\n             this.setUUidData(rectangleRoi, arr, 'rectangleRoi')\n         }\n         if (simpleAngle) {\n             this.setUUidData(simpleAngle, arr, 'simpleAngle')\n         }\n         if (alignment) {\n             this.setUUidData(alignment, arr, 'alignment')\n         }\n         if (ellipticalRoi) {\n             this.setUUidData(ellipticalRoi, arr, 'ellipticalRoi')\n         }\n         if (length) {\n             this.setUUidData(length, arr, 'length')\n         }\n         return arr\n     }\n     setUUidData(value, arr, type) {\n         value.data.map(function(item) {\n             if (item.uuid) {\n                 item.tooltype = type\n                 arr.push(item)\n             }\n         })\n     }\n     geSiglneState(name) {\n             return cornerstoneTools.getToolState(this.element, name)\n         }\n         //--------------\n         //所有的工具\n     resetAfter() {\n\n     }\n     disableAllTools(isdis) {\n         if (isdis) {\n             cornerstoneTools.zoom.disable(this.element, 1);\n             // cornerstoneTools.pan.disable(this.element, 1);\n             cornerstoneTools.wwwc.disable(this.element, 1);\n             cornerstoneTools.magnify.disable(this.element, 1);\n             cornerstoneTools.probe.disable(this.element, 1);\n             cornerstoneTools.brush.disable(this.element, 1);\n\n         }\n         if (this.burshChoose) {\n             cornerstoneTools.brush.deactivate(this.element, 1);\n         }\n         this.burshChoose = false\n         cornerstoneTools.length.deactivate(this.element, 1);\n         cornerstoneTools.alignment.deactivate(this.element, 1);\n         cornerstoneTools.simpleAngle.deactivate(this.element, 1);\n         cornerstoneTools.ellipticalRoi.deactivate(this.element, 1);\n         cornerstoneTools.rectangleRoi.deactivate(this.element, 1);\n         //  this.resetAfter();\n     }\n     removePartData() {\n         cornerstone.imageCache.cachedImages.map(function(item) {\n             if (item.image) {\n                 if (item.image.data) {\n                     item.image.data = {}\n                 }\n             }\n         })\n     }\n     resizeCon() {\n         if (this.element) {\n             cornerstone.resize(this.element, true)\n         }\n     }\n     lungWindown(c, w, id) {\n         var viewport = cornerstone.getViewport(this.element);\n         viewport.voi.windowWidth = w;\n         viewport.voi.windowCenter = c;\n         cornerstone.setViewport(this.element, viewport);\n         //this.event._dispatch('Cornerstone_Class.wlChange')\n     }\n     ellipticalRoiFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.ellipticalRoi.activate(this.element, 1);\n         //cornerstoneTools.ellipticalRoiTouch.activate(this.element);\n     }\n     rectangleRoiFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.rectangleRoi.activate(this.element, 1);\n         //cornerstoneTools.rectangleRoiTouch.activate(this.element);\n     }\n     magicStickSingleFan() {\n         this.disableAllTools(true);\n         // cornerstoneTools.rectangleRoi.activate(this.element, 1);\n     }\n     probeFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.probe.activate(this.element, 1);\n         //cornerstoneTools.ellipticalRoiTouch.activate(this.element);\n     }\n     setcolDefault(c, w) {\n         this.colwDefault = w\n         this.colcDefault = c\n     }\n     restFan() {\n         console.log('restFanrestFanrestFan')\n             //cornerstone.reset(this.element);\n         cornerstone.resize(this.element, true)\n         var viewport = cornerstone.getViewport(this.element);\n         //console.log(viewport, this.colcDefault)\n         viewport.voi.windowWidth = this.colwDefault;\n         viewport.voi.windowCenter = this.colcDefault;\n         cornerstone.setViewport(this.element, viewport);\n         //this.resizeCon()\n     }\n     wlFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.wwwc.activate(this.element, 1);\n     }\n     panFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.pan.activate(this.element, 1);\n     }\n     lengthFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.length.activate(this.element, 1);\n         //cornerstoneTools.lengthTouch.activate(this.element);\n     }\n     simpleAngleFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.simpleAngle.activate(this.element, 1);\n         //cornerstoneTools.simpleAngleTouch.activate(this.element);\n     }\n\n     //POLYGON\n     polygonFan() {\n         this.disableAllTools(true);\n         console.log(this.element)\n         this.burshChoose = false\n             //var url = this.buildUrl(this.axialStack1.currentImageIdIndex);\n             //this.burshImageLoad(url, this.element)\n             //cornerstoneTools.freehand.activate(this.element, 1);\n             //cornerstoneTools.simpleAngleTouch.activate(this.element);\n     }\n\n     //quickselect\n     quickselectFan() {\n         this.disableAllTools(true);\n         console.log(this.element)\n         this.burshChoose = false\n             //var url = this.buildUrl(this.axialStack1.currentImageIdIndex);\n             //this.burshImageLoad(url, this.element)\n             //cornerstoneTools.freehand.activate(this.element, 1);\n             //cornerstoneTools.simpleAngleTouch.activate(this.element);\n     }\n\n     //regionpaint\n     regionpaintFan() {\n         this.disableAllTools(true);\n         console.log(this.element)\n         this.burshChoose = false\n             //var url = this.buildUrl(this.axialStack1.currentImageIdIndex);\n             //this.burshImageLoad(url, this.element)\n             //cornerstoneTools.freehand.activate(this.element, 1);\n             //cornerstoneTools.simpleAngleTouch.activate(this.element);\n     }\n     freehandFan() {\n         this.disableAllTools(true);\n         console.log(this.element)\n         this.burshChoose = false\n             //var url = this.buildUrl(this.axialStack1.currentImageIdIndex);\n             //this.burshImageLoad(url, this.element)\n\n         //cornerstoneTools.freehand.activate(this.element, 1);\n         //cornerstoneTools.simpleAngleTouch.activate(this.element);\n     }\n\n     magnifyFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.magnify.activate(this.element, 1);\n     }\n\n     brushFan() {\n         this.disableAllTools(true);\n         var url = this.buildUrl(this.axialStack1.currentImageIdIndex);\n         //cornerstoneTools.brush.activate(this.element, 1);\n         //this.burshChoose = true\n         //this.burshImageLoad(url, this.element)\n\n     }\n     brushFanTe() {\n         console.log('brushFanTebrushFanTebrushFanTebrushFanTe')\n         this.disableAllTools(true);\n         var url = this.buildUrl(this.axialStack1.currentImageIdIndex);\n         cornerstone.updateImage(this.element);\n         //cornerstoneTools.brush.activate(this.element, 1);\n         //this.disableAllTools(true);\n         // this.restFan()\n         //this.burshChoose = true\n         //this.burshImageLoad(url, this.element)\n\n     }\n     burshImageLoad(url, elementT) {\n         let that = this\n         cornerstone.loadImage(url).then(function(image) {\n             if (cornerstoneTools.getToolState(that.element, 'stack')) {\n                 cornerstoneTools.getToolState(that.element, 'stack').data[0].currentImageIdIndex = that.axialStack1.currentImageIdIndex\n             }\n             cornerstone.displayImage(elementT, image);\n             //cornerstoneTools.brush.activate(elementT, 1);\n             setTimeout(function() {\n                 that.event._dispatch('Cornerstone_Class.LoadFinish', {\n                     el: that.element\n                 })\n             }, 0)\n         }, function(err) {\n             alert(err);\n         });\n     }\n     clearSigleFan(name) {\n         cornerstoneTools.clearToolState(this.element, name);\n         cornerstone.updateImage(this.element);\n     }\n\n     //name为工具类型，data为画图数据，可以通过getToolState方法获取\n     clearSigleData(name, data, onlyClose) {\n         this.onlyClose = onlyClose\n         cornerstoneTools.removeToolState(this.element, name, data);\n         cornerstone.updateImage(this.element);\n     }\n     clearFan() {\n         cornerstoneTools.clearToolState(this.element, \"length\");\n         cornerstoneTools.clearToolState(this.element, \"simpleAngle\");\n         cornerstoneTools.clearToolState(this.element, \"ellipticalRoi\");\n         cornerstoneTools.clearToolState(this.element, \"rectangleRoi\");\n         cornerstoneTools.clearToolState(this.element, \"probe\");\n         cornerstoneTools.clearToolState(this.element, \"alignment\");\n         cornerstone.updateImage(this.element);\n     }\n     cobbFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.length.activate(this.element, 1);\n     }\n     alignmentFan() {\n         this.disableAllTools(true);\n         //cornerstoneTools.freehand.activate(this.element, 1);\n         cornerstoneTools.alignment.activate(this.element, 1);\n     }\n     zoomFan() {\n         this.disableAllTools(true);\n         cornerstoneTools.zoom.activate(this.element, 1);\n         //this.resetAfter();\n     }\n     setNode(value) {\n         this.nodeArray = value\n     }\n     deleteOtherCanv(id) {\n         ES.selctorDoc(\"#\" + id).remove()\n     }\n     close() {\n         console.log('eowqwipewq')\n             //this.disableAllTools(true)\n             //cornerstoneTools.brush.clear()\n         cornerstoneTools.clearToolState(this.element, \"brush\");\n         cornerstoneTools.clearToolState(this.element, \"length\");\n         cornerstoneTools.clearToolState(this.element, \"simpleAngle\");\n         cornerstoneTools.clearToolState(this.element, \"ellipticalRoi\");\n         cornerstoneTools.clearToolState(this.element, \"rectangleRoi\");\n         cornerstoneTools.clearToolState(this.element, \"alignment\");\n         console.log('eowqwipewq', this.element)\n         cornerstone.disable(this.element)\n     }\n\n }\n module.exports = Cornerstone_Class;\n\n\n\n// WEBPACK FOOTER //\n// ./app/utils/cornerstone_class.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ctcornerstone.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ctcornerstone.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ctcornerstone.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/ctcornerstone/ctcornerstone.less\n// module id = 641\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","require(\"./crossline.less\")\nclass crossline extends Interstellar.moduleBase {\n    constructor(app, value, api, addMode) {\n        super(app, value, api, addMode)\n        this.html = require('./tpl.html')\n        this.name = 'crossline'\n    }\n    complete() {\n        let st = false\n        this.dom.find('.yline').on('mousedown', (e) => {\n            let xy = this.xyChange({ x: e.pageX, y: e.pageY })\n            this.nowpos = xy\n            //e.offsetY\n            console.log(xy, e.pageX, e.pageY)\n            this.dom.find('.xline').css({ transform: \"translate(0px,\" + xy.y + \"px)\" })\n            this.dom.find('.yline').css({ transform: \"translate(\" + xy.x + \"px,0px)\" })\n            st = true\n        })\n        this.dom.find('.xline').on('mousedown', (e) => {\n            let xy = this.xyChange({ x: e.pageX, y: e.pageY })\n            this.nowpos = xy\n            //e.offsetY\n            this.dom.find('.xline').css({ transform: \"translate(0px,\" + xy.y + \"px)\" })\n            this.dom.find('.yline').css({ transform: \"translate(\" + xy.x + \"px,0px)\" })\n            st = true\n        })\n        this.dom.parent().on('mousemove', (e) => {\n            //console.log(e)\n            if (st) {\n                let xy = this.xyChange({ x: e.pageX, y: e.pageY })\n                this.nowpos = xy\n                //e.offsetY\n                //console.log(xy)\n                this.dom.find('.xline').css({ transform: \"translate(0px,\" + xy.y + \"px)\" })\n                this.dom.find('.yline').css({ transform: \"translate(\" + xy.x + \"px,0px)\" })\n                this.event._dispatch('crossline.move')\n            }\n        })\n        this.dom.parent().on('mouseup', (e) => {\n            st = false\n            this.event._dispatch('crossline.mouseup')\n        })\n\n        this.dom.find('.yline').on('mouseup', (e) => {\n            st = false\n            this.event._dispatch('crossline.mouseup')\n            //this.dom.off('mousemove')\n        })\n        this.dom.find('.xline').on('mouseup', (e) => {\n            st = false\n            this.event._dispatch('crossline.mouseup')\n            //this.dom.off('mousemove')\n        })\n    }\n    setYHeight(h) {\n        this.dom.find('.yline').css({ 'height': h })\n    }\n    setXYLinePos(data) {\n        //this.xylinepos=data\n        this.dom.find('.xline').css({ transform: \"translate(0px,\" + data.y + \"px)\" })\n        this.dom.find('.yline').css({ transform: \"translate(\" + data.x + \"px,0px)\" })\n    }\n    xyChange(point) {\n        let cWidth = ES.selctorDoc(window).box().clientWidth - 180 - 290\n        let cHeight = ES.selctorDoc(window).box().clientHeight - 60 - 64\n        //console.log(this.type)\n        let x = point.x - (this.type == \"z\" ? 180 : (180 + cWidth / 2))\n        let y = point.y - (this.type != \"x\" ? 124 : (124 + cHeight / 2))\n        return { x, y }\n    }\n    setPos(point, scaleT) {\n        // console.log(this.dom.box())\n        this.nowpos = point\n        this.dom.find('.xline').css({ transform: \"translate(0px,\" + point.y + \"px)\" })\n        this.dom.find('.yline').css({ transform: \"translate(\" + point.x + \"px,0px)\" })\n        //this.dom.find('xline')\n        //this.dom.find('yline')\n    }\n    returnXY(dom) {\n        let transform = dom.dom[0].dom.style.transform\n        let x = transform.split(\",\")[0].split(\"(\")[1].split(\"px\")[0] * 1\n        let y = transform.split(\",\")[1].split(\")\")[0].split(\"px\")[0] * 1\n        return { x, y }\n    }\n    close() {\n\n    }\n    setPostion() {\n\n    }\n\n}\nmodule.exports = crossline;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/crossline/crossline.js","require(\"./magicloading.less\")\nclass progress extends Interstellar.modalBase {\n    constructor(app, dom, value, addMode) {\n        super(app, dom, value, addMode)\n        this.html = require('./tpl.html')\n        this.name = 'magicloading'\n    }\n    complete(){\n    \tthis.initDate.title=this.initDate.title?this.initDate.title:'正在努力运算中，请耐心等待'\n    \tthis.dom.find('.p-name').html(this.initDate.title)\n    }\n   \n}\nmodule.exports = progress;\n\n\n// WEBPACK FOOTER //\n// ./app/modal/magicloading/magicloading.js","require(\"./progress.less\")\nclass progress extends Interstellar.modalBase {\n    constructor(app, dom, value, addMode) {\n        super(app, dom, value, addMode)\n        this.html = require('./tpl.html')\n        this.name = 'progress'\n    }\n    makeprogress(value) {\n        let pr = Number(value.rate).toFixed(2) + '%'\n        this.dom.find('.blue').css({ width: 4 * value.rate })\n        this.dom.find('.p-name').html(pr)\n    }\n    autoprogress() {\n        if (this.timeSt) {\n            return\n        }\n        let rate = 5\n        this.timeSt = setInterval(() => {\n            rate = rate + 1\n            if (rate < 95) {\n                this.makeprogress({ rate: rate })\n            }\n        }, 500)\n    }\n    stopAll() {\n        //console.log(this.timeSt)\n        if (this.timeSt) {\n            clearInterval(this.timeSt)\n        } else {\n            return\n        }\n        //console.log('aaaaaaaaaaaaa')\n        this.dom.find('.blue').css({ width: 400 })\n        this.dom.find('.p-name').html('100%')\n        setTimeout(() => {\n            this.close()\n        }, 200)\n    }\n}\nmodule.exports = progress;\n\n\n// WEBPACK FOOTER //\n// ./app/modal/progress/progress.js","require(\"./ctcornerstone.less\");\n\n/**/\nclass ctcornerstone_base extends Interstellar.moduleBase {\n    constructor(app, dom, value, addMore) {\n        super(app, dom, value, addMore)\n        this.sceen = 0\n        this.choosescreen = 0\n        this.cornerstoneArray = []\n        this.nowWWC = []\n        this.html = require('./tpl.html')\n        this.makeStudy = true\n        this.nidusSigle = false\n            //获取配置\n        this.cornerstoneTools_config = require(\"../../../config/cornerstoneTool_config.js\")\n        this.drawInfo = require(\"./manager.js\")\n        this.ctProgress = require(\"../ctprogress/ctprogress.js\")\n        this.brushManage = require(\"./brush_manager.js\")\n        this.setoolconfig = require(\"./setcomfig_tool.js\")\n        this.baseLine = require(\"../../utils/baselinebak.js\")\n        this.crossLine = require(\"../../utils/baseline.js\")\n        require(\"./ctcornerstoneload.js\")\n        this.clearLayer = []\n        this.nodeInfo = {}\n        this.initFrist = {}\n        this.brushC = []\n        let model = require(\"./ctcornerstone_model.js\")\n        this.nodeShow = true //是否显示影像标注，如果是true就要显示，如果是false就不显示\n        this.model = new model(this.app)\n        this.crossline = require('../crossline/crossline.js')\n\n    }\n    complete() {\n        //进行工具配置\n        cornerstoneTools.toolColors.setToolColor(\"#fbb03b\")\n            //重写了画椭球型，矩形，长度，放大镜的功能\n        require('../../libs/cornerstoneTools/rectangleRoi.js')\n        require('../../libs/cornerstoneTools/length.js')\n        require('../../libs/cornerstoneTools/magnify.js')\n        require('../../libs/cornerstoneTools/brush.js')\n        require('../../libs/cornerstoneTools/simpleAngle.js')\n        require('../../libs/cornerstoneTools/ellipticalRoi.js')\n        require('../../libs/cornerstoneTools/lengths.js')\n        require('../../libs/cornerstoneTools/zoom.js')\n            //cornerstoneTools.ellipticalRoi.setConfiguration(this.cornerstoneTools_config.ellipticalRoi_config);\n        let that = this\n        this.setoolconfig.setconfig('ellipticalRoiFan', this.cornerstoneTools_config.ellipticalRoi_config)\n        this.setoolconfig.setconfig('rectangleRoiFan', this.cornerstoneTools_config.rectangleRoi_config)\n        cornerstoneTools.magnify.setConfiguration(this.cornerstoneTools_config.magnify_config);\n        //\n        cornerstoneWADOImageLoader.external.cornerstone = cornerstone;\n        //cornerstone.registerImageLoader('myImageLoader', loadImage);\n        this.mprClass = require(\"../../modules/mpr/mpr\")\n        this.moduleLoad()\n    }\n    moduleLoad() {\n        let sequenceC = require(\"../sequencelist/sequencelist.js\")\n        this.ctmenu(sequenceC)\n        let sequenceList = require(\"../serieslist/serieslist.js\")\n        this.initSeriesLists(sequenceList)\n\n        this.deferred = ES.Deferred()\n        let that = this\n        require.ensure(\"../../utils/cornerstone_class.js\", function() {\n            that.class_c = require(\"../../utils/cornerstone_class.js\")\n            that.deferred.resolve({});\n        })\n        let nidusinfo = require(\"../nidusinfo/nidusinfo.js\")\n        this.nidusControl = this.app.loadModule(nidusinfo, this.dom.find('.ctcornerstone .nidus_content'))\n        this.nidusControl.event._addEvent('nidusinfo.finish', function(value) {\n            if (!that.model.nidusChoose) {\n                return\n            }\n            for (var i in that.nidusControl.chooseData) {\n                //console.log(that.model.nidusComponentData[that.nidusControl.backId],that.model.nidusComponentData)\n                that.model.nidusComponentData[that.nidusControl.backId] = that.model.nidusComponentData[that.nidusControl.backId] ? that.model.nidusComponentData[that.nidusControl.backId] : {}\n                that.model.nidusComponentData[that.nidusControl.backId][i] = that.nidusControl.chooseData[i]\n            }\n            //console.log(that.model.nidusChoose)\n            //that.model.nidusComponentData[that.nidusControl.backId] = that.nidusControl.chooseData\n            that.event._dispatch('ctcornerstone.editNodeItem', {\n                chooseData: that.nidusControl.chooseData,\n                backId: that.nidusControl.backId,\n                sId: that.model.nidusChoose.sId,\n                jiangui: value\n            })\n        })\n        this.nidusControl.event._addEvent('nidusinfo.remarkFinish', function(value) {\n            if (!that.model.nidusChoose) {\n                return\n            }\n            for (var i in that.nidusControl.chooseData) {\n                //console.log(that.model.nidusComponentData[that.nidusControl.backId],that.model.nidusComponentData)\n                that.model.nidusComponentData[that.nidusControl.backId] = that.model.nidusComponentData[that.nidusControl.backId] ? that.model.nidusComponentData[that.nidusControl.backId] : {}\n                that.model.nidusComponentData[that.nidusControl.backId][i] = that.nidusControl.chooseData[i]\n            }\n            //console.log(that.model.nidusChoose)\n            //that.model.nidusComponentData[that.nidusControl.backId] = that.nidusControl.chooseData\n            that.model.nidusComponentData[that.nidusControl.backId].imageRemark = that.nidusControl.remarkRes\n            that.event._dispatch('ctcornerstone.NodeRemark', {\n                chooseData: that.nidusControl.chooseData,\n                remarkRes: that.nidusControl.remarkRes,\n                backId: that.nidusControl.backId,\n                sId: that.model.nidusChoose.sId,\n                jiangui: value\n            })\n        })\n        this.nidusControlAll = this.app.loadModule(nidusinfo, this.dom.find('.ctcornerstone .info'))\n        this.nidusControlAll.show()\n        this.nidusControlAll.event._addEvent('nidusinfo.finish', function() {\n            //that.nidusControlAll.chooseData.sId=that.model.nidusChoose.sId\n            that.event._dispatch('ctcornerstone.Allthing', that.nidusControlAll.chooseData)\n        })\n        this.nidusControlAll.event._addEvent('nidusinfo.remarkFinish', function() {\n            //that.nidusControlAll.chooseData.sId=that.model.nidusChoose.sId\n            that.event._dispatch('ctcornerstone.AllRemark', that.nidusControlAll.remarkRes)\n        })\n    }\n    openmpr() {\n        if (this.cornerstoneArray[this.choosescreen]) {\n            this.app.loading.show()\n            let sId = this.cornerstoneArray[this.choosescreen].sId\n            let serinfo = this.model.seriesInfo[sId]\n            this.nowmpr = this.app.loadModule(this.mprClass, this.dom.find('.ctcornerstone .mpr'), {\n                info: serinfo\n            })\n            this.nowmpr.openS(this.cornerstoneArray[this.choosescreen].axialStack1.imageIds, this.nodeInfo, this.brushManage)\n            this.nowmpr.sId = sId\n            this.nowmpr.event._addEvent('mpr.closeAll', () => {\n                this.nowmpr = null\n                this.dom.find('.ctcornerstone .mpr').hide()\n                this.dom.find('.ctcornerstone .mpr').html('')\n                this.mpr = false\n            })\n        } else {\n            this.app.alert.show({\n                title: ' ',\n                msg: '请先选择一个序列',\n                close: true,\n                sure: function() {\n                    window.location.reload();\n                }\n            })\n        }\n    }\n    groupMakeSame(value) {\n        let gid = value.backId.split('_')[0] * 1 + '_'\n        for (let i in this.model.nidusComponentData) {\n            if (i.lastIndexOf(gid) != -1 && i != value.backId) {\n                console.log(this.model.nidusComponentData[i], 'this.model.nidusComponentData[i]this.model.nidusComponentData[i]')\n                for (let j in value.chooseData) {\n                    this.model.nidusComponentData[i][j] = value.chooseData[j]\n                }\n            }\n        }\n    }\n    baseLineSt(value, type) {\n        if (type == 'cross') {\n            this.crossOpen = value\n            this.baseLineOpen = false\n            for (let i = 0; i < this.sceen; i++) {\n                if (this.cornerstoneArray[i]) {\n                    this.gotoLayer(null, this.cornerstoneArray[i].sId)\n                }\n            }\n            this.creatCrossLine()\n                //this.gotoLayer()\n        } else {\n            this.baseLineOpen = value\n            this.crossOpen = false\n            this.removeCrossLine()\n        }\n        //    this.baseLineOpen = value\n    }\n    creatCrossLine() {\n        this.crossArray = []\n        for (var i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i]) {\n                let id = i\n                let box = this.dom.find('#ct' + id).box()\n                this.crossArray[id] = this.app.loadModule(this.crossline, this.dom.find('.ct' + id + ' .line'))\n                this.crossArray[id].type = 'z'\n                let screenPoint = this.model.returnScreenPoint({\n                    x: box.clientWidth / 2,\n                    y: box.clientHeight / 2\n                }, id, this.sceen, {\n                    w: box.clientWidth,\n                    h: box.clientHeight\n                })\n                this.crossArray[id].setPos(screenPoint)\n                this.crossArray[id].setXYLinePos({\n                    x: box.clientWidth / 2,\n                    y: box.clientHeight / 2\n                })\n                this.crossArray[id].setYHeight(box.clientHeight)\n                let point = this.crossArray[id].nowpos\n                point = this.model.returnRealPoint(point, id, this.sceen, {\n                    w: box.clientWidth,\n                    h: box.clientHeight\n                })\n                this.crossArray[id].setXYLinePos(point)\n                let getViewport = this.cornerstoneArray[id].getViewport()\n                let stPos = this.getStartPos(getViewport, box)\n                let x = (point.x - stPos.x) / getViewport.scale\n                let y = (point.y - stPos.y) / getViewport.scale\n                this.crossArray[id].imagePoint = {\n                    x,\n                    y\n                }\n                this.crossArray[id].event._addEvent('crossline.move', () => {\n                    this.crossmove = true\n                    if (this.cornerstoneArray[id]) {\n                        this.changePOint(id, box)\n                    }\n                })\n                this.crossArray[id].event._addEvent('crossline.mouseup', () => {\n                    this.crossmove = false\n                })\n            }\n        }\n\n    }\n    changePOint(id, box) {\n        let getViewport = this.cornerstoneArray[id].getViewport()\n        let point = this.crossArray[id].nowpos\n        console.log(point, '===========')\n        point = this.model.returnRealPoint(point, id, this.sceen, {\n            w: box.clientWidth,\n            h: box.clientHeight\n        })\n        this.crossArray[id].setXYLinePos(point)\n        let stPos = this.getStartPos(getViewport, box)\n        let x = (point.x - stPos.x) / getViewport.scale\n        let y = (point.y - stPos.y) / getViewport.scale\n        this.crossArray[id].imagePoint = {\n            x,\n            y\n        }\n        let z = this.nowLayNum(id)\n        console.log(x, y, z, id)\n        for (let i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i] && i != id) {\n                this.calCrossLine({\n                    x,\n                    y,\n                    z\n                }, this.cornerstoneArray[id].sId, i)\n            }\n        }\n    }\n    calflow(sort) {\n        let box = this.dom.find('#ct' + sort).box()\n        let point = this.crossArray[sort].imagePoint\n        console.log(point)\n        let newXY = this.returnXY(point, this.cornerstoneArray[sort].getViewport(), box)\n        let screenPoint1 = this.model.returnScreenPoint(newXY, sort, this.sceen, {\n            w: box.clientWidth,\n            h: box.clientHeight\n        })\n        this.crossArray[sort].setPos(screenPoint1)\n        this.crossArray[sort].setXYLinePos(newXY)\n\n        //let screenPoint1 = this.model.returnScreenPoint(newxy, sort, this.sceen, { w: box.clientWidth, h: box.clientHeight })\n        //this.crossArray[sort].setPos(screenPoint1)\n        //this.crossArray[sort].setXYLinePos(newxy)\n    }\n    calCrossLine(point, nowSid, sort) {\n        let box = this.dom.find('#ct' + sort).box()\n        let getViewport = this.cornerstoneArray[sort].getViewport()\n        let endXYZ = {}\n        if (nowSid == this.cornerstoneArray[sort].sId) {\n            endXYZ.z = point.z\n            let newxy1 = this.returnXY(point, getViewport, box)\n            endXYZ.x = newxy1.x\n            endXYZ.y = newxy1.y\n                //this.crossArray[sort].setPos(newxy1)\n        } else {\n            let sId = this.cornerstoneArray[sort].sId\n            let disInfo = null\n            for (let i = 1; i < this.model.seriesInfo[sId].people.length; i++) {\n                let data = {\n                    referent: {\n                        imageOrientationPatient: this.model.seriesInfo[nowSid].people[point.z].ImageOrientationPatient.toString(), //\"1,0,0,0,1,0\",\n                        imagePositionPatient: this.model.seriesInfo[nowSid].people[point.z].imagePositionPatient.toString(), // \"-178.689453125,-335.189453125,113.5\",\n                        pixelSpacing: this.model.seriesInfo[nowSid].info.data.pixelSpacing.toString(), // \"0.62109375,0.62109375\",\n                        x: Math.round(point.x),\n                        y: Math.round(point.y),\n                        z: point.z,\n                    },\n                    convert: {\n                        imageOrientationPatient: this.model.seriesInfo[sId].people[i].ImageOrientationPatient.toString(),\n                        imagePositionPatient: this.model.seriesInfo[sId].people[i].imagePositionPatient.toString(),\n                        pixelSpacing: this.model.seriesInfo[sId].info.data.pixelSpacing.toString(),\n                        width: this.model.seriesInfo[sId].info.data.column,\n                        height: this.model.seriesInfo[sId].info.data.row\n                    }\n                }\n                if (!disInfo) {\n                    disInfo = {\n                        data: new this.crossLine(data),\n                        num: i\n                    }\n                } else {\n                    let newDis = new this.crossLine(data)\n                    if (newDis.dis < disInfo.data.dis) {\n                        disInfo = {\n                            data: newDis,\n                            num: i\n                        }\n                    }\n                }\n            }\n            let endData = new this.crossLine()\n            let xy = endData.getSagPoint(disInfo.data)\n            console.log(xy)\n                //this.crossmove = true\n                //this.cornerstoneArray[sort].funcNodule(disInfo.num)\n            endXYZ.z = disInfo.num\n                //this.crossmove = false\n            let newxy = this.returnXY({\n                x: xy.x,\n                y: xy.y\n            }, getViewport, box)\n            endXYZ.x = newxy.x\n            endXYZ.y = newxy.y\n        }\n        let screenPoint1 = this.model.returnScreenPoint(endXYZ, sort, this.sceen, {\n            w: box.clientWidth,\n            h: box.clientHeight\n        })\n        this.crossArray[sort].setPos(screenPoint1)\n        this.crossArray[sort].setXYLinePos(endXYZ)\n        let stPos = this.getStartPos(getViewport, box)\n        let x = (endXYZ.x - stPos.x) / getViewport.scale\n        let y = (endXYZ.y - stPos.y) / getViewport.scale\n        this.crossArray[sort].imagePoint = {\n            x,\n            y\n        }\n        this.cornerstoneArray[sort].funcNodule(endXYZ.z)\n    }\n    getStartPos(getViewport, box) {\n        let orw = getViewport.displayedArea.brhc.x\n        let orh = getViewport.displayedArea.brhc.y\n        let x = 0\n        let y = 0\n        if (orw / orh > box.clientWidth / box.clientHeight) {\n            y = (box.clientHeight - box.clientWidth * orh / orw) / 2\n        } else {\n            x = (box.clientWidth - box.clientHeight * orw / orh) / 2\n        }\n        return {\n            x,\n            y\n        }\n    }\n    returnXY(point, getViewport, box) {\n        let stPos = this.getStartPos(getViewport, box)\n            //console.log(stPos,'stPosstPosstPosstPos',getViewport, box,point)\n        let x = Math.floor(stPos.x + (getViewport.translation.x + point.x) * getViewport.scale)\n        let y = Math.floor(stPos.y + (getViewport.translation.y + point.y) * getViewport.scale)\n            //console.log(x, y)\n        stPos = null\n        return {\n            x,\n            y\n        }\n    }\n    removeCrossLine() {\n        for (var i = 0; i < this.sceen; i++) {\n            this.dom.find('.ct' + i + ' .line').html('')\n        }\n    }\n\n    //********************************************征象部分****************************************\n    //对于每个节点进行赋值\n    //设置每个病症在后台保存的组件值\n    setSeriesNidusData(value, report, markdoctor) {\n        let tt = {}\n        value.map((item) => {\n            tt[item.annotationItemId] = item\n        })\n        console.log(value, 'setSeriesNidusData', markdoctor)\n        this.model.allresult = markdoctor\n        this.model.nidusComponentInfo.all.annotationItemResultList = tt\n        console.log(this.model.nidusComponentInfo)\n        let doctorNidduleAll = null\n        for (let i in markdoctor) {\n            if (!doctorNidduleAll) {\n                doctorNidduleAll = markdoctor[i].data.doctorNidduleAll\n            } else {\n                doctorNidduleAll = Object.assign(doctorNidduleAll, markdoctor[i].data.doctorNidduleAll);\n            }\n            report.seriesRemark = markdoctor[i].data.auditResult ? markdoctor[i].data.auditResult.seriesRemark : \"\"\n        }\n        if (report.remark && (report.remark == 2 || report.remark == 3)) {\n            this.nidusSigle = true\n        }\n        if (report.remark && (report.remark == 1 || report.remark == 3)) {\n            report.remark = true\n        } else {\n            report.remark = false\n        }\n        console.log(report.remark)\n        console.log(doctorNidduleAll, 'doctorNidduleAlldoctorNidduleAlldoctorNidduleAll')\n        this.nidusControlAll.setData(this.model.nidusComponentInfo.all, '序列标注信息', report, doctorNidduleAll)\n            //this.nidusControlAll.setData(this.model.nidusComponentInfo.all, '序列标注信息', report, markdoctor.doctorNidduleAll)\n    }\n    makeAllInfo() {\n        if (this.model.nidusComponentInfo.all) {\n            this.nidusControlAll.setData(this.model.nidusComponentInfo.all, '序列标注信息')\n        }\n    }\n\n    //根据当前滚动的序列来做基准线\n    makeBaseLine(sId, layer) {\n        this.nowLine = {}\n        for (let i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i]) {\n                if (this.cornerstoneArray[i].sId != sId) {\n                    console.log(sId, 'sId')\n                    let convertData = this.model.seriesInfo[sId]\n                    let referent = this.model.seriesInfo[this.cornerstoneArray[i].sId]\n                    let referentLay = this.nowLayNum(i)\n                        //console.log(this.model.seriesInfo[this.cornerstoneArray[i].sId])\n                    console.log(referent.people[referentLay].ImageOrientationPatient.toString())\n                    let data = {\n                        referent: {\n                            imageOrientationPatient: referent.people[referentLay].ImageOrientationPatient.toString(),\n                            imagePositionPatient: referent.people[referentLay].imagePositionPatient.toString(),\n                            pixelSpacing: referent.info.data.columnPixelSpacing + \",\" + referent.info.data.rowPixelSpacing,\n                            width: referent.info.data.column,\n                            height: referent.info.data.row\n                        },\n                        convert: {\n                            imageOrientationPatient: convertData.people[layer].ImageOrientationPatient.toString(),\n                            imagePositionPatient: convertData.people[layer].imagePositionPatient.toString(),\n                            pixelSpacing: convertData.info.data.columnPixelSpacing + \",\" + convertData.info.data.rowPixelSpacing,\n                            width: convertData.info.data.column,\n                            height: convertData.info.data.row\n                        }\n                    }\n                    console.log(data)\n                    this.nowLine[this.cornerstoneArray[i].sId] = new this.baseLine(data)\n                    console.log(referentLay, this.nowLine, i)\n                    this.gotoLayer(referentLay, this.cornerstoneArray[i].sId)\n                }\n            }\n        }\n    }\n\n    //编辑结节信息\n    makeInfo(value, bid) {\n        //console.log('makeInfomakeInfomakeInfomakeInfomakeInfo',value)\n        if (value) {\n            console.log(value)\n            this.nidusControlAll.closeMark()\n            this.nidusControl.show()\n            this.nidusControl.showClose()\n            this.nidusControl.backId = bid\n            console.log(value, '我是病症裱糊信息')\n            this.nidusControl.setData(value, '病症标注信息', {\n                remark: this.nidusSigle,\n                seriesRemark: value.annotationItemResultList ? value.annotationItemResultList.imageRemark : null\n            })\n        } else {\n            this.nidusControl.hide()\n        }\n    }\n\n    //********************************************征象部分****************************************\n\n    //********************************************多序列部分****************************************\n    initSeriesLists(classValue) {\n        this.sequencelists = this.app.loadModule(classValue, this.dom.find('.ctcornerstone .slist'))\n        this.sequencelists.event._addEvent('serieslist.clcik', (value) => {\n            let data = this.model.seriesInfo[value.sid]\n            if (this.choosescreen <= this.sceen) {\n                this.initsingle(this.choosescreen, data.imgs, {\n                    length: data.imgsTotal,\n                    major: 'master',\n                    sId: value.sid\n                })\n                this.model.nidusChoose = null\n                this.sequencelist.showNowData(value.sid)\n            }\n        })\n    }\n    closeSequenceLists() {\n        this.makeStudy = false\n        this.dom.find('.ctcornerstone .slist').remove()\n        this.resize()\n    }\n    clearRemark(value) {\n        this.nidusControl.clearRemark(value)\n    }\n    setSequenceLists(value, type) {\n        this.sequencelists.setData(value, type)\n    }\n\n    //********************************************多序列部分****************************************\n\n\n    //********************************************列表部分****************************************\n    //初始化病兆列表\n    ctmenu(classValue) {\n        let that = this\n        this.sequencelist = this.app.loadModule(classValue, this.dom.find('.ctcornerstone .xulielist'))\n        this.sequencelist.event._addEvent('sequencelist.choose', function() {\n            let changeD = that.sequencelist.chooseData\n            that.initsingle(0, changeD.imageAddress, {\n                length: changeD.axialImageIdss.length,\n                major: changeD.major\n            })\n        })\n        this.sequencelist.event._addEvent('sequencelist.fillWho', function(value) {\n            console.log(value)\n            that.brushManage.restSignleIdFill(value)\n            let rSId = that.brushManage.getInfo(value).sId\n                //that.brushManage.allrest((that.model.nidusChoose ? that.model.nidusChoose : {}), 1, null, value)\n            that.brushManage.doneSingleChange((that.model.nidusChoose ? that.model.nidusChoose : {}), value, 'fill')\n                //that.brushManage.doneSingleChange((that.model.nidusChoose ? that.model.nidusChoose : {}), value, 'color')\n            for (let i = 0; i < that.sceen; i++) {\n                //console.log(that.cornerstoneArray[i].sId)\n                let sIdA = rSId.split('_')\n                if (that.cornerstoneArray[i] && sIdA.lastIndexOf(that.cornerstoneArray[i].sId) != -1) {\n                    //console.log('+++++++++++++')\n                    let layerid = that.nowLayNum(i)\n                        //console.log('+++++++++++++')\n                        //that.brushManage.allrest((that.model.nidusChoose ? that.model.nidusChoose : {}), layerid,null,value)\n                    that.gotoLayer(layerid, that.cornerstoneArray[i].sId)\n                }\n            }\n        })\n        this.sequencelist.event._addEvent('sequencelist.changeColor', function(value) {\n\n            //let changeD = that.sequencelist.chooseData\n            console.log(value)\n            that.brushManage.restSignleId(value)\n            let rSId = that.brushManage.getInfo(value).sId\n                //that.brushManage.allrest((that.model.nidusChoose ? that.model.nidusChoose : {}), 1, null, value)\n            that.brushManage.doneSingleChange((that.model.nidusChoose ? that.model.nidusChoose : {}), value, 'color')\n                //that.brushManage.doneSingleChange((that.model.nidusChoose ? that.model.nidusChoose : {}), 1, null, value)\n            for (let i = 0; i < that.sceen; i++) {\n                //console.log(that.cornerstoneArray[i].sId)\n                let sIdA = rSId.split('_')\n                if (that.cornerstoneArray[i] && sIdA.lastIndexOf(that.cornerstoneArray[i].sId) != -1) {\n                    //console.log('+++++++++++++')\n                    let layerid = that.nowLayNum(i)\n                        //console.log('+++++++++++++')\n                    that.gotoLayer(layerid, that.cornerstoneArray[i].sId)\n                }\n            }\n            //that.restNowImageOnLayer(that.sequencelist.chooseData)\n            //let layernum=that.nowLayNum(value.sId)\n            //that.gotoLayer(layernum,value.sId)\n        })\n        this.sequencelist.event._addEvent('sequencelist.closeWho', function(value) {\n            console.log(value, that.nodeInfo)\n            that.brushManage.restSignleIdShow(value)\n            let data\n            if (that.nodeInfo) {\n                for (let i in that.nodeInfo) {\n                    for (let j = 0; j < that.nodeInfo[i].length; j++) {\n                        if (that.nodeInfo[i][j].nodeInfo.uuid == value.uuid || that.nodeInfo[i][j].nodeInfo.id == value.uuid) {\n                            data = that.nodeInfo[i][j]\n                            that.nodeInfo[i][j].show = value.show\n                        }\n                    }\n                }\n            }\n            console.log(data, 'datadatadatadatadata', that.sceen)\n            if (data && window.location.hash.lastIndexOf('drapCanvas') != -1) {\n                that.drawNode(true)\n                that.renderStage()\n                return\n            }\n            let rSId = that.brushManage.getInfo(value) ? that.brushManage.getInfo(value).sId : value.sId\n            for (let i = 0; i < that.sceen; i++) {\n                console.log()\n                let sIdA = rSId.split('_')\n                if (that.cornerstoneArray[i] && sIdA.lastIndexOf(that.cornerstoneArray[i].sId) != -1) {\n                    //console.log('+++++++++++++')\n                    let layerid = that.nowLayNum(i)\n                        //console.log('+++++++++++++')\n                        //that.brushManage.allrest((that.model.nidusChoose ? that.model.nidusChoose : {}), layerid)\n                    if (data && window.location.hash.lastIndexOf('markview') == -1 && window.location.hash.lastIndexOf('markaudit') == -1) {\n                        let toolData = that.cornerstoneArray[i].getAllState()\n                        toolData.map(function(item) {\n                            console.log(item, 'itemitemitem')\n                            if (item.uuid && item.uuid == data.nodeInfo.uuid) {\n                                that.cornerstoneArray[i].clearSigleData(item.tooltype, item, true)\n                            }\n                        })\n                        console.log(that.cornerstoneArray[i].getAllState(), 'toolDatatoolDatatoolData')\n                            // that.cornerstoneArray[i].clearSigleData(data.type, data.nodeInfo, true)\n                    }\n                    console.log('===================')\n                    that.gotoLayer(layerid, that.cornerstoneArray[i].sId)\n                }\n            }\n            //that.restNowImageOnLayer(that.sequencelist.chooseData)\n            //let layernum=that.nowLayNum(value.sId)\n            //that.gotoLayer(layernum,value.sId)\n        })\n        this.sequencelist.event._addEvent('sequencelist.niddclick', function(value) {\n            let info1 = that.model.nidusComponentInfo[value.niddtype] ? Tool.objetClone(that.model.nidusComponentInfo[value.niddtype]) : null\n\n            let layerNum = value.layerNumber // that.nowLayNum()\n            console.log(value)\n            let cancel = that.model.nidusChoose ? Tool.clone(that.model.nidusChoose) : null\n\n            if (!value.bid || !value.uuid) {\n                //that.brushManage.allrest(value, layerNum)\n                that.brushManage.restChooseColor(null, cancel)\n                that.gotoLayer(layerNum, value.sId)\n                that.model.nidusChoose = null\n                if (window.location.hash.lastIndexOf('markpreview') != -1) {\n                    that.makeInfo(info1, value.bid)\n                } else {\n                    that.makeInfo(null, value.bid)\n                }\n                console.log(that.model.seriesInfo)\n                let orginFileType = that.model.seriesInfo[value.sId].info.data.fileType\n                if (!that.model.seriesInfo[value.sId].infoAll && orginFileType != \"DCM\" && orginFileType != \"NII\") {\n                    that.drawNode(true)\n                    that.renderStage()\n                }\n                return\n            }\n            let data\n            let tt = value.toolType\n            if (isNaN(layerNum) || !layerNum) {\n                layerNum = null\n            }\n            that.app.loading.show()\n            let rSId = that.brushManage.getInfo(value) ? that.brushManage.getInfo(value).sId : value.sId\n            if (value.type == 'nobrush' && cancel && cancel.type == 'brush') {\n                that.brushManage.restChooseColor(null, cancel)\n            }\n            switch (tt) {\n                case 'MAGIC_STICK_SINGLE':\n                    that.model.nidusChoose = data = value\n                    data.toolType = {\n                        imageAnnotation: value.niddtype,\n                        imageAnnotationToolType: tt\n                    }\n                    if (layerNum) {\n                        that.brushManage.restChooseColor(data, cancel)\n                            //that.brushManage.allrest(data, layerNum)\n                        that.gotoLayer(null, rSId)\n                    } else {\n                        that.restNowImageOnLayer(data, cancel)\n                    }\n                    break\n                case 'POLYGON':\n                    that.model.nidusChoose = data = value\n                    data.toolType = {\n                        imageAnnotation: value.niddtype,\n                        imageAnnotationToolType: tt\n                    }\n                    console.log(layerNum, 'layerNum', data)\n                    if (layerNum) {\n                        that.brushManage.restChooseColor(data, cancel)\n\n                        //that.brushManage.allrest(data, layerNum)\n                        that.gotoLayer(null, rSId)\n                            //that.gotoLayer(layerNum, value.sId)\n                    } else {\n                        that.restNowImageOnLayer(data, cancel)\n                    }\n                    break\n                case 'FREEHAND':\n                    console.log(new Date().getTime())\n                    that.model.nidusChoose = data = value\n                    data.toolType = {\n                        imageAnnotation: value.niddtype,\n                        imageAnnotationToolType: tt\n                    }\n                    console.log(layerNum, 'layerNum', data)\n                    if (layerNum) {\n                        that.brushManage.restChooseColor(data, cancel)\n                            //that.brushManage.allrest(data, layerNum)\n                        that.gotoLayer(null, rSId)\n                            // that.gotoLayer(layerNum, value.sId)\n                    } else {\n                        that.restNowImageOnLayer(data, cancel)\n                    }\n                    console.log(new Date().getTime())\n                    break\n                case 'QSELECT':\n                    that.model.nidusChoose = data = value\n                    data.toolType = {\n                        imageAnnotation: value.niddtype,\n                        imageAnnotationToolType: tt\n                    }\n                    console.log(layerNum, 'layerNum', data)\n                    if (layerNum) {\n                        that.brushManage.restChooseColor(data, cancel)\n\n                        //that.brushManage.allrest(data, layerNum)\n                        that.gotoLayer(null, rSId)\n                            //that.gotoLayer(layerNum, value.sId)\n                    } else {\n                        that.restNowImageOnLayer(data, cancel)\n                    }\n                    break\n                case 'REGION_PAINT':\n                    that.model.nidusChoose = data = value\n                    data.toolType = {\n                        imageAnnotation: value.niddtype,\n                        imageAnnotationToolType: tt\n                    }\n                    if (layerNum) {\n                        console.log(layerNum)\n                        that.brushManage.restChooseColor(data, cancel)\n\n                        //that.brushManage.allrest(data, layerNum)\n                        that.gotoLayer(null, rSId)\n                            //that.gotoLayer(layerNum, value.sId)\n                    } else {\n                        that.restNowImageOnLayer(data, cancel)\n                    }\n                    break\n                case \"FREEHANDLINE\": // 自由画笔\n                    that.model.nidusChoose = data = value\n                    data.toolType = {\n                        imageAnnotation: value.niddtype,\n                        imageAnnotationToolType: tt\n                    }\n                    console.log(value, 'ssssssssssssssssssssssssssssssssss')\n                    that.drawNode(true)\n                    that.renderStage()\n                    break\n                case \"PEN\":\n                    // that.gotoLayer(value.layerNumber, value.sId)\n                    that.model.nidusChoose = data = that.brushManage.getInfo(value)\n                    data.toolType = value.toolType\n                    break\n                default:\n                    console.log('dsalklas;')\n                    that.gotoLayer(value.layerNumber, value.sId)\n                    that.model.nidusChoose = data = that.drawInfo.getInfo(value)\n                    break\n            }\n            let info = that.model.nidusComponentInfo[data.toolType.imageAnnotation] ? Tool.objetClone(that.model.nidusComponentInfo[data.toolType.imageAnnotation]) : null\n            if (that.nowmpr) {\n                that.nowmpr.nidusChoose(that.model.nidusChoose)\n            }\n            if (info) {\n                info.annotationItemResultList = that.model.nidusComponentData[value.bid]\n            }\n            that.app.loading.hide()\n            console.log(info, 'that.model.nidusComponentInfothat.model.nidusComponentInfo')\n            that.makeInfo(info, value.bid)\n        })\n        this.sequencelist.event._addEvent('sequencelist.allShowControl', function(value) {\n            console.log(value.show)\n            that.brushManage.allShow(value)\n            if (that.nodeInfo) {\n                for (let i in that.nodeInfo) {\n                    for (let j = 0; j < that.nodeInfo[i].length; j++) {\n                        that.nodeInfo[i][j].show = value.show\n                    }\n                }\n            }\n            if (window.location.hash.lastIndexOf('drapCanvas') != -1) {\n                that.drawNode(true)\n                that.renderStage()\n                return\n            }\n            for (let i = 0; i < that.sceen; i++) {\n                if (that.cornerstoneArray[i]) {\n                    let layerid = that.nowLayNum(i)\n                        //that.brushManage.allrest({}, layerid)\n                    if (window.location.hash.lastIndexOf('markview') == -1 && window.location.hash.lastIndexOf('markaudit') == -1) {\n                        let toolData = that.cornerstoneArray[i].getAllState()\n                        toolData.map(function(item) {\n                            if (item.uuid) {\n                                that.cornerstoneArray[i].clearSigleData(item.tooltype, item, true)\n                            }\n                        })\n                    }\n                    that.gotoLayer(layerid, that.cornerstoneArray[i].sId)\n                }\n            }\n        })\n        this.sequencelist.event._addEvent('sequencelist.del', function(value) {\n            //console.log(value)\n            that.dom.find('.cal').html('')\n            let data\n            if (value.type == 'nobrush') {\n                console.log(value)\n                data = that.drawInfo.getInfo(value)\n                that.gotoLayer(value.layerNumber, value.sId)\n                    //console.log(data,'data')\n            } else {\n                data = value\n                value.backId = value.bid\n                    //console.log(value, that.nowLayNum())\n            }\n            setTimeout(function() {\n                that.deleteNode(false, data, value.type)\n            }, 10)\n\n        })\n        // 已经标注过的序列，在其缩略图右上角需显示一个icon标记\n        this.sequencelist.event._addEvent('serieslist.addMarkedIcon', () => {\n          const currentSeriesId = this.getSid()\n          const currentSeriesEl = $('.ctcornerstone .slist .serieslist').find(`li[sid='${currentSeriesId}']`)\n          !currentSeriesEl.has('i.icon-marked').length && currentSeriesEl.append('<i class=\"iconfont icon-marked\"></i>')\n        })\n        // 已经标注过的序列再删除病灶，当所有病灶删完时在其缩略图右上角需显示的icon标记也需删除\n        this.sequencelist.event._addEvent('serieslist.removeMarkedIcon', () => {\n          const currentSeriesId = this.getSid()\n          const currentSeriesSequenceListEl = $('.ctcornerstone .xulielist .sequencelist .nodeInfolist').find(`div[sid='${currentSeriesId}']`)\n          if (!currentSeriesSequenceListEl.length) {\n            const markedIconEl = $('.ctcornerstone .slist .serieslist').find(`li[sid='${currentSeriesId}']`).find('i.icon-marked')\n            markedIconEl.length && markedIconEl.remove()\n          }\n        })\n    }\n    updateSequencelistSid(value) {\n        this.sequencelist.updateSequencelistSid(value)\n    }\n    setNname(id, num) {\n        console.log(id, num)\n        switch (num * 1) {\n            case 1:\n                this.sequencelist.setNname(id, '左心室_' + id)\n                break\n            case 2:\n                this.sequencelist.setNname(id, '左心房_' + id)\n                break\n            case 3:\n                this.sequencelist.setNname(id, '右心室_' + id)\n                break\n            case 4:\n                this.sequencelist.setNname(id, '右心房_' + id)\n                break\n            case 5:\n                this.sequencelist.setNname(id, '主动脉_' + id)\n                break\n            case 6:\n                this.sequencelist.setNname(id, '左心肌_' + id)\n                break\n            case 7:\n                this.sequencelist.setNname(id, '冠脉_' + id)\n                break\n        }\n\n    }\n    returnListAnno(value) {\n        return this.sequencelist.returnAnno(value)\n    }\n    restNowImageOnLayer(value, cancel) {\n        for (let i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i] && this.cornerstoneArray[i].sId == value.sId) {\n                let layerid = this.nowLayNum(i)\n                this.brushManage.changeColorById(value, cancel)\n                    //this.brushManage.allrest(value, layerid)\n                this.gotoLayer(layerid, value.sId)\n            }\n        }\n    }\n    setSequence(value, childrens) {\n        this.nodeInfo = childrens.length != 0 ? {} : null\n        let sData = value\n        childrens.map((item) => {\n            if (!this.nodeInfo[item.layerNumber]) {\n                this.nodeInfo[item.layerNumber] = []\n            }\n            if (!this.model.nidusComponentData[item.id]) {\n                this.model.nidusComponentData[item.id] = {}\n            }\n            if (item.tooltype != 'magicStickSingle' && item.tooltype != 'polygon' && item.tooltype != 'quickselect' && item.tooltype != 'regionpaint' && item.tooltype != 'freehand') {\n                let daa = {}\n                    //console.log(item.type)\n                if (item.type != 'cobb') {\n                    let tempD = {\n                        currentPoints: {\n                            image: item.result.point1\n                        },\n                        uuid: item.uuid\n                    }\n                    daa.nodeInfo = cornerstoneTools[item.type].getMeasurement(tempD)\n                }\n                /*if (item.type == 'alignment') {\n                    daa.nodeInfo = {\n                        pointA: [],\n                        uuid: item.uuid\n                    }\n                    item.result.pointA.map((linItem) => {\n                        daa.nodeInfo.pointA.push({\n                            start: linItem.point1\n                        })\n                    })\n                }*/\n                if (item.type == 'cobb') {\n                    daa.nodeInfo = {\n                        lineA: [],\n                        uuid: item.uuid\n                    }\n                    item.result.lineA.map((linItem) => {\n                        let tempD = {\n                            currentPoints: {\n                                image: linItem.point1\n                            },\n                            uuid: item.uuid\n                        }\n                        daa.nodeInfo.lineA.push(cornerstoneTools['length'].getMeasurement(tempD))\n                    })\n\n                    //=item.result//cornerstoneTools['length'].getMeasurement(tempD)\n                }\n\n                if (item.tooltype == 'cobb') {\n                    for (let i = 0; i < daa.nodeInfo.lineA.length; i++) {\n                        daa.nodeInfo.lineA[i].handles.end = item.result.lineA[i].point2\n                    }\n                } else if (item.tooltype == 'simpleAngle') {\n                    daa.nodeInfo.handles.middle = item.result.point2\n                    daa.nodeInfo.handles.end = item.result.point3\n                } else if (item.tooltype == 'alignment') {\n                    daa.nodeInfo.handles.middle = item.result.point2\n                    daa.nodeInfo.handles.middle1 = item.result.point3\n                    daa.nodeInfo.handles.end = item.result.point4\n                } else {\n                    daa.nodeInfo.handles.end = item.result.point2\n                }\n                //daa.nodeInfo.uuid = item.uuid\n                daa.layerNumber = item.layerNumber ? item.layerNumber : 1\n                daa.sId = item.sId\n                daa.type = item.type\n                daa.show = true\n                this.nodeInfo[item.layerNumber].push(daa)\n                this.drawInfo.setInfo(item)\n            } else {\n\n            }\n            if (item.annotationItemResultList) {\n                item.annotationItemResultList.map((res) => {\n                    this.model.nidusComponentData[item.id][res.annotationItemId] = res\n                })\n            }\n            if (item.orginannotationItemResultList) {\n                this.model.nidusComponentData[item.id].orginannotationItemResultList = item.orginannotationItemResultList\n            }\n            this.model.nidusComponentData[item.id].doctorName = item.doctorName\n            this.model.nidusComponentData[item.id].imageRemark = item.imageRemark\n        })\n        this.sequencelist.setData(sData, childrens)\n        this.sequencelist.showNowData(this.cornerstoneArray[0].sId)\n        //this.gotoLayer(null, this.cornerstoneArray[0].sId)\n\n        //console.log(this.cornerstoneArray[0],this.nowLayNum(this.cornerstoneArray[0]))\n        //this.gotoLayer(1,this.cornerstoneArray[0].sId)\n    }\n    updataSequencelist(value) {\n        console.log(value, 'valuevaluevaluevalue')\n        if (!value.brush) {\n            console.log(this.drawInfo.getInfo(value))\n            let data = this.drawInfo.getInfo(value)\n            this.sequencelist.setBackId(data)\n            if (this.cornerstoneArray[0]) {\n                let toolData = this.cornerstoneArray[0].getAllState()\n                toolData.map((item) => {\n                    if (item.uuid == value.uuid) {\n                        item.backId = value.backId\n                    }\n                })\n            }\n        } else {\n            this.sequencelist.setBackId(value)\n        }\n    }\n    removeSequencelist(value) {\n        this.sequencelist.removeNode(value)\n    }\n    getSequence() {\n        return this.sequencelist.nowplayData\n    }\n    openSequenceNode(value) {\n        this.sequencelist.openNode(value)\n    }\n\n    //********************************************列表部分****************************************\n    //初始化画图的部分\n    initCT(totalImage, imageAddress, data) {\n        let that = this\n        this.initFrist[0] = false\n        this.totalImage = totalImage\n        for (var j = 0; j < this.totalImage; j++) {\n            this.clearLayer.push(true)\n        }\n\n        this.baseData = data\n        this.timeLoad = 0\n        this.setScreen(1)\n        this.dom.find('.ct0').css({\n            'border': \"1px solid #0a2634\"\n        })\n\n        //console.log(data, this.class_c)\n        if (this.class_c) {\n            this.initsingle(0, imageAddress, {\n                length: this.totalImage,\n                major: 'master',\n                sId: data.data.seriesInstanceUID\n            })\n        } else {\n            this.deferred.done(function(value) {\n                console.log(value, 'valuevaluevalue')\n                that.initsingle(0, imageAddress, {\n                    length: that.totalImage,\n                    major: 'master',\n                    sId: data.data.seriesInstanceUID\n                })\n            })\n        }\n        ES.selctorDoc(window).on('keydown', function(e) {\n            console.log(e.keyCode, that.controlename)\n            if (that.cornerstoneArray[that.choosescreen]) {\n                let con = that.cornerstoneArray[that.choosescreen]\n                    //console.log(con,'aaaaaaaaaaa')\n                let layers = that.nowLayNum(that.choosescreen)\n                let index = con.getIndex(layers)\n                    //console.log(index, con.imageAddress)\n                if (e.keyCode == 38) {\n                    if (index > 0) {\n                        index--\n                    }\n                    that.gotoLayer(con.getLayerNum(index), con.sId)\n                }\n                if (e.keyCode == 40) {\n                    if (index < con.imageAddress.length - 1) {\n                        index++\n                    }\n                    //console.log(con.getLayerNum(index), index)\n                    that.gotoLayer(con.getLayerNum(index), con.sId)\n                }\n            }\n\n            /*if (that.controlename != 'alignmentFan'&&that.controlename != 'quickselectFan') {\n                return\n            }*/\n            console.log(e.keyCode)\n                /*if (that.controlename == 'alignmentFan') {\n                    if (e.keyCode == 87) {\n                        let id = that.choosescreen\n                        if (!that.model.nidusChoose) {\n                            console.log('addd')\n                            that.alignmentAdd({}, id)\n                            that.dom.find('.ct' + id + ' .cal').html('前上缘')\n                            return\n                        }\n                        if (that.model.nidusChoose && that.model.nidusChoose.type != 'alignment') {\n                            console.log('addd')\n                            that.alignmentAdd({}, id)\n                            hat.dom.find('.ct' + id + ' .cal').html('前上缘')\n                            return\n                        }\n                        if (that.model.nidusChoose) {\n                            let data = that.drawInfo.getInfo(that.model.nidusChoose)\n                            if (data.pointA.length == 4) {\n                                console.log('addd')\n                                that.alignmentAdd({}, id)\n                                hat.dom.find('.ct' + id + ' .cal').html('前上缘')\n                                that.gotoLayer(null, that.cornerstoneArray[id].sId)\n                                return\n                            }\n                            if (data.pointA.length < 4) {\n                                console.log('edit', id)\n                                data.pointA.push({})\n                                data.setDataType = 'number'\n                                let name = that.model.returnBodyName(data.pointA.length)\n                                that.dom.find('.ct' + id + ' .cal').html(name)\n                                that.gotoLayer(null, that.cornerstoneArray[id].sId)\n                                that.event._dispatch('ctcornerstone.editNode', data)\n                                return\n                            }\n\n                        }\n                    }\n                    return\n                }*/\n            if (that.controlename == 'quickselectFan') {\n                if (e.keyCode == 65) {\n                    that.cornerstoneTools_config.quickselect_config.deviation = that.cornerstoneTools_config.quickselect_config.deviation + 2\n                }\n                if (e.keyCode == 68) {\n                    that.cornerstoneTools_config.quickselect_config.deviation = that.cornerstoneTools_config.quickselect_config.deviation - 2\n                }\n            }\n            that.makeCicle()\n        })\n    }\n    makeCicle(){}\n    resetAllData(id) {\n        if (this.cornerstoneArray[id]) {\n            this.clearLayer = []\n            this.brushC = []\n            this.cornerstoneArray[id].progress.close()\n            this.cornerstoneArray[id].close()\n            this.cornerstoneArray[id] = null\n        }\n        this.initFrist[id] = false\n        this.dom.find('#ct' + id).remove()\n        this.dom.find('.c' + id).prepend('<div id=\"ct' + id + '\"></div>')\n    }\n    initsingle(id, imageAddress, data) {\n        let cid = id\n        let that = this\n        let baseData = this.baseData\n            //console.log(this.cornerstoneArray[id], id, data)\n            //console.log('=============')\n        this.resetAllData(id)\n        this.resize()\n            //console.log('initsingle')\n            //let name=imageAddress[0].split('?')[0].match(/(\\/0*\\d.jpg$){1,}/g)[0]||null\n        let min = Tool.changeToName(imageAddress[0])\n        let index = (min != -1) ? min : 1\n\n\n        this.cornerstoneArray[id] = new this.class_c({\n            element: this.dom.find('#ct' + id).dom[0].dom,\n            totalImage: data.length,\n            imageAddress: imageAddress,\n            index: index - 1,\n            type: this.imageType.toLowerCase() || \"dcm\"\n        })\n        this.cornerstoneArray[id].sId = data.sId\n        let progress = this.app.loadModule(this.ctProgress, this.dom.find('.ct' + id + ' .image_progress'))\n        let newArray = []\n        imageAddress.map((item) => {\n            let urlA = item.split('?')[0].split('/')\n            newArray.push(urlA[urlA.length - 1].split('.')[0] * 1)\n        })\n        console.log(data.length, newArray)\n            //progress.setImageData(data.length,newArray)\n        progress.setImageData(newArray)\n        this.changeLayeIdTime = null\n        progress.event._addEvent(\"ctprogress.stopDrag\", () => {\n            if (this.changeLayeIdTime != null) {\n                clearInterval(this.changeLayeIdTime)\n            }\n            this.changeLayeIdTime = null\n        })\n        progress.event._addEvent(\"ctprogress.click\", () => {\n            this.changeLayeIdTime = 0\n            let layserId = Math.floor(progress.getRate())\n            that.cornerstoneArray[id].funcNodule(layserId)\n\n        })\n        progress.event._addEvent(\"ctprogress.startDrag\", () => {\n            this.changeLayeIdTime = setInterval(() => {\n                let layserId = Math.floor(progress.getRate())\n                console.log(layserId)\n                that.cornerstoneArray[id].funcNodule(layserId)\n            }, 500)\n        })\n        console.log('==============')\n        this.cornerstoneArray[id].progress = progress\n            //图片渲染\n        let total = data.length // Tool.changeToName(imageAddress[imageAddress.length - 1], 'jpg')\n            //console.log(imageAddress[data.length - 1], total, imageAddress)\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.cornerstonetoolsmousemove', function(value) {\n            let data = JSON.parse(JSON.stringify(that.model.getDicomValue(value.detail)))\n            data.sId = that.cornerstoneArray[id].sId\n            data.id = id\n            that.event._dispatch('ctcornerstone.HUShow', data)\n                //console.log(allData)\n        })\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.wlChange', () => {\n\n        })\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.cornerstonetoolsmousewheel', function(value) {\n            if (!that.crossmove && that.crossOpen) {\n                that.changePOint(id, that.dom.find('#ct' + id).box())\n            }\n\n        })\n        this.ctEvent(id, imageAddress, data, total)\n    }\n    endDone(value, num) {\n        //console.log(value, 'valuevaluevaluevaluevaluevaluevalue')\n        value.uuid = value.id\n        let aaa = this.drawInfo.getInfo(value)\n            //console.log(aaa.backId)\n        let that = this\n        if (aaa.backId) {\n            value = this.drawInfo.removeInfo(value)\n            this.sequencelist.removeNode(value)\n            if (this.nodeInfo) {\n                if (this.nodeInfo[value.layerNumber]) {\n                    for (let i = 0; i < this.nodeInfo[value.layerNumber].length; i++) {\n                        if (this.nodeInfo[value.layerNumber][i].nodeInfo.uuid == value.id || this.nodeInfo[value.layerNumber][i].nodeInfo.id == value.id) {\n                            this.nodeInfo[value.layerNumber].splice(i, 1)\n                        }\n                    }\n                }\n            }\n            if (this.nidusControl) {\n                this.nidusControl.hide()\n            }\n            this.event._dispatch('ctcornerstone.deleteNode', {\n                backId: value.backId\n            })\n        } else {\n            setTimeout(() => {\n                num++\n                if (num < 200) {\n                    this.endDone(value, num)\n                }\n            }, 30)\n        }\n    }\n\n    //控制分屏\n    setScreen(value) {\n        if (value > this.sceen) {\n            for (let i = this.sceen; i < value; i++) {\n                let html = `<div class=\"c_fbb03b ct` + i + `\" pos=\"` + i + `\">\n            <div class=\"fl w50_ pr c` + i + `\">\n                <div id=\"ct` + i + `\"></div>\n            </div>\n            <p class=\"sc\"></p>\n            <p class=\"wwc\"></p>\n            <p class=\"layer\"></p>\n            <p class=\"infoXYZ\"></p>\n            <p class=\"cal\"></p>\n            <div class=\"line\"></div>\n            <div class=\"image_progress\"></div>\n            </div>`\n                this.dom.find('.dicom_content').append(html)\n            }\n        }\n        if (value < this.sceen) {\n            for (let i = value; i < this.sceen; i++) {\n                if (this.cornerstoneArray[i]) {\n                    this.cornerstoneArray[i].close()\n                    this.cornerstoneArray[i] = null\n                }\n                this.dom.find('.dicom_content .ct' + i).remove()\n            }\n        }\n        let that = this\n        this.dom.find('.c_fbb03b').off('click')\n        this.dom.find('.c_fbb03b').on('click', function() {\n            that.dom.find('.c_fbb03b').css({\n                'border': \"1px solid #fff\"\n            })\n            let dom = ES.selctorDoc(this)\n            dom.css({\n                'border': \"1px solid #448e97\"\n            })\n            that.choosescreen = dom.attr('pos')\n            let sId = that.cornerstoneArray[that.choosescreen] ? that.cornerstoneArray[that.choosescreen].sId : null\n            that.sequencelist.showNowData(sId)\n        })\n        this.sceen = value\n        this.resize()\n    }\n    changeWWCImage(imgs) {\n        if (!imgs) {\n            return\n        }\n        if (imgs[0] == this.cornerstoneArray[this.choosescreen].axialStack1.imageIds[0]) {\n            return\n        }\n        console.log('dkasjkajkdljlajdlkasjdkla')\n        this.cornerstoneArray[this.choosescreen].imageAddress = imgs\n        this.cornerstoneArray[this.choosescreen].axialStack1.imageIds = imgs\n        let layerid = this.nowLayNum(this.choosescreen)\n        setTimeout(() => {\n            this.cornerstoneArray[this.choosescreen].funcNodule(layerid)\n        }, 10)\n\n    }\n\n    //进行特殊id的赋值\n    setSpliceId(value, type) {\n        //if (!value.uuid) {\n        let nowData = this.cornerstoneArray[0].geSiglneState(type)\n        if (nowData) {\n            nowData.data.map(function(item) {\n                if (item.id == value.id) {\n                    value.uuid = item.uuid = value.id\n                }\n            })\n        }\n    }\n    setSpliceUUID(value, type, uuid, cid) {\n        //if (!value.uuid) {\n        let nowData = this.cornerstoneArray[cid].geSiglneState(type)\n        if (nowData) {\n            nowData.data.map(function(item) {\n                if (item.id == value.id) {\n                    value.uuid = item.uuid = uuid\n                }\n            })\n        }\n    }\n    getAlllayer(value) {\n        let layarr = []\n        for (var i = 0; i < this.cornerstoneArray.length; i++) {\n            if (this.cornerstoneArray[i]) {\n                if (this.cornerstoneArray[i].axialStack1.currentImageIdIndex == this.cornerstoneArray[value].axialStack1.currentImageIdIndex) {\n                    layarr.push(i)\n                }\n            }\n        }\n        return layarr\n    }\n    setbrush(value) {\n        //console.log(value, 'setbrushsetbrushsetbrush')\n        if (value.imglist.length == 0) {\n            this.event._dispatch('ctcornerstone.brushfirstload')\n            return\n        }\n        //console.log(value, 'setbrushsetbrushsetbrush')\n        let that = this\n        let allload = 0\n        let length = value.imglist.filter((item) => {\n            return item\n        }).length\n        let num = 0\n            //console.log(value.imglist)\n        if (length == 0) {\n            this.event._dispatch('ctcornerstone.brushfirstload')\n            return\n        }\n        for (let i = 0; i < value.imglist.length; i++) {\n            if (value.imglist[i]) {\n                if (num == 0) {\n                    num = i\n                }\n                //console.log(num)\n                //console.log(Tool.changeToName(value.imglist[i]), 'Tool.changeToName(value.imglist[i])Tool.changeToName(value.imglist[i])')\n                let img = new Image()\n                img.id = i\n                img.crossOrigin = '';\n                img.onload = function() {\n                    allload++\n                    that.brushManage.creatNewImage(this, value, {\n                        width: this.width,\n                        height: this.height\n                    }, this.id, (that.model.nidusChoose ? that.model.nidusChoose.bid : \"\"))\n                    if (allload >= length) {\n                        setTimeout(function() {\n                            if (that.cornerstoneArray[0]) {\n                                that.cornerstoneArray[0].brushFan()\n                                that.cornerstoneArray[0].disableAllTools(true)\n                            }\n\n                            that.event._dispatch('ctcornerstone.brushfirstload')\n                        }, 300)\n                    }\n                }\n                img.onerror = function() {\n                    allload++\n                    if (allload >= length) {\n                        setTimeout(function() {\n                            if (that.cornerstoneArray[0]) {\n                                that.cornerstoneArray[0].brushFan()\n                                that.cornerstoneArray[0].disableAllTools(true)\n                            }\n                            //that.cornerstoneArray[0].brushFan()\n                            //that.cornerstoneArray[0].disableAllTools(true)\n                            that.event._dispatch('ctcornerstone.brushfirstload')\n                        }, 300)\n                    }\n                }\n                img.src = value.imglist[i]\n            }\n        }\n        this.sequencelist.setLayerInfo(value, num)\n            //this.addVlaue = value\n    }\n    nowLayNum(sId) {\n        return String(this.dom.find('.ct' + sId + ' .layer').html()).split('/')[0] * 1\n    }\n\n    //删除标注\n    deleteNode(key, value, type) {\n            console.log(value, 'deleteNode')\n            let that = this\n            this.model.controlStauts.delete = true\n            this.app.alert.show({\n                title: ' ',\n                msg: '确认删除将清除该影像标注的图形和信息？',\n                close: true,\n                sure: function() {\n                    if (type == 'nobrush') {\n                        that.doneDelete(key, value)\n                    } else {\n                        console.log(that.nodeInfo, value.layerNumber, value)\n                        if (that.nodeInfo && that.nodeInfo[value.layerNumber]) {\n                            for (let i = 0; i < that.nodeInfo[value.layerNumber].length; i++) {\n                                if (that.nodeInfo[value.layerNumber][i].nodeInfo.uuid == value.uuid || that.nodeInfo[value.layerNumber][i].nodeInfo.id == value.uuid) {\n                                    that.nodeInfo[value.layerNumber].splice(i, 1)\n                                    console.log('mmmmmmmmmmmmmmmmmmmmmmm', value.layerNumber)\n                                    that.gotoLayer(value.layerNumber, value.sId)\n                                }\n                            }\n                        }\n                        that.brushManage.delbrush(value)\n                        that.gotoLayer(value.layerNumber, value.sId) //that.nowLayNum()\n                        that.sequencelist.removeNode(value)\n                        if (that.nidusControl) {\n                            that.nidusControl.hide()\n                        }\n                        if (that.model.nidusChoose) {\n                            if (that.model.nidusChoose.uuid == value.uuid) {\n                                that.model.nidusChoose = null\n                            }\n                        }\n                        that.event._dispatch('ctcornerstone.deleteNode', {\n                            backId: value.backId\n                        })\n                    }\n                }\n            })\n        }\n        //提示以后确认要删除的\n    doneDelete(key, value) {\n        let that = this\n\n        if (!key) {\n            if (this.nodeInfo) {\n                if (this.nodeInfo[value.layerNumber]) {\n                    for (let i = 0; i < this.nodeInfo[value.layerNumber].length; i++) {\n                        if (this.nodeInfo[value.layerNumber][i].nodeInfo.uuid == value.id || this.nodeInfo[value.layerNumber][i].nodeInfo.id == value.id) {\n                            this.nodeInfo[value.layerNumber].splice(i, 1)\n                        }\n                    }\n                }\n            }\n            this.sequencelist.removeNode(value)\n        }\n        //console.log(toolData, 'deleteNode')\n        let arr = []\n        let ctArray = []\n        let haveScreen = false\n        for (let i = 0; i < this.sceen; i++) {\n            //console.log(value.sId, this.cornerstoneArray[i].sId, key)\n            if (this.cornerstoneArray[i]) {\n                if (this.cornerstoneArray[i].sId == value.sId) {\n                    ctArray = i\n                    let toolData = this.cornerstoneArray[i].getAllState()\n                    console.log(JSON.stringify(toolData), 'toolDatatoolDatatoolDatatoolDatatoolData')\n                    toolData.map(function(item) {\n                        if (key) {\n                            if (item.active && item.uuid) {\n                                item.layerNumber = String(that.dom.find('.ct' + i + ' .layer').html()).split('/')[0]\n                                for (let i = 0; i < that.nodeInfo[item.layerNumber].length; i++) {\n                                    if (that.nodeInfo[item.layerNumber][i].nodeInfo.id == item.id) {\n                                        that.nodeInfo[item.layerNumber].splice(i, 1)\n                                    }\n                                }\n                                //if (item.tooltype != \"alignment\") {\n                                let data = that.drawInfo.getInfo(item)\n                                that.cornerstoneArray[i].clearSigleData(item.tooltype, item)\n                                    //}\n                            }\n                        } else {\n                            // if (item.tooltype != \"alignment\") {\n                            if (item.id == value.id || item.uuid == value.uuid) {\n                                that.cornerstoneArray[i].clearSigleData(item.tooltype, item)\n                            }\n                            //}\n                        }\n                    })\n                    haveScreen = true\n                }\n            }\n        }\n        if (!haveScreen) {\n            if (this.nidusControl) {\n                this.nidusControl.hide()\n                img.src = value.imglist[i]\n            }\n        }\n        //this.sequencelist.setLayerInfo(value, num)\n        //this.addVlaue = value\n    }\n\n    //控制影像标注信息显示还是不显示\n    controlNodeShowHide(value) {\n        this.nodeShow = value.stauts\n        this.model.controlStauts.delete = false\n            //let dom=this.dom.find('.layer')\n            //let layer = this.dom.find('.layer').html().split('/')[0]\n        if (!this.nodeShow) {\n            this.clearData('biao')\n        }\n        for (let i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i]) {\n                let layer = this.dom.find('.layer').eq(i).html().split('/')[0]\n                this.gotoLayer(layer, this.cornerstoneArray[i].sId) // this.shownowid)\n            }\n        }\n\n    }\n\n    //跳转到对应的层\n    gotoLayer(layerid, nid) {\n        //this.shownowid = nid\n        let nidA = nid.split('_')\n        for (var i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i]) {\n                if (nid.lastIndexOf(this.cornerstoneArray[i].sId) != -1) {\n                    if (!layerid || layerid == 'undefined') {\n                        layerid = this.nowLayNum(i)\n                    }\n                    console.log(layerid)\n                    this.cornerstoneArray[i].funcNodule(layerid)\n                }\n            }\n        }\n    }\n\n    //设置一些参数，以方便处理\n    setConfigByDicommeun(value) {\n        switch (value.type) {\n            case \"bradius\":\n                this.cornerstoneTools_config.brush_config.radius = value.value\n                break\n            case \"lineWidth\":\n                this.cornerstoneTools_config.freehand_config.lineWidth = value.value\n                break\n            case \"pdistance\":\n                this.cornerstoneTools_config.polygon_config.distance = value.value\n                break\n            case \"pdeviation\":\n                this.cornerstoneTools_config.polygon_config.deviation = value.value\n                break\n            case \"qdeviation\":\n                this.cornerstoneTools_config.quickselect_config.deviation = value.value\n                break\n        }\n    }\n\n    //调用各种方法\n    defaultFunction(funName, tooltype) {\n        if (tooltype) {\n            this.tooltype = tooltype\n        }\n        console.log(tooltype)\n        for (var j = 0; j < this.sceen; j++) {\n            if (this.cornerstoneArray[j]) {\n                this.cornerstoneArray[j].moveAllElementData = null\n            }\n        }\n        if (funName != \"restFan\" && funName != \"clearFan\" && funName != \"resizeCon\") {\n            this.controlename = funName\n        }\n        if (funName == 'regionpaintFan' || funName == 'freehandFan' || funName == 'polygonFan' || funName == 'quickselectFan') {\n            if (this.model.nidusChoose) {\n                this.sequencelist.clickById(this.model.nidusChoose)\n            }\n        }\n        if (funName == 'undefinedFan') {\n            this.controlename = null\n            this.disableAllTools(true)\n            return\n        }\n        if (!funName) {\n            this.disableAllTools(true)\n            return\n        }\n        if (funName == 'polygonFan' || funName == 'quickselectFan' || funName == 'regionpaintFan' || funName == 'freehandFan') {\n            //this.dom.find('.submit_data').show()\n        }\n        let now_config = {}\n        if (this.cornerstoneTools_config) {\n            let key = funName.replace('Fan', '_config')\n            now_config = this.cornerstoneTools_config[key] ? this.cornerstoneTools_config[key] : {}\n        }\n        if (funName == \"earseFan\") {\n            funName = \"brushFan\"\n        }\n        if (funName == \"rectangle_textFan\") {\n            funName = \"rectangleRoiFan\"\n        }\n        if (funName == \"lineFan\") {\n            funName = \"lengthFan\"\n        }\n        //console.log(now_config)\n        this.setoolconfig.setconfig(funName, now_config)\n        if (this.nowmpr) {\n            this.nowmpr.defaultFunction(funName)\n        }\n        for (var i = 0; i < this.sceen; i++) {\n            //console.log(this.cornerstoneArray[i].sId)\n            if (this.cornerstoneArray[i] && this.cornerstoneArray[i].getViewport()) {\n                this.nowWWC[i] = {\n                    c: this.cornerstoneArray[i].getViewport().voi.windowCenter,\n                    w: this.cornerstoneArray[i].getViewport().voi.windowWidth\n                }\n                if (funName != \"zoomFan\" && funName != \"wlFan\" && funName != \"brushFanTe\" && funName != \"restFan\" && funName != 'resizeCon' && funName != \"clearFan\") {\n                    let sid = this.cornerstoneArray[i].sId\n                    if (!this.model.seriesInfo[sid].needAnno) {\n                        return\n                    } else {\n                        eval('this.cornerstoneArray[i].' + funName + '()')\n                    }\n                } else {\n                    eval('this.cornerstoneArray[i].' + funName + '()')\n                }\n\n            }\n        }\n    }\n    disableAllTools() {\n        for (var i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i]) {\n                this.cornerstoneArray[i].disableAllTools(true);\n            }\n        }\n    }\n    lungWindown(c, w, imgs) {\n        //console.log(imgs)\n        if (c == null || w == null) {\n            c = 128 //this.cornerstoneArray[this.choosescreen].colcDefault\n            w = 256 //this.cornerstoneArray[this.choosescreen].colwDefault\n        }\n        this.nowWWC[this.choosescreen] = {\n            c: c,\n            w: w\n        }\n        this.changeWWCImage(imgs)\n            // console.log(this.nowWWC, 'this.nowWWCthis.nowWWCthis.nowWWC')\n        if (!this.cornerstoneArray[this.choosescreen]) {\n            return\n        }\n\n        this.cornerstoneArray[this.choosescreen].lungWindown(c, w);\n        this.nowWWC[this.choosescreen] = {\n            c: this.cornerstoneArray[this.choosescreen].getViewport().voi.windowCenter,\n            w: this.cornerstoneArray[this.choosescreen].getViewport().voi.windowWidth\n        }\n\n        //this.cornerstoneArray[this.choosescreen].getViewport()\n    }\n    getSid() {\n        return this.cornerstoneArray[this.choosescreen].sId\n    }\n    showWWC(value, sId, id) {\n        // console.log(value,this.model.seriesInfo[sId].info.wwc)\n        let max = value.windowCenter + value.windowWidth / 2\n        let min = value.windowCenter - value.windowWidth / 2\n        if (this.imageType != \"DCM\") {\n            let mindata = this.model.seriesInfo[sId].info.wwc.low * 1\n            let range = this.model.seriesInfo[sId].info.wwc.hight * 1 - this.model.seriesInfo[sId].info.wwc.low * 1\n            max = range * max / 255 + mindata\n            min = range * min / 255 + mindata\n                // this.getMMCImage()\n            if (this.dom.find('.ct' + id + ' .wwc').html() != ('wc:' + Math.round((max + min) / 2) + \" ww:\" + Math.round(max - min))) {\n                let data = {}\n                data.sId = this.cornerstoneArray[id].sId\n                data.wwc = {\n                    c: Math.round((max + min) / 2),\n                    w: Math.round(max - min)\n                }\n                this.event._dispatch('ctcornerstone.wlChange', data)\n            }\n        }\n        this.dom.find('.ct' + id + ' .wwc').html('wc:' + Math.round((max + min) / 2) + \" ww:\" + Math.round(max - min))\n    }\n\n    huValue(value) {\n        //console.log(value)\n        let xyinfo = \"X:\" + value.point.x.toFixed(2) + \"<br/>Y:\" + value.point.y.toFixed(2)\n        let HU = value.hu ? (\"<br />CT值:\" + value.hu.toFixed(2)) : \"\"\n        this.dom.find('.ct' + value.id + ' .infoXYZ').html(xyinfo + HU)\n    }\n    clearData(type) {\n        let probe = this.cornerstoneArray[0].geSiglneState('probe')\n        let length = this.cornerstoneArray[0].geSiglneState('length')\n        let rectangleRoi = this.cornerstoneArray[0].geSiglneState('rectangleRoi')\n        let ellipticalRoi = this.cornerstoneArray[0].geSiglneState('ellipticalRoi')\n        let simpleAngle = this.cornerstoneArray[0].geSiglneState('simpleAngle')\n            //console.log(rectangleRoi, length)\n        if (probe) {\n            this.toolDataClear(probe.data, 'probe', type)\n        }\n        if (simpleAngle) {\n            this.toolDataClear(probe.data, 'simpleAngle', type)\n        }\n        if (length) {\n            this.toolDataClear(length.data, 'length', type)\n        }\n        if (rectangleRoi) {\n            this.toolDataClear(rectangleRoi.data, 'rectangleRoi', type)\n        }\n        if (ellipticalRoi) {\n            this.toolDataClear(ellipticalRoi.data, 'ellipticalRoi', type)\n        }\n    }\n    toolDataClear(dataArray, type, who) {\n        console.log(who, 'who')\n        dataArray.map((item) => {\n            if (who == 'meas') {\n                if (!item.uuid) {\n                    this.cornerstoneArray[0].clearSigleData(type, item)\n                    this.toolDataClear(dataArray, type, who)\n                    return\n                }\n            } else {\n                if (item.uuid) {\n                    this.cornerstoneArray[0].clearSigleData(type, item)\n                    this.toolDataClear(dataArray, type, who)\n                    return\n                }\n            }\n        })\n    }\n    clearSigleFan(name) {\n        this.cornerstoneArray[0].clearSigleFan(name)\n    }\n    claerAll() {\n        this.drawInfo.removeAll()\n        this.clearLayer = []\n    }\n    close() {\n        for (var i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i]) {\n                this.cornerstoneArray[i].close()\n            }\n        }\n        this.nodeShow = true\n        if (this.nidusControl) {\n            this.nidusControl.hide()\n        }\n        this.brushManage.deleteAll()\n        this.cornerstoneArray = []\n    }\n\n    resize() {\n        let cw = ES.selctorDoc(window).box().clientWidth\n        let ch = ES.selctorDoc(window).box().clientHeight - 60 - 64\n\n        // console.log('aaaa')\n        this.dom.find('.ctcornerstone').css({\n            'width': cw\n        })\n        this.dom.find('.ctcornerstone .dicom_content').css({\n            'width': cw - 290 - 180,\n            'height': ch - 105\n        })\n        this.dom.find('.ctcornerstone .mpr').css({\n            'width': cw - 290 - 180,\n            'height': ch\n        })\n        this.dom.find('.ctcornerstone .slist').css({\n            'width': cw - 290 - 180\n        })\n        this.dom.find('.ctcornerstone .slist .sequence-body-parent').css({\n            'width': cw - 290 - 180\n        })\n        this.dom.find('.ctcornerstone .xulielist').css({\n            'height': ch\n        })\n        this.dom.find('.ctcornerstone .info').css({\n            'height': ch\n        })\n        this.dom.find('.ctcornerstone .nidus_content').css({\n            'height': ch\n        })\n        if (this.sceen) {\n            let layout = this.model.getLayout(this.sceen)\n            let w = (cw - 290 - 180) * layout.w\n            let h\n            if (this.makeStudy) {\n                h = (ch - 105) * layout.h\n            } else {\n                h = ch * layout.h\n            }\n            //console.log(w, h)\n            for (var i = 0; i < this.sceen; i++) {\n                this.dom.find('#ct' + i).css({\n                    'width': w,\n                    'height': h\n                })\n                this.dom.find('.ct' + i).css({\n                    \"top\": (layout.t == 0 ? 0 : ((i >= this.sceen / 2) ? h : 0)),\n                    \"left\": (layout.t == 0 ? i * w : ((i >= this.sceen / 2) ? (i - this.sceen / 2) * w : i * w))\n                })\n                this.dom.find('.ct' + i + ' .image_progress').css({\n                    height: ch\n                })\n                if (this.cornerstoneArray[i]) {\n                    //console.log(i, 'iiiiiiiiiiiii')\n                    this.defaultFunction('resizeCon')\n                    if (this.crossOpen) {\n                        this.calflow(i)\n                        if (this.crossArray[i]) {\n                            this.crossArray[i].setYHeight(h)\n                        }\n                    }\n                    this.cornerstoneArray[i].progress.resize(this.nowLayNum(i))\n                }\n            }\n        }\n        if (this.nowmpr) {\n            this.nowmpr.resize(cw - 290 - 180, ch)\n        }\n        /*if (this.cornerstoneArray[0]) {\n            this.defaultFunction('resizeCon')\n        }*/\n        if (this.nidusControl) {\n            this.nidusControl.resize()\n        }\n        if (this.nidusControlAll) {\n            this.nidusControlAll.resize()\n        }\n    }\n}\n\n//原型链一定要有的\n//window.ctcornerstone_base = window.ctcornerstone_base || {}\nwindow.ctcornerstone_base = window.ctcornerstone_base || ctcornerstone_base\nmodule.exports = ctcornerstone_base;\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/ctcornerstone_base.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ctcornerstone {\\n  width: 100%;\\n  position: relative;\\n}\\n.ctcornerstone .dicom_content {\\n  float: left;\\n}\\n.ctcornerstone .dicom_content .c_fbb03b {\\n  position: absolute;\\n  color: #D2EFFC;\\n  border: 1px solid #fff;\\n  box-sizing: border-box;\\n}\\n.ctcornerstone .dicom_content .c_fbb03b .layer {\\n  position: absolute;\\n  bottom: 10px;\\n  right: 30px;\\n  color: #fff;\\n  padding: 5px 5px;\\n  border-radius: 2px;\\n  background: #000;\\n  z-index: 120;\\n}\\n.ctcornerstone .dicom_content .c_fbb03b .line {\\n  position: absolute;\\n  -webkit-touch-callout: none;\\n  /* iOS Safari */\\n  -webkit-user-select: none;\\n  /* Chrome/Safari/Opera */\\n  -khtml-user-select: none;\\n  /* Konqueror */\\n  -moz-user-select: none;\\n  /* Firefox */\\n  -ms-user-select: none;\\n  /* Internet Explorer/Edge */\\n  user-select: none;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n}\\n.ctcornerstone .dicom_content .c_fbb03b .sc {\\n  position: absolute;\\n  bottom: 50px;\\n  right: 30px;\\n  color: #fff;\\n  padding: 5px 5px;\\n  border-radius: 2px;\\n  background: #000;\\n  z-index: 120;\\n}\\n.ctcornerstone .dicom_content .c_fbb03b .wwc {\\n  position: absolute;\\n  bottom: 30px;\\n  right: 30px;\\n  color: #fff;\\n  padding: 5px 5px;\\n  border-radius: 2px;\\n  background: #000;\\n  z-index: 100;\\n}\\n.ctcornerstone .dicom_content .c_fbb03b .image_progress {\\n  position: absolute;\\n  right: 0px;\\n  top: 0;\\n  background: #000;\\n  z-index: 130;\\n}\\n.ctcornerstone .dicom_content .c_fbb03b .infoXYZ {\\n  position: absolute;\\n  bottom: 10px;\\n  left: 10px;\\n  color: #fff;\\n  padding: 5px 5px;\\n  border-radius: 2px;\\n  background: #000;\\n  z-index: 20;\\n}\\n.ctcornerstone .dicom_content .c_fbb03b .cal {\\n  position: absolute;\\n  top: 10px;\\n  left: 30px;\\n  color: #fff;\\n  padding: 5px 5px;\\n  border-radius: 2px;\\n  background: #000;\\n  z-index: 20;\\n}\\n.ctcornerstone .mpr {\\n  position: absolute;\\n  border: 1px dashed #000;\\n  display: none;\\n  background: transparent;\\n  top: 0px;\\n  left: 180px;\\n  z-index: 2000;\\n}\\n.ctcornerstone .cicle {\\n  position: fixed;\\n  border: 1px dashed #000;\\n  display: none;\\n  background: transparent;\\n  top: 0;\\n  left: 0;\\n  z-index: 1000;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  pointer-events: none;\\n}\\n.ctcornerstone .xulielist {\\n  float: left;\\n  width: 180px;\\n  background: #0a2634;\\n}\\n.ctcornerstone .info {\\n  float: left;\\n  width: 290px;\\n  background: #0a2634;\\n}\\n.ctcornerstone .nidus_content {\\n  position: absolute;\\n  width: 290px;\\n  top: 0;\\n  right: 0;\\n  display: none;\\n  z-index: 20;\\n}\\n.ctcornerstone .allcornerstone {\\n  position: relative;\\n}\\n.ctcornerstone .slist {\\n  position: absolute;\\n  left: 180px;\\n  bottom: 0;\\n  height: 100px;\\n}\\n.ctcornerstone .submit_data {\\n  width: 200px;\\n  height: 30px;\\n  position: absolute;\\n  left: 50%;\\n  margin-left: -100px;\\n  background: #0a2634;\\n  border-radius: 5px;\\n  display: none;\\n}\\n.ctcornerstone .submit_data span {\\n  font-size: 14px;\\n  line-height: 30px;\\n  color: #d2effc;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/ctcornerstone/ctcornerstone.less\n// module id = 649\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=ctcornerstone> <div class=xulielist></div> <div class=\\\"dicom_content allcornerstone\\\" oncontextmenu=return!1 unselectable=on onselectstart=return!1 onmousedown=return!1> </div> <div class=info></div> <div class=nidus_content></div> <div style=clear:both></div> <div class=slist></div> <div class=cicle unselectable=on onselectstart=return!1 onmousedown=return!1 onmouseover=return!1 onmousemove=return!1></div> <div class=mpr oncontextmenu=return!1 unselectable=on onselectstart=return!1 onmousedown=return!1></div> </div> <div style=clear:both></div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/ctcornerstone/tpl.html\n// module id = 650\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","function cornerstoneTool_config() {\n    //每一个key值代表工具名称\n    //t代表是互斥操作，还是独立操作，m代表是互斥操作。s代表是独立操作\n    //c代表是否可以操作\n    //radius代表画笔的粗细\n    //deviation代表色差\n    //distance代表搜索范围\n    return {\n        rectangleRoi_config: {\n            areaDisplayFlag: false,\n            nameDisplayFlag: false,\n            drawHandlesOnHover: true\n        },\n        rectangle_text_config: {\n            areaDisplayFlag: true,\n            nameDisplayFlag: true,\n            drawHandlesOnHover: true\n        },\n        length_config: {\n            flag: false,\n            nameDisplayFlag: false,\n            displayMean: true,\n            displayText: false,\n            drawHandlesOnHover: true\n        },\n        line_config: {\n            flag: false,\n            nameDisplayFlag: true,\n            displayMean: true,\n            displayText: true,\n            drawHandlesOnHover: true\n        },\n        ellipticalRoi_config: {\n            areaDisplayFlag: false,\n            nameDisplayFlag: false,\n            drawHandlesOnHover: true\n        },\n        magnify_config: {\n            magnifySize: 225,\n            magnificationLevel: 2\n        },\n        brush_config: {\n            draw: 1,\n            radius: 5,\n            lineWidth:1,\n            hoverColor: 'rgba(230, 25, 75, 1.0)',\n            dragColor: 'rgba(230, 25, 75, 0.8)'\n        },\n        earse_config: {\n            draw: 0,\n            radius: 3,\n            hoverColor: 'rgba(230, 25, 75, 1.0)',\n            dragColor: 'rgba(230, 25, 75, 0.8)'\n        },\n        polygon_config: {\n            distance: 5,\n            radius: 1,\n            lineWidth:1,\n            deviation: 5,\n            hoverColor: 'rgba(230, 25, 75, 0.5)',\n            dragColor: 'rgba(230, 25, 75, 0.4)'\n        },\n        freehand_config: {\n            distance: 2,\n            lineWidth: 1,\n            hoverColor: 'rgba(230, 25, 75, 0.5)',\n            dragColor: 'rgba(230, 25, 75, 0.4)'\n        },\n        quickselect_config: {\n            deviation: 50,\n            distance: 20\n        },\n        regionpaint_config: {\n            draw: 1,\n            radius: 4,\n            hoverColor: 'rgba(230, 25, 75, 1.0)',\n            dragColor: 'rgba(230, 25, 75, 0.8)'\n        }\n    }\n}\nmodule.exports = new cornerstoneTool_config();\n\n\n// WEBPACK FOOTER //\n// ./config/cornerstoneTool_config.js","//该类是对于基本的画圆什么的一些信息的管理\nclass manager {\n    constructor() {\n        this.init()\n    }\n    init() {\n        this.info = {}\n        this.singelId = Tool.getSigleId()\n        this.brushInfo = {}\n    }\n    setInfo(value) {\n        if (!this.info[value.layerNumber]) {\n            this.info[value.layerNumber] = []\n        }\n        value.show=true\n        if (!value.uuid) {\n            value.uuid = this.singelId\n            this.info[value.layerNumber].push(value)\n            this.singelId = Tool.getSigleId()\n        } else {\n            let pushnow = true\n            this.info[value.layerNumber].map(function(item) {\n                if (item.uuid == value.uuid || item.id == value.id) {\n                    for (let i in item) {\n                        if (!value[i]) {\n                            value[i] = item[i]\n                        } else {\n                            item[i] = value[i]\n                        }\n                    }\n                    pushnow = false\n                }\n                //item = value\n            })\n            //console.log(pushnow)\n            if (pushnow) {\n                this.info[value.layerNumber].push(value)\n            }\n        }\n    }\n    restSignleIdShow(value) {\n        for (let i in this.info) {\n            for (let j in this.info[i]) {\n                if (j == value.bid || j == value.uuid) {\n                    this.info[i][j].show = value.show\n                }\n            }\n        }\n    }\n    getInfo(value) {\n        let returnInfo = {}\n        //console.log(this.info[value.layerNumber])\n        this.info[value.layerNumber].map(function(item) {\n            if (item.uuid == value.uuid || item.id == value.uuid) {\n                returnInfo = item\n            }\n        })\n        return returnInfo\n    }\n\n    removeInfo(value) {\n        //  console.log(value.layerNumber, this.info, value)\n        let allData\n        for (let i = 0; i < this.info[value.layerNumber].length; i++) {\n            let itemId = this.info[value.layerNumber][i]\n           // console.log(this.info[value.layerNumber][i])\n            if (itemId.uuid == value.id || itemId.id == value.id) {\n                allData = JSON.parse(JSON.stringify(this.info[value.layerNumber][i]))\n               // console.log(allData, 'allDataallData')\n                this.info[value.layerNumber].splice(i, 1)\n            }\n        }\n        return allData\n    }\n\n    getSigleLayer(layerNum) {\n        return this.info[value.layerNum] ? this.info[value.layerNum] : []\n    }\n    removeAll() {\n        this.info = {}\n    }\n}\n\n//原型链一定要有的\nmodule.exports = new manager();\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/manager.js","/*\nmodel为外面的数据同步\n\n事件\n1.CtProgress.borClick 进度条的上下按钮\n\n*/\n\nclass CtProgress extends Interstellar.moduleBase {\n    constructor(app, dom, value, addMore) {\n        super(app, dom, value, addMore)\n        require(\"./ctprogress.less\");\n        this.html = require(\"./tpl.html\");\n        this.name = \"CtProgress\"\n        this.model = {}\n        this.valH = 30\n        this.topValue = 0\n    }\n    complete() {\n        this.topValue = 0\n        let dowpagex = null\n        let st = false\n        let that = this\n        this.dom.find('.progress_val').on('mousedown', function(e) {\n            st = true\n            dowpagex = e.pageY\n            that.event._dispatch('ctprogress.startDrag')\n\n        })\n        this.dom.find('.progress').on('click', function(e) {\n            that.topValue = e.pageY - 125\n            that.progressPos()\n            that.event._dispatch('ctprogress.click')\n            that.event._dispatch('ctprogress.stopDrag')\n        })\n        this.dom.on('mousemove', function(e) {\n            if (st) {\n                that.topValue += (e.pageY - dowpagex)\n                dowpagex = e.pageY\n                that.progressPos()\n            } else {\n                let numPos = (e.pageY - 125)\n                that.dom.find('.layer-number').css({\n                    \"transform\": \"translate(0px, \" + numPos + \"px)\"\n                })\n                that.dom.find('.layer-number').show()\n                let num = Math.floor(numPos / (that.totalHeight - that.barHeight) * (that.totalImage - 1))\n                num = num > (that.totalImage - 1) ? (that.totalImage - 1) : num\n                that.dom.find('.layer-number').html(that.imageLists[num])\n            }\n            // console.log(e)\n        })\n        this.dom.on('mouseup', function(e) {\n            e.stopPropagation()\n            that.dom.find('.layer-number').hide()\n            st = false\n            that.event._dispatch('ctprogress.stopDrag')\n        })\n        this.dom.on('mouseleave', function(e) {\n            e.stopPropagation()\n            that.dom.find('.layer-number').hide()\n            st = false\n            that.event._dispatch('ctprogress.stopDrag')\n                //  console.log(e)\n        })\n        this.dom.find('.progress').on('mouseleave', function() {\n            that.dom.find('.layer-number').hide()\n            st = false\n            that.event._dispatch('ctprogress.stopDrag')\n        })\n    }\n\n    //进度条位置\n    progressPos() {\n        if (this.topValue + this.barHeight > this.totalHeight) {\n            this.topValue = this.totalHeight - this.barHeight\n        }\n        this.dom.find('.progress_val').css({\n            \"transform\": \"translate(0px, \" + this.topValue + \"px)\"\n        })\n    }\n    setPosBar(layerId) {\n        if (this.totalImage == 1) {\n            this.dom.find('.progress_val').css({\n                \"transform\": \"translate(0px, 0px)\"\n            })\n            return\n        }\n        let pox = this.imageLists.lastIndexOf(layerId)\n            //console.log(pox, 'setPosBarsetPosBarsetPosBar', layerId)\n        this.topValue = pox == -1 ? 0 : Math.floor((pox / (this.totalImage - 1)) * (this.totalHeight - this.barHeight))\n            //console.log(this.topValue)\n        this.progressPos()\n    }\n\n    //设置bar的高度\n    setBarHeight() {\n        if (this.totalImage < 50) {\n            this.valH = 1\n        }\n        let rate = (this.valH / this.totalImage)\n        this.totalHeight = this.dom.find('.progress').box().offsetHeight\n        this.barHeight = Math.floor((rate * this.totalHeight) / (1 + rate))\n        this.dom.find('.progress_val').css({\n            height: this.barHeight\n        })\n    }\n\n    //设置总片长\n    setImageData(value) {\n        console.log(value)\n        this.imageLists = value\n        this.totalImage = value.length\n\n        this.setBarHeight()\n    }\n\n    //获取当前比例\n    getRate() {\n        let num = Math.floor(this.topValue / (this.totalHeight - this.barHeight) * (this.totalImage - 1))\n        num = num > (this.totalImage - 1) ? (this.totalImage - 1) : num\n        console.log(this.imageLists[num],num)\n        return this.imageLists[num]\n    }\n\n    //清掉一些监听\n    close() {\n        this.dom.find('.progress_val').off('mousedown')\n        this.dom.off('mousemove')\n        this.dom.off('mouseup')\n        this.dom.find('.progress').off('mousemove')\n    }\n\n\n    //重置\n    resize(layerId) {\n        this.setBarHeight()\n        this.setPosBar(layerId)\n            // console.log()\n    }\n\n}\n\n//原型链一定要有的\nmodule.exports = CtProgress;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctprogress/ctprogress.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ctprogress.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ctprogress.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./ctprogress.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/ctprogress/ctprogress.less\n// module id = 654\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ctprogress {\\n  position: relative;\\n  height: 100%;\\n  -webkit-touch-callout: none;\\n  /* iOS Safari */\\n  -webkit-user-select: none;\\n  /* Chrome/Safari/Opera */\\n  -khtml-user-select: none;\\n  /* Konqueror */\\n  -moz-user-select: none;\\n  /* Firefox */\\n  -ms-user-select: none;\\n  /* Internet Explorer/Edge */\\n  user-select: none;\\n}\\n.ctprogress .progress {\\n  position: absolute;\\n  width: 10px;\\n  height: 100%;\\n  right: 0;\\n  top: 0px;\\n  margin: 0;\\n  left: auto;\\n  background: #01111E;\\n}\\n.ctprogress .progress .progress_val {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  border-radius: 14px;\\n  height: 0;\\n  width: 6px;\\n  background: #448E97;\\n}\\n.ctprogress .progress .layer-number {\\n  position: absolute;\\n  display: none;\\n  left: -30px;\\n  top: 0;\\n  border-radius: 14px;\\n  height: 0;\\n  width: 6px;\\n  color: #fff;\\n  background: #448E97;\\n  -webkit-touch-callout: none;\\n  /* iOS Safari */\\n  -webkit-user-select: none;\\n  /* Chrome/Safari/Opera */\\n  -khtml-user-select: none;\\n  /* Konqueror */\\n  -moz-user-select: none;\\n  /* Firefox */\\n  -ms-user-select: none;\\n  /* Internet Explorer/Edge */\\n  user-select: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/ctprogress/ctprogress.less\n// module id = 655\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=ctprogress> <div class=progress> <div class=progress_val></div> <div class=layer-number></div> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/ctprogress/tpl.html\n// module id = 656\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","class brushManager {\n    constructor() {\n        this.init()\n    }\n    init() {\n        this.brushInfo = {}\n        this.brushIdInfo = {}\n        this.brushlength = 0\n        this.aplha = 140\n        this.colorMap = {\n            'AA1113': [170, 17, 19, this.aplha],\n            'F5A623': [245, 166, 35, this.aplha],\n            'F8E71C': [248, 231, 28, this.aplha],\n            '7ED321': [126, 211, 33, this.aplha],\n            '4A90E2': [74, 144, 226, this.aplha],\n            '50E3C2': [80, 227, 194, this.aplha],\n            '8B572A': [139, 87, 42, this.aplha],\n            '417505': [65, 117, 5, this.aplha],\n            'B8E986': [184, 233, 134, this.aplha],\n            'BD10E0': [189, 16, 224, this.aplha]\n        }\n    }\n    delbrush(value) {\n        //console.log(value, 'deledle', this.brushInfo)\n        for (let i in this.brushInfo) {\n            if (this.brushInfo[i][value.bid || value.uuid]) {\n                delete this.brushInfo[i][value.bid || value.uuid]\n            }\n            if (this.brushInfo[i][value.uuid]) {\n                delete this.brushInfo[i][value.uuid]\n            }\n        }\n    }\n\n    //以病兆id为一个维度清洗数据\n    brushIdInfoSet(bid, layerNumber) {\n        // console.log(this.brushIdInfo)\n        this.brushIdInfo = this.brushIdInfo ? this.brushIdInfo : {}\n        if (!this.brushIdInfo[bid]) {\n            this.brushIdInfo[bid] = {\n                layerLists: []\n            }\n        }\n        this.brushIdInfo[bid].layerLists.push(layerNumber)\n        let result = []\n        let obj = {}\n        for (let i of this.brushIdInfo[bid].layerLists) {\n            if (!obj[i]) {\n                result.push(i)\n                obj[i] = 1\n            }\n        }\n        this.brushIdInfo[bid].layerLists = result\n    }\n    creatBrushInfoData(layerNumber, bId) {\n        if (!this.brushInfo[layerNumber]) {\n            this.brushInfo[layerNumber] = {}\n        }\n        if (!this.brushInfo[layerNumber][bId]) {\n            this.brushInfo[layerNumber][bId] = {}\n        }\n    }\n    setBrush(layerNumber, value, r, w, id, sId) {\n        if (!this.brushInfo[layerNumber]) {\n            this.brushInfo[layerNumber] = {}\n        }\n        let newid = id\n        if (!id) {\n            newid = Tool.getSigleId()\n            this.brushInfo[layerNumber][newid] = {}\n        }\n        //this.creatBrushInfoData()\n        if (!this.brushInfo[layerNumber][newid]) {\n            this.brushInfo[layerNumber][newid] = {}\n        }\n        let arr = this.getroundpoint(value, r)\n        if (r == 0) {\n            arr = value\n        }\n        this.brushIdInfoSet(newid, layerNumber)\n            //console.log(arr,'artrrrr')\n        this.brushInfo[layerNumber][newid].image = this.creatImage(arr, layerNumber, newid, true, w)\n        this.brushInfo[layerNumber][newid].uuid = newid\n        this.brushInfo[layerNumber][newid].sId = sId\n        this.brushInfo[layerNumber][newid].fill = this.brushInfo[layerNumber][newid].fill != undefined ? this.brushInfo[layerNumber][newid].fill : true\n        this.brushInfo[layerNumber][newid].color = this.brushInfo[layerNumber][newid].color ? this.brushInfo[layerNumber][newid].color : this.colorMap['AA1113']\n        return this.brushInfo[layerNumber][newid]\n    }\n    creatBrush(layerNumber, img, id, sId, wh) {\n        // console.log(id)\n        if (!this.brushInfo[layerNumber]) {\n            this.brushInfo[layerNumber] = {}\n        }\n        let newid = id || Tool.getSigleId()\n            //let imgurl = img\n        if (!this.brushInfo[layerNumber][newid]) {\n            this.brushInfo[layerNumber][newid] = {}\n        }\n        //console.log(imgurl)\n        this.brushIdInfoSet(newid, layerNumber)\n\n        this.brushInfo[layerNumber][newid].orginimage = []\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = wh.w\n        canvas.height = wh.h\n        let ctx = canvas.getContext(\"2d\");\n        //ctx.drawImage(img, 0, 0, wh.w, wh.h, 0, 0, canvas.width, canvas.height)\n        let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n            //[0, 200, 0, this.aplha]\n        for (let i = 0; i < img.length; i++) {\n            let num = img[i]\n            this.brushInfo[layerNumber][newid].orginimage.push(num)\n            imgData.data[num * 4] = 0\n            imgData.data[num * 4 + 1] = 200\n            imgData.data[num * 4 + 2] = 0\n            imgData.data[num * 4 + 3] = this.aplha\n        }\n        /*for (let i = 0; i < imgData.data.length / 4; i++) {\n            //console.log(imgData.data[i * 4 + 3],'imgData.data[i * 4 + 3]imgData.data[i * 4 + 3]')\n            if (imgData.data[i * 4 + 3] != 0) {\n                //console.log(i)\n                this.brushInfo[layerNumber][newid].orginimage.push(i)\n            }\n        }*/\n        ctx.putImageData(imgData, 0, 0)\n        var image = new Image();\n        image.src = canvas.toDataURL(\"image/png\");\n        ctx = null\n        canvas = null\n        imgData = null\n\n        this.brushInfo[layerNumber][newid].image = image\n            //this.brushInfo[layerNumber][newid].orginimage = imgurl\n        this.brushInfo[layerNumber][newid].uuid = newid\n        this.brushInfo[layerNumber][newid].sId = sId\n        this.brushInfo[layerNumber][newid].color = this.colorMap['AA1113']\n        this.brushInfo[layerNumber][newid].show = true\n        this.brushInfo[layerNumber][newid].fill = true\n        return this.brushInfo[layerNumber][newid]\n    }\n    getInfo(value) {\n        if (!this.brushInfo[value.layerNumber])\n            return null\n        if (!this.brushInfo[value.layerNumber][value.uuid])\n            return null\n        return this.brushInfo[value.layerNumber][value.uuid]\n    }\n    updataInfo(value) {\n        for (let i = 0; i < value.length; i++) {\n            this.brushInfo[value[i].layerNumber][value[i].id].imgurl = value[i].imgurl\n        }\n    }\n    removeBrush(layerNumber, value, r, w, id) {\n        if (!this.brushInfo[layerNumber]) {\n            return\n        }\n        if (!id) {\n            return\n        }\n        console.log(this.brushInfo, '================', layerNumber, id)\n        let arr = this.getroundpoint(value, r)\n        this.brushInfo[layerNumber][id].image = this.creatImage(arr, layerNumber, id, false, w)\n        return this.brushInfo[layerNumber][id]\n    }\n    creatNewImage(img, data, wh, layerNumber, cid) {\n        //console.log(layerNumber, 'layerNumber')\n        this.brushlength = (this.brushlength < layerNumber * 1 ? layerNumber * 1 : this.brushlength)\n            //console.log(this.brushlength)\n        let rate = 1\n            //只有x光可以适用\n        console.log(data.needScale)\n        if (data.needScale) {\n            rate = 0.5\n        }\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = wh.width * rate\n        canvas.height = wh.height * rate\n        let ctx = canvas.getContext(\"2d\");\n\n        ctx.drawImage(img, 0, 0, wh.width, wh.height, 0, 0, canvas.width, canvas.height)\n        let id = data.id\n        let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n\n        let color = this.colorMap['AA1113'] //[230, 25, 75, this.aplha]\n        let dataA = []\n        for (let i = 0; i < imgData.data.length / 4; i++) {\n            //console.log(imgData.data[i * 4 + 3],'imgData.data[i * 4 + 3]imgData.data[i * 4 + 3]')\n            if (imgData.data[i * 4 + 3] != 0) {\n                dataA.push(i)\n                imgData.data[i * 4] = color[0]\n                imgData.data[i * 4 + 1] = color[1]\n                imgData.data[i * 4 + 2] = color[2]\n                imgData.data[i * 4 + 3] = color[3]\n            }\n        }\n        ctx.putImageData(imgData, 0, 0)\n        var image = new Image();\n        image.src = canvas.toDataURL(\"image/png\");\n        ctx = null\n        canvas = null\n        imgData = null\n        if (!this.brushInfo[layerNumber]) {\n            this.brushInfo[layerNumber] = {}\n        }\n        if (!this.brushInfo[layerNumber][id]) {\n            this.brushInfo[layerNumber][id] = {}\n        }\n        this.brushIdInfoSet(id, layerNumber)\n            //this.brushInfo[layerNumber][id].imgurl = img.src\n        this.brushInfo[layerNumber][id].num = layerNumber\n        this.brushInfo[layerNumber][id].id = id\n        this.brushInfo[layerNumber][id].rid = data.rid\n        this.brushInfo[layerNumber][id].sId = data.sId\n        this.brushInfo[layerNumber][id].image = image\n        this.brushInfo[layerNumber][id].color = this.colorMap['AA1113']\n        this.brushInfo[layerNumber][id].fill = true\n        this.brushInfo[layerNumber][id].show = true\n        if (cid == id) {\n            setTimeout(() => {\n                this.brushInfo[layerNumber][id].image = this.resetColor(image)\n            }, 20)\n        }\n        this.brushInfo[layerNumber][id].orginimage = dataA // image\n            //return image\n    }\n    creatImage(data, layerNumber, id, type, width) {\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = width.w || 512\n        canvas.height = width.h || 512\n        let ctx = canvas.getContext(\"2d\");\n        //console.log(this.brushInfo[layerNumber][id].image)\n        console.log(id, layerNumber, this.brushInfo)\n        if (this.brushInfo[layerNumber][id].image) {\n            canvas.width = this.brushInfo[layerNumber][id].image.width\n            canvas.height = this.brushInfo[layerNumber][id].image.height\n            ctx.drawImage(this.brushInfo[layerNumber][id].image, 0, 0)\n        }\n        let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n        let color = [0, 200, 0, this.aplha]\n        if (!type) {\n            color = [255, 255, 255, 0]\n        }\n\n\n        this.calPoint(data, imgData, width.w, color)\n\n        ctx.putImageData(imgData, 0, 0)\n        var image = new Image();\n        image.src = canvas.toDataURL(\"image/png\");\n        ctx = null\n        canvas = null\n        this.brushInfo[layerNumber][id].orginimage = []\n        for (let i = 0; i < imgData.data.length / 4; i++) {\n            //console.log(imgData.data[i * 4 + 3],'imgData.data[i * 4 + 3]imgData.data[i * 4 + 3]')\n            if (imgData.data[i * 4 + 3] != 0) {\n                this.brushInfo[layerNumber][id].orginimage.push(i)\n            }\n        }\n        imgData = null\n        this.brushInfo[layerNumber][id].image = image\n            //this.brushInfo[layerNumber][id].orginimage = image\n        return image\n    }\n    calPoint(data, imgData, width, color) {\n        let len = data.length\n        for (let j = 0; j < len; j++) {\n            let i = 4 * (data[j].x * 1 + data[j].y * width)\n                //console.log(data[j], i)\n            if (imgData.data[i + 3] == color[3] && color[3] == 0) {} else {\n                imgData.data[i] = color[0]\n                imgData.data[i + 1] = color[1]\n                imgData.data[i + 2] = color[2]\n                imgData.data[i + 3] = color[3]\n            }\n        }\n    }\n\n    //颜色的变换和镂空操作\n    doneSingleChange(chooseData, selfNode, type) {\n        if (type == 'color' && chooseData.uuid == selfNode.uuid) {\n            return\n        }\n        console.log(this.brushIdInfo)\n\n        let nodeId = selfNode.bid || selfNode.uuid\n        if (chooseData.uuid == selfNode.uuid) {\n            this.changeColorById(selfNode.bid, selfNode.uuid, [0, 200, 0, this.aplha])\n        } else {\n            this.changeColorById(selfNode.bid, selfNode.uuid)\n        }\n\n    }\n\n    //改变状态\n    restChooseColor(done, cancel) {\n        console.log(new Date().getTime())\n        if (done) {\n            let doneId = done.bid\n            if (doneId) {\n                this.changeColorById(doneId, done.uuid, [0, 200, 0, this.aplha])\n            }\n        }\n        if (cancel) {\n            let cancelId = cancel.bid\n            if (cancelId) {\n                this.changeColorById(cancelId, cancel.uuid)\n            }\n        }\n        console.log(new Date().getTime())\n    }\n\n    //通用改变颜色的方法\n    changeColorById(id, uuid, color) {\n        console.log(this.brushIdInfo, id, uuid)\n        let endId = id\n        if (!this.brushIdInfo) {\n            this.brushIdInfo = {}\n            return\n        }\n        if (this.brushIdInfo[id]) {\n            endId = id\n        }\n        if (this.brushIdInfo[uuid]) {\n            endId = uuid\n        }\n        console.log(endId, this.brushIdInfo[endId])\n        if (!this.brushIdInfo[endId]) {\n            return\n        }\n\n        for (let j of this.brushIdInfo[endId].layerLists) {\n            let brushInfoLayer = this.brushInfo[j][endId]\n                //let ttt = new Date().getTime()\n            brushInfoLayer.image = this.resetColor(brushInfoLayer.orginimage, color ? color : brushInfoLayer.color, brushInfoLayer.fill, brushInfoLayer.image)\n                //console.log(new Date().getTime() - ttt)\n        }\n    }\n\n    //进行了优化，就是第一次进来只改变当前图层的图片，然后进行渲染，背后开启异步渲染机制。然后渲染全图层的内容。以不阻碍用户操作为第一前提\n    allrest(data, layerNum, roation) {\n        layerNum = layerNum * 1\n        if (this.brushlength) {\n            if (layerNum <= 0 || layerNum > this.brushlength) {\n                return\n            }\n        }\n        let layerArray = [layerNum]\n        switch (roation) {\n            case \"add\":\n                layerArray = [layerNum + 1, layerNum + 2, layerNum + 3, layerNum + 4, layerNum + 5]\n                break\n            case \"remove\":\n                layerArray = [layerNum - 5, layerNum - 4, layerNum - 3, layerNum - 2, layerNum - 1]\n                break\n            default:\n                layerArray = [layerNum - 2, layerNum - 1, layerNum, layerNum + 1, layerNum + 2]\n                break\n        }\n        //console.log(layerArray, this.brushInfo)\n        for (let i = 0; i < layerArray.length; i++) {\n            if (this.brushInfo[layerArray[i]]) {\n                //console.log(this.brushInfo[layerArray[i]], 'this.brushInfo[layerArray[i]]this.brushInfo[layerArray[i]]')\n                let brushInfoArray = this.brushInfo[layerArray[i]]\n                for (let bid in brushInfoArray) {\n                    let img = brushInfoArray[bid].orginimage\n                        //console.log(i, bid, data.bid)\n                        //console.log(brushInfoArray[bid])\n                    if (bid == data.bid || bid == data.uuid) {\n                        img = this.resetColor(img, [0, 200, 0, this.aplha], brushInfoArray[bid].fill)\n                    } else {\n                        //img = this.resetColor(img, [230, 25, 75, this.aplha])\n                        //console.log('==============', brushInfoArray[bid])\n                        img = this.resetColor(img, brushInfoArray[bid].color, brushInfoArray[bid].fill)\n                    }\n                    brushInfoArray[bid].image = img\n                }\n            }\n        }\n        if (!roation) {\n            setTimeout(() => {\n                this.allrest(data, layerNum + 2, 'add')\n            }, 100)\n            setTimeout(() => {\n                this.allrest(data, layerNum - 2, 'remove')\n            }, 100)\n        }\n        if (roation == 'add' && (layerNum + 5 < this.brushlength)) {\n            setTimeout(() => {\n                this.allrest(data, layerNum + 5, 'add')\n            }, 100)\n        }\n        if (roation == 'remove' && (layerNum - 5 > 0)) {\n            setTimeout(() => {\n                this.allrest(data, layerNum - 5, 'remove')\n            }, 100)\n        }\n    }\n\n    //重置颜色\n    resetColor(imgArr, colorA, fillSt, img) {\n        if (img.width == 0) {\n            return\n        }\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = img.width\n        canvas.height = img.height\n        let ctx = canvas.getContext(\"2d\");\n        //ctx.drawImage(img, 0, 0)\n        let imgData = ctx.getImageData(0, 0, img.width, img.height)\n        let color = colorA ? colorA : [0, 200, 0, this.aplha]\n            //console.log(imgArr)\n        let obj = {}\n        for (let i of imgArr) {\n            if (!obj[i]) {\n                obj[i] = 1\n            }\n        }\n        for (let i = 0; i < imgArr.length; i++) {\n            let num = imgArr[i] * 4\n            imgData.data[num] = color[0]\n            imgData.data[num + 1] = color[1]\n            imgData.data[num + 2] = color[2]\n            imgData.data[num + 3] = color[3]\n            if (fillSt == false) {\n                let boud = this.fourpd(imgArr[i], obj, img.width, img.height) // this.fourpd(imgArr[i], imgArr, img.width, img.height)\n                if (!boud) {\n                    imgData.data[num + 3] = 0\n                }\n            }\n\n        }\n        /*let newData = [img.width * img.height * 4]\n        for (let i = 0; i < imgData.data.length / 4; i++) {\n            if (imgData.data[i * 4 + 3] != 0) {\n                newData[i * 4] = color[0]\n                newData[i * 4 + 1] = color[1]\n                newData[i * 4 + 2] = color[2]\n                newData[i * 4 + 3] = color[3]\n                if (fillSt == false) {\n                    let boud = this.fourpd(i, imgData.data, img.width, img.height)\n                    if (!boud) {\n                        newData[i * 4 + 3] = 0\n                    }\n                }\n            }\n        }\n        for (let j = 0; j < newData.length; j++) {\n            if (newData[j] != undefined) {\n                imgData.data[j] = newData[j]\n            }\n        }*/\n        //imgData.data=newData\n        //clone = null\n        ctx.putImageData(imgData, 0, 0)\n        var image = new Image();\n        image.src = canvas.toDataURL(\"image/png\");\n        ctx = null\n        canvas = null\n        imgData = null\n            //newData = null\n        return image\n    }\n    fourpd(point, imageData, width, height) {\n        let up = Math.floor((point - width) / width)\n        let right = (point % width) == (width - 1) ? null : (point + 1)\n        let left = (point % width) == 0 ? null : point - 1\n        let down = Math.floor((point + width) / width)\n        let num = 0\n            //console.log(up, right, left, down)\n        if (up < 0 || (down > height) || !right || !left) {\n            return true\n        }\n        if (imageData[String(point - width)]) {\n            num++\n        }\n        if (imageData[String(point + width)]) {\n            num++\n        }\n        if (imageData[String(right)]) {\n            num++\n        }\n        if (imageData[String(left)]) {\n            num++\n        }\n        /*if (up >= 0) {\n            if (imageData.includes(point - width)) {\n                num++\n            }\n        }\n        if (down < height) {\n            if (imageData.includes(point + width)) {\n                num++\n            }\n        }\n        if (right != null) {\n            if (imageData.includes(right)) {\n                num++\n            }\n        }\n        if (left != null) {\n            if (imageData.includes(left)) {\n                num++\n            }\n        }*/\n        //console.log(num)\n        return (num == 4 ? false : true)\n    }\n\n    //单个病灶颜色更改\n    restSignleId(value) {\n        for (let i in this.brushInfo) {\n            for (let j in this.brushInfo[i]) {\n                if (j == value.bid || j == value.uuid) {\n                    this.brushInfo[i][j].color = this.colorMap[value.color]\n                }\n            }\n        }\n    }\n\n    //单个病兆更改填充\n    restSignleIdFill(value) {\n        for (let i in this.brushInfo) {\n            for (let j in this.brushInfo[i]) {\n                if (j == value.bid || j == value.uuid) {\n                    this.brushInfo[i][j].fill = value.fill\n                }\n            }\n        }\n    }\n\n    //单个病灶显示更改\n    restSignleIdShow(value) {\n        for (let i in this.brushInfo) {\n            for (let j in this.brushInfo[i]) {\n                if (j == value.bid || j == value.uuid) {\n                    this.brushInfo[i][j].show = value.show\n                }\n            }\n        }\n    }\n    allShow(value) {\n        for (let i in this.brushInfo) {\n            for (let j in this.brushInfo[i]) {\n                this.brushInfo[i][j].show = value.show\n            }\n        }\n    }\n    clearBrush(layerNumber) {\n        this.brushInfo[layerNumber] = null\n    }\n    deleteAll() {\n        this.brushInfo = {}\n        this.brushIdInfo = null\n    }\n    getroundpoint(value, r) {\n        let arr = []\n        let sx = Math.round(value.x - r)\n        let sy = Math.round(value.y - r)\n        let d = r == 1 ? r : 2 * r\n        if (r == 1) {\n            return [{\n                x: Math.round(value.x),\n                y: Math.round(value.y)\n            }]\n        }\n        let rand = d * d\n        for (let i = 0; i < rand; i++) {\n            let x = sx + Math.floor(i % d)\n            let y = sy + Math.floor(i / d)\n            if ((x - value.x) * (x - value.x) + (y - value.y) * (y - value.y) <= r * r) {\n                arr.push({\n                    x: x,\n                    y: y\n                })\n            }\n        }\n        return arr\n    }\n}\n\n//原型链一定要有的\nmodule.exports = new brushManager();\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/brush_manager.js","class setoolconfig {\n    constructor() {}\n    setconfig(type, now_config) {\n        let oldConfig\n        switch (type) {\n            case 'rectangleRoiFan':\n                let oldConfig1 = cornerstoneTools.rectangleRoi.getConfiguration();\n                if (oldConfig1) {\n                    now_config = Object.assign(oldConfig1, now_config);\n                }\n                cornerstoneTools.rectangleRoi.setConfiguration(now_config);\n                break\n            case \"lengthFan\":\n                let lineMeanConfig = cornerstoneTools.length.getConfiguration();\n                if (lineMeanConfig) {\n                    now_config = Object.assign(lineMeanConfig, now_config);\n                }\n                cornerstoneTools.length.setConfiguration(now_config);\n                break\n            case \"brushFan\":\n                let configuration = cornerstoneTools.brush.getConfiguration();\n                if (configuration) {\n                    now_config = Object.assign(configuration, now_config);\n                }\n                cornerstoneTools.brush.setConfiguration(now_config);\n                break\n            case 'ellipticalRoiFan':\n                let oldConfig11 = cornerstoneTools.ellipticalRoi.getConfiguration();\n                if (oldConfig11) {\n                    now_config = Object.assign(oldConfig11, now_config);\n                }\n                cornerstoneTools.ellipticalRoi.setConfiguration(now_config);\n                break\n            case \"polygonFan\":\n                oldConfig = cornerstoneTools.brush.getConfiguration();\n                if (oldConfig) {\n                    now_config = Object.assign(oldConfig, now_config);\n                }\n                cornerstoneTools.brush.setConfiguration(now_config);\n                break\n            case \"freehandFan\":\n                oldConfig = cornerstoneTools.brush.getConfiguration();\n                if (oldConfig) {\n                    now_config = Object.assign(oldConfig, now_config);\n                }\n                cornerstoneTools.brush.setConfiguration(now_config);\n                break\n            case \"regionpaintFan\":\n                oldConfig = cornerstoneTools.brush.getConfiguration();\n                if (oldConfig) {\n                    now_config = Object.assign(oldConfig, now_config);\n                }\n                cornerstoneTools.brush.setConfiguration(now_config);\n                break\n        }\n    }\n\n\n\n}\n\n//原型链一定要有的\nmodule.exports = new setoolconfig();\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/setcomfig_tool.js","//data对象，参考对象referent，转换对象 convert \n//参考对象包含 imageOrientationPatient,imagePositionPatient,pixelSpacing\n//转换对象包含 imageOrientationPatient,imagePositionPatient,pixelSpacing,total,distance,width,height\n//imageOrientationPatient两个坐标系的转换关系\n//imagePositionPatient代表图片的左顶点的位置信息\n//pixelSpacing代表图像像素和毫米的转换\n/*makeMetix 将数组按照行或者列 数装换成二维数组,row代表行，col代表列，type代表是按照行还是列的模式，value是原始数组，\n 原始数组为一维数组，数字的排序是按照矩阵的逐行进入\\\n metixMultiply 为数组乘法，mA，mB代表两个数组，最后返回两数组相乘的结果,是一个二维数组，以逐行模式排序\n existsDraw是否有相交线，如果没有就算了\n rankA计算矩阵的秩，为了逆运算准备的\n\n  */\nclass BaseLine {\n    constructor(data) {\n        // console.log(new Date().getTime())\n        data.referent.imageOrientationPatient = BaseLine.backImageOrientationPatient(data.referent.imageOrientationPatient)\n        data.convert.imageOrientationPatient = BaseLine.backImageOrientationPatient(data.convert.imageOrientationPatient)\n        //两套序列平行返回\n        if (data.convert.imageOrientationPatient.toString() == data.referent.imageOrientationPatient.toString()) {\n            return []\n        }\n        let nowMetix = BaseLine.makeMetix(data.referent)\n\n        let backMetix = nowMetix.AInverse()\n        // console.log(backMetix,nowMetix.rankA(),nowMetix)\n        let referent = BaseLine.getPoint(data.referent)\n        let convert = BaseLine.getPoint(data.convert)\n\n        /*if (referent.a * convert.a + referent.b * convert.b + referent.c * convert.c == 0) {\n            return\n        }*/\n        // let a = referent.a - convert.a\n        // let b = referent.b - convert.b\n        // let c = referent.c - convert.c\n        // let d = referent.d - convert.d\n\n        let a = convert.a\n        let b = convert.b\n        let c = convert.c\n        let d = convert.d\n\n        let allline = BaseLine.getfourline(referent.pointAll)\n        let pointA = []\n        for (let i in allline) {\n            pointA.push(BaseLine.getlineIntersection(allline[i], a, b, c, d))\n        }\n        let endA = []\n        let orginXYZ = []\n        // let mm = BaseLine.getMaxMin(convert.pointAll)\n        let mm = BaseLine.getMaxMin(referent.pointAll)\n        //console.log(mm)\n        //console.log(pointA,'pointA',backMetix)\n        for (let i = 0; i < pointA.length; i++) {\n            let x\n            let y\n            if (!backMetix) {\n                let temp\n                let endAll\n                if (pointA[i].x == 0) {\n                    temp = new Metix([nowMetix.orgin[1][0], nowMetix.orgin[1][1], nowMetix.orgin[2][0], nowMetix.orgin[2][1]], 2, 2)\n                    endAll = temp.AInverse().multiply([\n                        [pointA[i].y - nowMetix.orgin[1][2], pointA[i].z - nowMetix.orgin[2][2]]\n                    ])\n                }\n                if (pointA[i].y == 0) {\n                    temp = new Metix([nowMetix.orgin[0][0], nowMetix.orgin[0][1], nowMetix.orgin[2][0], nowMetix.orgin[2][1]], 2, 2)\n                    endAll = temp.AInverse().multiply([\n                        [pointA[i].x - nowMetix.orgin[0][2], pointA[i].z - nowMetix.orgin[2][2]]\n                    ])\n                }\n                if (pointA[i].z == 0) {\n                    temp = new Metix([nowMetix.orgin[0][0], nowMetix.orgin[0][1], nowMetix.orgin[1][0], nowMetix.orgin[1][1]], 2, 2)\n                    endAll = temp.AInverse().multiply([\n                        [pointA[i].x - nowMetix.orgin[0][2], pointA[i].y - nowMetix.orgin[1][2]]\n                    ])\n                }\n                // console.log(endAll,pointA[i])\n                if (endAll) {\n                    endA.push({ x: endAll.orgin[0][0], y: endAll.orgin[1][0] })\n                    orginXYZ.push({ x: pointA[i].x, y: pointA[i].y, z: pointA[i].z })\n                }\n\n                // console.log(endAll)\n            } else {\n                let backxy = backMetix.multiply([\n                    [pointA[i].x, pointA[i].y, pointA[i].z]\n                ])\n                x = Math.round(backxy.orgin[0] / backxy.orgin[2])\n                y = Math.round(backxy.orgin[1] / backxy.orgin[2])\n                //console.log(x,y,backxy)         \n            }\n            if (x >= 0 && x <= data.referent.width && y >= 0 && y <= data.referent.height) {\n                endA.push({ x: x, y: y })\n                orginXYZ.push({ x: pointA[i].x, y: pointA[i].y, z: pointA[i].z })\n            }\n\n        }\n        if (endA.length == 2) {\n            let orginMaxx = Math.max(orginXYZ[0].x, orginXYZ[1].x)\n            let orginMinx = Math.min(orginXYZ[0].x, orginXYZ[1].x)\n            let orginMaxy = Math.max(orginXYZ[0].y, orginXYZ[1].y)\n            let orginMiny = Math.min(orginXYZ[0].y, orginXYZ[1].y)\n            let orginMaxz = Math.max(orginXYZ[0].z, orginXYZ[1].z)\n            let orginMinz = Math.min(orginXYZ[0].z, orginXYZ[1].z)\n            if (orginMaxx < mm.x.min || orginMinx > mm.x.max) {\n                return []\n            }\n            if (orginMaxy < mm.y.min || orginMiny > mm.y.max) {\n                return []\n            }\n            if (orginMaxz < mm.z.min || orginMinz > mm.z.max) {\n                return []\n            }\n            return endA\n        } else {\n            return []\n        }\n        // console.log(referent, convert)\n    }\n    static getMaxMin(value) {\n        let pointA1 = BaseLine.getXYZ(value.lt)\n        let pointA2 = BaseLine.getXYZ(value.rt)\n        let pointA3 = BaseLine.getXYZ(value.lb)\n        let pointA4 = BaseLine.getXYZ(value.rb)\n        let obj = {}\n        for (var i in pointA1) {\n            obj[i] = {}\n            obj[i].max = Math.max(pointA1[i], pointA2[i], pointA3[i], pointA4[i])\n            obj[i].min = Math.min(pointA1[i], pointA2[i], pointA3[i], pointA4[i])\n        }\n        return obj\n    }\n    static getlineIntersection(line, a, b, c, d) {\n        let x1 = line.x[0]\n        let x2 = line.x[1]\n        let y1 = line.y[0]\n        let y2 = line.y[1]\n        let z1 = line.z[0]\n        let z2 = line.z[1]\n        let t = (a * x1 + b * y1 + c * z1 + d) / (a * x2 + b * y2 + c * z2)\n        let x = x1 - x2 * t\n        let y = y1 - y2 * t\n        let z = z1 - z2 * t\n        return { x: x, y: y, z: z }\n    }\n    static getfourline(value) {\n        let pointA1 = BaseLine.getXYZ(value.lt)\n        let pointA2 = BaseLine.getXYZ(value.rt)\n        let pointA3 = BaseLine.getXYZ(value.lb)\n        let pointA4 = BaseLine.getXYZ(value.rb)\n        let line1 = BaseLine.getlineEquation(pointA1, pointA2)\n        let line2 = BaseLine.getlineEquation(pointA2, pointA4)\n        let line3 = BaseLine.getlineEquation(pointA4, pointA3)\n        let line4 = BaseLine.getlineEquation(pointA3, pointA1)\n        return { l1: line1, l2: line2, l3: line3, l4: line4 }\n    }\n    static getlineEquation(value, value1) {\n        return { x: [value.x, value1.x - value.x], y: [value.y, value1.y - value.y], z: [value.z, value1.z - value.z] }\n    }\n    static getPoint(value) {\n        let metixAll = BaseLine.makeMetix(value)\n        //console.log(metixAll)\n        let point1 = [\n            [0, 0, 1]\n        ]\n        let point2 = [\n            [value.width, 0, 1]\n        ]\n        let point3 = [\n            [value.width, value.height, 1]\n        ]\n        let point4 = [\n            [0, value.height, 1]\n        ]\n        let pointAll = { lt: metixAll.multiply(point1).orgin, rt: metixAll.multiply(point2).orgin, lb: metixAll.multiply(point4).orgin, rb: metixAll.multiply(point3).orgin }\n        // console.log(pointAll)\n        let pointA1 = BaseLine.getXYZ(pointAll.lt)\n        let pointA2 = BaseLine.getXYZ(pointAll.rt)\n        let pointA3 = BaseLine.getXYZ(pointAll.lb)\n        let a = pointA1.y * (pointA2.z - pointA3.z) + pointA2.y * (pointA3.z - pointA1.z) + pointA3.y * (pointA1.z - pointA2.z)\n        let b = pointA1.z * (pointA2.x - pointA3.x) + pointA2.z * (pointA3.x - pointA1.x) + pointA3.z * (pointA1.x - pointA2.x)\n        let c = pointA1.x * (pointA2.y - pointA3.y) + pointA2.x * (pointA3.y - pointA1.y) + pointA3.x * (pointA1.y - pointA2.y)\n        let d = -pointA1.x * (pointA2.y * pointA3.z - pointA3.y * pointA2.z) - pointA2.x * (pointA3.y * pointA1.z - pointA1.y * pointA3.z) - pointA3.x * (pointA1.y * pointA2.z - pointA2.y * pointA1.z)\n        return { a: a, b: b, c: c, d: d, pointAll: pointAll }\n    }\n    static getXYZ(value) {\n        return { x: value[0][0], y: value[1][0], z: value[2][0] }\n    }\n    static makeMetix(value) {\n        let iop = value.imageOrientationPatient\n        let ipp = value.imagePositionPatient.split(',')\n        let sp = value.pixelSpacing.split(',')\n        return new Metix([iop[0] * sp[0], iop[3] * sp[0], ipp[0], iop[1] * sp[0], iop[4] * sp[0], ipp[1], iop[2] * sp[0], iop[5] * sp[0], ipp[2]], 3, 3)\n    }\n\n    static backImageOrientationPatient(value) {\n        let imageOrientationPatient = value.split(',')\n        for (let i = 0; i < imageOrientationPatient.length; i++) {\n            imageOrientationPatient[i] = Math.floor(imageOrientationPatient[i] * 2000) / 2000\n        }\n\n        return imageOrientationPatient\n    }\n\n}\nmodule.exports = BaseLine;\n// let data = {\n//     referent: {\n//         imageOrientationPatient: \"1, -0, 0, 0, 0, -1\",\n//         imagePositionPatient: \"-265.000,0.000,60.000\",\n//         pixelSpacing: \"0.545455,0.596847\",\n//         width: 660,\n//         height: 888,\n//     },\n//     convert: {\n//         imageOrientationPatient:'1, 0, 0, 0, 1, 0',\n//         imagePositionPatient: \"-183.800,-190.000,43.000\",\n//         pixelSpacing: \"0.742188,0.742188\",\n//         width: 512,\n//         height: 512\n//     }\n// }\n/*let data = {\n    referent: {\n        imageOrientationPatient: \"0.67233121643055,0.74025045451727,-9.935707e-009,0.02191119899741,-0.019900822643,-0.9995618323129\",\n        imagePositionPatient: \"-68.262459611871,-80.653947034019,151.60720667862\",\n        pixelSpacing: \"0.6875,0.6875\",\n        width: 320,\n        height: 320,\n    },\n    convert: {\n        imageOrientationPatient: \"2.506e-012,1,-2.05088e-010,0.01221696318555,-2.05103e-010,-0.9999253701205\",\n        imagePositionPatient: \"-28.008708762154,-130.06024071991,165.21970708543\",\n        pixelSpacing: \"0.48828125,0.48828125\",\n        width: 512,\n        height: 512,\n        direction: 2,\n        distance: -5,\n        total: 56\n    }\n}*/\n// console.log(new BaseLine(data))\n\n\n// WEBPACK FOOTER //\n// ./app/utils/baselinebak.js","//data对象，参考对象referent，转换对象 convert \n//参考对象包含 imageOrientationPatient,imagePositionPatient,pixelSpacing\n//转换对象包含 imageOrientationPatient,imagePositionPatient,pixelSpacing,total,distance,width,height\n//imageOrientationPatient两个坐标系的转换关系\n//imagePositionPatient代表图片的左顶点的位置信息\n//pixelSpacing代表图像像素和毫米的转换\n/*makeMetix 将数组按照行或者列 数装换成二维数组,row代表行，col代表列，type代表是按照行还是列的模式，value是原始数组，\n 原始数组为一维数组，数字的排序是按照矩阵的逐行进入\\\n metixMultiply 为数组乘法，mA，mB代表两个数组，最后返回两数组相乘的结果,是一个二维数组，以逐行模式排序\n existsDraw是否有相交线，如果没有就算了\n rankA计算矩阵的秩，为了逆运算准备的\n\n  */\nclass BaseLine {\n    constructor(data) {\n        if(!data) return this\n\n        data.referent.imageOrientationPatient = BaseLine.backImageOrientationPatient(data.referent.imageOrientationPatient)\n        data.convert.imageOrientationPatient = BaseLine.backImageOrientationPatient(data.convert.imageOrientationPatient)\n        //两套序列平行返回\n        \n        let referent = BaseLine.makeMetix(data.referent)\n        //console.log(referent, 'referent')\n        let convert = BaseLine.makeMetix(data.convert)\n        //console.log(convert, 'convert')\n        let change = new Metix([data.referent.x, data.referent.y, 1], 3, 1).transpose().orgin\n        let nowXYZ = referent.multiply(change)\n        /*if (data.convert.imageOrientationPatient.toString() == data.referent.imageOrientationPatient.toString()) {\n            return convert.AInverse().multiply(nowXYZ.transpose().orgin)\n        }*/\n        // console.log(nowXYZ, 'nowXYZ')\n        let convertF = BaseLine.getPoint(data.convert)\n        // console.log(convertF)\n        let dis = Math.abs(convertF.a * nowXYZ.orgin[0][0] + convertF.b * nowXYZ.orgin[1][0] + convertF.c * nowXYZ.orgin[2][0]+convertF.d) / Math.pow((convertF.a * convertF.a + convertF.b * convertF.b + convertF.c * convertF.c), 0.5)\n        return { nowXYZ: nowXYZ, dis: dis, convertF: convertF, convert: convert }\n        //console.log(convert.AInverse(),'AInverse')\n        //let endpoint = convert.AInverse().multiply(nowXYZ.transpose().orgin)\n        //console.log(endpoint)\n        //return endpoint\n\n    }\n    getSagPoint(data) {\n        if(!data.convert.AInverse()){\n            let temp\n            let endAll\n            if(data.nowXYZ.orgin[0][0]==0){\n                temp=new Metix([data.convert.orgin[1][0],data.convert.orgin[1][1],data.convert.orgin[2][0],data.convert.orgin[2][1]], 2, 2)\n                endAll=temp.AInverse().multiply([\n                    [data.nowXYZ.orgin[1][0]-data.convert.orgin[1][2],data.nowXYZ.orgin[2][0]-data.convert.orgin[2][2]]\n                ])\n            }\n            if(data.nowXYZ.orgin[1][0]==0){\n                temp=new Metix([data.convert.orgin[0][0],data.convert.orgin[0][1],data.convert.orgin[2][0],data.convert.orgin[2][1]], 2, 2)\n                endAll=temp.AInverse().multiply([\n                    [data.nowXYZ.orgin[0][0]-data.convert.orgin[0][2],data.nowXYZ.orgin[2][0]-data.convert.orgin[2][2]]\n                ])\n            }\n            if(data.nowXYZ.orgin[2][0]==0){\n                temp=new Metix([data.convert.orgin[0][0],data.convert.orgin[0][1],data.convert.orgin[1][0],data.convert.orgin[1][1]], 2, 2)\n                endAll=temp.AInverse().multiply([\n                    [data.nowXYZ.orgin[0][0]-data.convert.orgin[0][2],data.nowXYZ.orgin[1][0]-data.convert.orgin[1][2]]\n                ])\n            }\n            if(endAll){\n                let x= endAll.orgin[0][0]\n                let y=endAll.orgin[1][0]\n                return {x:x,y:y}\n            }else {\n                return null\n            }\n\n        }\n        if (Math.floor(data.dis) == 0) {\n            let orgin = data.convert.AInverse().multiply(data.nowXYZ.transpose().orgin)\n            return { x: orgin.orgin[0] / orgin.orgin[2], y: orgin.orgin[1] / orgin.orgin[2] }\n        } else {\n            let allpoint = data.convertF.pointAll\n            let pointA1 = BaseLine.getXYZ(allpoint.lt)\n            let pointA2 = BaseLine.getXYZ(allpoint.rt)\n            let pointA3 = BaseLine.getXYZ(allpoint.lb)\n            let newMetix = new Metix([pointA2.x - pointA1.x, pointA2.y - pointA1.y, pointA2.z - pointA1.z, pointA3.x - pointA1.x, pointA3.y - pointA1.y, pointA3.z - pointA1.z, data.convertF.a/data.convertF.d, data.convertF.b/data.convertF.d, data.convertF.c/data.convertF.d], 3, 3)\n            let x4 = data.nowXYZ.orgin[0][0]\n            let y4 = data.nowXYZ.orgin[1][0]\n            let z4 = data.nowXYZ.orgin[2][0]\n            let x5 = x4 * (pointA2.x - pointA1.x) + y4 * (pointA2.y - pointA1.y) + z4 * (pointA2.z - pointA1.z)\n            let y5 = x4 * (pointA3.x - pointA1.x) + y4 * (pointA3.y - pointA1.y) + z4 * (pointA3.z - pointA1.z)\n            let nowXYZ = new Metix([x5, y5, -1], 3, 1)\n            let endpoint =newMetix.AInverse().multiply(nowXYZ.transpose().orgin)\n            let orgin = data.convert.AInverse().multiply(endpoint.transpose().orgin)\n            // console.log(orgin)\n            return { x: orgin.orgin[0] / orgin.orgin[2], y: orgin.orgin[1] / orgin.orgin[2] }\n        }\n    }\n    static getPoint(value) {\n        let metixAll = BaseLine.makeMetix(value)\n        //console.log(metixAll)\n        let point1 = [\n            [0, 0, 1]\n        ]\n        let point2 = [\n            [value.width, 0, 1]\n        ]\n        let point3 = [\n            [value.width, value.height, 1]\n        ]\n        let point4 = [\n            [0, value.height, 1]\n        ]\n        let pointAll = { lt: metixAll.multiply(point1).orgin, rt: metixAll.multiply(point2).orgin, lb: metixAll.multiply(point4).orgin, rb: metixAll.multiply(point3).orgin }\n        let pointA1 = BaseLine.getXYZ(pointAll.lt)\n        let pointA2 = BaseLine.getXYZ(pointAll.rt)\n        let pointA3 = BaseLine.getXYZ(pointAll.lb)\n        let a = pointA1.y * (pointA2.z - pointA3.z) + pointA2.y * (pointA3.z - pointA1.z) + pointA3.y * (pointA1.z - pointA2.z)\n        let b = pointA1.z * (pointA2.x - pointA3.x) + pointA2.z * (pointA3.x - pointA1.x) + pointA3.z * (pointA1.x - pointA2.x)\n        let c = pointA1.x * (pointA2.y - pointA3.y) + pointA2.x * (pointA3.y - pointA1.y) + pointA3.x * (pointA1.y - pointA2.y)\n        let d = -pointA1.x * (pointA2.y * pointA3.z - pointA3.y * pointA2.z) - pointA2.x * (pointA3.y * pointA1.z - pointA1.y * pointA3.z) - pointA3.x * (pointA1.y * pointA2.z - pointA2.y * pointA1.z)\n        return { a: a, b: b, c: c, d: d, pointAll: pointAll }\n    }\n    static getXYZ(value) {\n        return { x: value[0][0], y: value[1][0], z: value[2][0] }\n    }\n    static backImageOrientationPatient(value) {\n        let imageOrientationPatient = value.split(',')\n        for (let i = 0; i < imageOrientationPatient.length; i++) {\n            imageOrientationPatient[i] = Math.floor(imageOrientationPatient[i] * 2000) / 2000\n        }\n\n        return imageOrientationPatient\n    }\n    static makeMetix(value) {\n        let iop = value.imageOrientationPatient\n        let ipp = value.imagePositionPatient.split(',')\n        let sp = value.pixelSpacing.split(',')\n        return new Metix([iop[0] * sp[0], iop[3] * sp[0], ipp[0], iop[1] * sp[0], iop[4] * sp[0], ipp[1], iop[2] * sp[0], iop[5] * sp[0], ipp[2]], 3, 3)\n    }\n\n}\n\nmodule.exports = BaseLine;\n// let data = {\n//     referent: {\n//         imageOrientationPatient: \"1,0,0,0,1,0\",\n//         imagePositionPatient: \"-178.689453125,-335.189453125,113.5\",\n//         pixelSpacing: \"0.62109375,0.62109375\",\n//         x: 10,\n//         y: 10,\n//         z: 1,\n//     },\n//     convert: {\n//         imageOrientationPatient: \"1,0,0,0,1,0\",\n//         imagePositionPatient: \"-178.689453125,-335.189453125,113.5\",\n//         pixelSpacing: \"0.62109375,0.62109375\",\n//         width: 512,\n//         height: 512\n//     }\n// }\n// console.log(new BaseLine(data))\n\n\n\n// WEBPACK FOOTER //\n// ./app/utils/baseline.js","function ctcornerstoneload() {\n\n    cornerstoneWADOImageLoader.external.cornerstone = cornerstone;\n    cornerstone.registerImageLoader('myImageLoader', loadImage);\n\n    function loadImage(imageId) {\n        const width = 512;\n        const height = 512;\n        const numPixels = 100;\n        let pixelData //= new Uint16Array(numPixels);\n        let index = 0;\n        let canvas\n        let aaaimg\n\n        function getPixelData() {\n            return pixelData;\n        }\n\n        function getCanvas() {\n            return canvas;\n        }\n\n        function getImage() {\n            return aaaimg;\n        }\n\n        function setPixelData() {\n            return aaaimg;\n        }\n        let image = {\n            imageId: imageId,\n            minPixelValue: 0,\n            maxPixelValue: 255,\n            slope: 1.0,\n            intercept: 0,\n            windowCenter: 128,\n            windowWidth: 256,\n            render: cornerstone.renderWebImage,\n            getPixelData: getPixelData,\n            setPixelData: setPixelData,\n            getCanvas: getCanvas,\n            getImage: getImage,\n            rows: height,\n            columns: width,\n            height: height,\n            width: width,\n            Wretched: false, //以此判定图片是否跟原始尺寸有区别\n            rate: 1,\n            color: true,\n            rgba: false,\n            columnPixelSpacing: 1.0,\n            rowPixelSpacing: 1.0,\n            invert: false,\n            sizeInBytes: width * height * 4\n        };\n        return {\n            promise: new Promise(function(resolve, reject) {\n                let x1 = document.createElement(\"CANVAS\");\n                canvas = x1\n                let imgase = new Image()\n                imgase.crossOrigin = 'anonymous'\n                imgase.onload = function() {\n                    aaaimg = this\n                    //只有x光可以适用\n                    if ((this.width > 2000 || this.height > 2000) && window.fileTypeName == \"DCM\") {\n                        image.rate = 0.5\n                        image.Wretched = true\n                    }\n                    image.columns = image.width = Math.floor(this.width * image.rate)\n                    image.rows = image.height = Math.floor(this.height * image.rate)\n                    image.sizeInBytes = image.width * image.height * 4\n                    x1.setAttribute(\"width\", image.width);\n                    x1.setAttribute(\"height\", image.height);\n                    let ctx = x1.getContext(\"2d\");\n                    //console.log(this.width, this.height, image.width, image.height, '============')\n                    ctx.drawImage(this, 0, 0, this.width, this.height, 0, 0, image.width, image.height)\n                    let imageData = ctx.getImageData(0, 0, image.width, image.height).data\n                    pixelData = imageData // new Uint16Array(this.width * this.height*4);\n                    resolve(image);\n                }\n                image.onerror = function() {\n                    that.event._dispatch('ctcornerstone.imgloadError', {\n                        src: imgase.src\n                    })\n                }\n                imgase.src = imageId.replace('myImageLoader:', '')\n            }),\n            cancelFn: undefined\n        }\n    }\n    cornerstone.registerImageLoader('glayImage', loadGlayImage);\n\n    function loadGlayImage(imageId) {\n        const width = 512;\n        const height = 512;\n        const numPixels = 100;\n        let pixelData //= new Uint16Array(numPixels);\n        let index = 0;\n        let canvas\n        let aaaimg\n\n        function getPixelData() {\n            return pixelData;\n        }\n\n        function getCanvas() {\n            return canvas;\n        }\n\n        function getImage() {\n            return aaaimg;\n        }\n\n        function setPixelData() {\n            return aaaimg;\n        }\n        let image = {\n            imageId: imageId,\n            minPixelValue: 0,\n            maxPixelValue: 255,\n            slope: 1.0,\n            intercept: 0,\n            windowCenter: 128,\n            windowWidth: 256,\n            render: cornerstone.renderWebImage,\n            getPixelData: getPixelData,\n            setPixelData: setPixelData,\n            getCanvas: getCanvas,\n            getImage: getImage,\n            rows: height,\n            columns: width,\n            height: height,\n            width: width,\n            Wretched: false, //以此判定图片是否跟原始尺寸有区别\n            rate: 1,\n            color: true,\n            rgba: false,\n            columnPixelSpacing: 1.0,\n            rowPixelSpacing: 1.0,\n            invert: false,\n            sizeInBytes: width * height * 4\n        };\n        return {\n            promise: new Promise(function(resolve, reject) {\n                let x1 = document.createElement(\"CANVAS\");\n                canvas = x1\n                let ctx = x1.getContext(\"2d\");\n                let numw = imageId.replace('glayImage:', '').match(/\\d{1,}/g)[0] * 1\n                let type = imageId.replace('glayImage:', '').match(/[a-z]{1,}/g)[0]\n                let ratey = window.depth / window.targetInfo.rowPixelSpacing\n                ratey = ratey < 1 ? 1 : ratey\n                let ratex = window.depth / window.targetInfo.columnPixelSpacing\n                ratex = ratex < 1 ? 1 : ratex\n                let imageData1\n                switch (type) {\n                    case \"x\":\n                        image.columns = image.width = window.imageList[0].length\n                        image.rows = image.height = Math.round(window.imageList.length * ratex)\n                        console.log(ratex)\n                        x1.setAttribute(\"width\", image.width);\n                        x1.setAttribute(\"height\", image.height);\n                        imageData1 = ctx.getImageData(0, 0, image.width, image.height)\n\n                        for (let i = 0; i < image.height; i++) {\n                            for (let j = 0; j < image.width; j++) {\n                                let orginI = Math.floor(i / ratex)\n                                let num = i * image.width + j\n                                imageData1.data[num * 4] = window.imageList[orginI][j][numw]\n                                imageData1.data[num * 4 + 1] = window.imageList[orginI][j][numw]\n                                imageData1.data[num * 4 + 2] = window.imageList[orginI][j][numw]\n                                imageData1.data[num * 4 + 3] = 255\n                            }\n                        }\n                        break\n                    case \"y\":\n                        image.columns = image.width = window.imageList[0][0].length\n                        image.rows = image.height = Math.round(window.imageList.length * ratey)\n                        x1.setAttribute(\"width\", image.width);\n                        x1.setAttribute(\"height\", image.height);\n                        imageData1 = ctx.getImageData(0, 0, image.width, image.height)\n                        for (let i = 0; i < image.height; i++) {\n                            for (let j = 0; j < image.width; j++) {\n                                let orginI = Math.floor(i / ratey)\n                                let num = i * image.width + j\n                                //console.log(xy[i][j],num)\n                                imageData1.data[num * 4] = window.imageList[orginI][numw][j]\n                                imageData1.data[num * 4 + 1] = window.imageList[orginI][numw][j]\n                                imageData1.data[num * 4 + 2] = window.imageList[orginI][numw][j]\n                                imageData1.data[num * 4 + 3] = 255\n                            }\n                        }\n\n                        break\n                    case \"z\":\n                        image.columns = image.width = window.imageList[0][0].length\n                        image.rows = image.height = window.imageList[0].length\n                        x1.setAttribute(\"width\", image.width);\n                        x1.setAttribute(\"height\", image.height);\n                        imageData1 = ctx.getImageData(0, 0, image.width, image.height)\n                        for (let i = 0; i < image.height; i++) {\n                            for (let j = 0; j < image.width; j++) {\n                                let num = i * image.width + j\n                                //console.log(xy[i][j],num)\n                                imageData1.data[num * 4] = window.imageList[numw][i][j]\n                                imageData1.data[num * 4 + 1] = window.imageList[numw][i][j]\n                                imageData1.data[num * 4 + 2] = window.imageList[numw][i][j]\n                                imageData1.data[num * 4 + 3] = 255\n                            }\n                        }\n                        //pixelData = imageData\n                        //aaaimg = x1.toDataURL('image/jpeg');\n                        break\n                }\n                ctx.putImageData(imageData1, 0, 0)\n                let imgase = new Image()\n                imgase.src = x1.toDataURL('image/jpeg');\n                imgase.crossOrigin = 'anonymous';\n                imgase.onload = function() {\n                    aaaimg = this\n                    image.columns = image.width = this.width\n                    image.rows = image.height = this.height\n                    image.sizeInBytes = image.width * image.height * 4\n                    x1.setAttribute(\"width\", image.width);\n                    x1.setAttribute(\"height\", image.height);\n                    ctx = x1.getContext(\"2d\");\n                    ctx.drawImage(this, 0, 0)\n                    let imageData = ctx.getImageData(0, 0, image.width, image.height).data\n                    pixelData = imageData // new Uint16Array(this.width * this.height*4);\n                    //console.log(image)\n                    resolve(image);\n                }\n                image.onerror = function() {\n                    that.event._dispatch('ctcornerstone.imgloadError', {\n                        src: imgase.src\n                    })\n                }\n                imageData1 = null\n            }),\n            cancelFn: undefined\n        }\n    }\n    cornerstone.registerImageLoader('pixImage', pixImage);\n\n    function pixImage(imageId) {\n        const width = 512;\n        const height = 512;\n        const numPixels = 100;\n        let pixelData //= new Uint16Array(numPixels);\n        let index = 0;\n        let canvas\n        let aaaimg\n\n        function getPixelData() {\n            console.log(pixelData, 'pixelDatapixelDatapixelDatapixelData')\n            return pixelData;\n        }\n\n        function getCanvas() {\n            return canvas;\n        }\n\n        function getImage() {\n            return aaaimg;\n        }\n\n        function setPixelData() {\n            return aaaimg;\n        }\n        let image = {\n            imageId: imageId,\n            minPixelValue: 0,\n            maxPixelValue: 255,\n            slope: 1.0,\n            intercept: 0,\n            windowCenter: 128,\n            windowWidth: 256,\n            render: cornerstone.renderWebImage,\n            getPixelData: getPixelData,\n            setPixelData: setPixelData,\n            getCanvas: getCanvas,\n            getImage: getImage,\n            rows: height,\n            columns: width,\n            height: height,\n            width: width,\n            Wretched: false, //以此判定图片是否跟原始尺寸有区别\n            rate: 1,\n            color: true,\n            rgba: false,\n            columnPixelSpacing: 1.0,\n            rowPixelSpacing: 1.0,\n            invert: false,\n            sizeInBytes: width * height * 4\n        };\n        return {\n            promise: new Promise(function(resolve, reject) {\n                let x1 = document.createElement(\"CANVAS\");\n                canvas = x1\n                let ctx = x1.getContext(\"2d\");\n                let numw = imageId.replace('pixImage:', '').match(/\\d{1,}/g)[0] * 1\n                let type = imageId.replace('pixImage:', '').match(/[a-z]{1,}/g)[0]\n                let imageData1\n                let minW = window.targetInfo.wc * 1 - 1 * window.targetInfo.ww / 2\n                let maxW = window.targetInfo.wc * 1 + 1 * window.targetInfo.ww / 2\n                minW = window.targetInfo.min < minW ? minW : window.targetInfo.min\n                maxW = window.targetInfo.max > maxW ? maxW : window.targetInfo.max\n                let ratey = window.depth / window.targetInfo.rowPixelSpacing\n                let ratex = window.depth / window.targetInfo.columnPixelSpacing\n                ratex = ratex < 1 ? 1 : ratex\n                ratey = ratey < 1 ? 1 : ratey\n                //image.rowPixelSpacing = window.targetInfo.rowPixelSpacing\n                //image.columnPixelSpacing = window.targetInfo.columnPixelSpacing\n                console.log(ratey, ratex)\n                switch (type) {\n                    case \"x\":\n                        image.columns = image.width = window.imageList[0].length\n                        image.rows = image.height = Math.round(window.imageList.length * ratex)\n                        x1.setAttribute(\"width\", image.width);\n                        x1.setAttribute(\"height\", image.height);\n                        console.log(image.height, image.width)\n                        imageData1 = ctx.getImageData(0, 0, image.width, image.height)\n                        for (let i = 0; i < image.height; i++) {\n                            for (let j = 0; j < image.width; j++) {\n                                let orginI = Math.floor(i / ratex)\n                                let num = i * image.width + j\n                                let dataNum = window.imageList[orginI][j][numw] < minW ? minW : window.imageList[orginI][j][numw]\n                                dataNum = dataNum > maxW ? maxW : dataNum\n                                dataNum = Math.floor(255 * (dataNum - minW) / (maxW - minW))\n                                imageData1.data[num * 4 + 2] = imageData1.data[num * 4 + 1] = imageData1.data[num * 4] = dataNum\n                                imageData1.data[num * 4 + 3] = 255\n                            }\n                        }\n                        break\n                    case \"y\":\n                        image.columns = image.width = window.imageList[0][0].length\n                        image.rows = image.height = Math.round(window.imageList.length * ratey)\n                        x1.setAttribute(\"width\", image.width);\n                        x1.setAttribute(\"height\", image.height);\n                        imageData1 = ctx.getImageData(0, 0, image.width, image.height)\n                        for (let i = 0; i < image.height; i++) {\n                            for (let j = 0; j < image.width; j++) {\n                                let orginI = Math.floor(i / ratey)\n                                let num = i * image.width + j\n                                let dataNum = window.imageList[orginI][numw][j] < minW ? minW : window.imageList[orginI][numw][j]\n                                dataNum = dataNum > maxW ? maxW : dataNum\n                                dataNum = Math.floor(255 * (dataNum - minW) / (maxW - minW))\n                                imageData1.data[num * 4 + 2] = imageData1.data[num * 4 + 1] = imageData1.data[num * 4] = dataNum\n                                imageData1.data[num * 4 + 3] = 255\n                            }\n                        }\n\n                        break\n                    case \"z\":\n                        image.columns = image.width = window.imageList[0][0].length\n                        image.rows = image.height = window.imageList[0].length\n                        x1.setAttribute(\"width\", image.width);\n                        x1.setAttribute(\"height\", image.height);\n                        imageData1 = ctx.getImageData(0, 0, image.width, image.height)\n                        for (let i = 0; i < image.height; i++) {\n                            for (let j = 0; j < image.width; j++) {\n                                let num = i * image.width + j\n                                let dataNum = window.imageList[numw][i][j] < minW ? minW : window.imageList[numw][i][j]\n                                dataNum = dataNum > maxW ? maxW : dataNum\n                                dataNum = Math.floor(255 * (dataNum - minW) / (maxW - minW))\n                                imageData1.data[num * 4 + 2] = imageData1.data[num * 4 + 1] = imageData1.data[num * 4] = dataNum\n                                imageData1.data[num * 4 + 3] = 255\n                            }\n                        }\n                        //pixelData = imageData\n                        //aaaimg = x1.toDataURL('image/jpeg');\n                        break\n                }\n                ctx.putImageData(imageData1, 0, 0)\n                let imgase = new Image()\n                imgase.src = x1.toDataURL('image/jpeg');\n                imgase.crossOrigin = 'anonymous';\n                imgase.onload = function() {\n                    aaaimg = this\n                    image.columns = image.width = this.width\n                    image.rows = image.height = this.height\n                    image.sizeInBytes = image.width * image.height * 4\n                    x1.setAttribute(\"width\", image.width);\n                    x1.setAttribute(\"height\", image.height);\n                    ctx = x1.getContext(\"2d\");\n                    ctx.drawImage(this, 0, 0)\n                    let imageData = ctx.getImageData(0, 0, image.width, image.height).data\n                    console.log(pixelData)\n                    pixelData = imageData // new Uint16Array(this.width * this.height*4);\n                    console.log(image)\n                    resolve(image);\n                }\n                image.onerror = function() {\n                    that.event._dispatch('ctcornerstone.imgloadError', {\n                        src: imgase.src\n                    })\n                }\n                imageData1 = null\n            }),\n            cancelFn: undefined\n        }\n    }\n\n\n}\nctcornerstoneload()\n//原型链一定要有的\n//module.exports = new ctcornerstoneload();\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/ctcornerstoneload.js","//这边基本上引入需要使用的资源less，api，需要使用的模块等等。\n//存放在里面用的一些静态信息。这些都是由接口获取的，然后由页面直接传入\n/*\nnidusComponentInfo 保存所有组件信息。组件信息分为两块，一块是整体序列的信息，key值为all\n另外一块是病症的组件信息。分别以病症的命名来保存的\n\nnidusComponentData 保存每个被标注出来的病症的组件数据是什么\n\nnidusChoose 选择了的病灶信息\n*/\n\nclass ctmanage extends Interstellar.modelBase {\n    constructor(app) {\n        super(app)\n        this.nidusComponentInfo = {}\n        this.nidusComponentData = {}\n        this.nidusChoose = null\n        this.seriesInfo = {}\n        this.controlStauts = {\n            delete: true\n        }\n        this.allresult = null\n    }\n    getDicomValue(detail) {\n        let point = detail.currentPoints.image\n        let width = detail.image.width\n        let height = detail.image.height\n        let allData = detail.image.getPixelData()\n        let pos = width * Math.round(point.y) + Math.round(point.x)\n        if (allData.length != width * height) {\n            pos = 4 * pos\n        }\n        return {\n            point: point,\n            allcolor: [allData[pos], allData[pos + 1], allData[pos + 2], allData[pos + 3]],\n            hu: allData[pos]\n        }\n    }\n\n    //返回布局，各自所占的大小和比例\n    getLayout(value) {\n        switch (value) {\n            case 1:\n                return {\n                    w: 1,\n                    h: 1,\n                    t: 0\n                }\n                break\n            case 2:\n                return {\n                    w: 0.5,\n                    h: 1,\n                    t: 0\n                }\n                break\n            case 3:\n                return {\n                    w: 1 / 3,\n                    h: 1,\n                    t: 0\n                }\n                break\n            case 4:\n                return {\n                    w: 0.5,\n                    h: 0.5,\n                    t: 1\n                }\n                break\n            case 6:\n                return {\n                    w: 1 / 3,\n                    h: 0.5,\n                    t: 1\n                }\n                break\n            case 8:\n                return {\n                    w: 0.25,\n                    h: 0.5,\n                    t: 1\n                }\n                break\n        }\n    }\n    returnBodyName(value) {\n        switch (value) {\n            case 1:\n                return '前上缘'\n                break\n            case 2:\n                return '前下缘'\n                break\n            case 3:\n                return '后上缘'\n                break\n            case 4:\n                return '后下缘'\n                break\n        }\n    }\n\n    //chooseHU为一开始选择的像素值，config为设置的参数，value为点位信息\n    findHU(value, config, chooseHU) {\n        let data = []\n\n        for (var i = 0; i < config.distance; i++) {\n            data.push(this.returnscore('r', value, i, config, chooseHU))\n            data.push(this.returnscore('l', value, i, config, chooseHU))\n            data.push(this.returnscore('u', value, i, config, chooseHU))\n            data.push(this.returnscore('v', value, i, config, chooseHU))\n        }\n        let dataf = data.filter((item) => {\n            return item\n        })\n        dataf = dataf.sort(function(a, b) {\n            return a.d - b.d\n        })\n        return dataf[0]\n            //console.log(dataf)\n        for (var i = 0; i < config.distance; i++) {\n            let da = this.returnscore('r', value, i, config, chooseHU)\n            if (da) {\n                return da\n            }\n            da = this.returnscore('l', value, i, config, chooseHU)\n            if (da) {\n                return da\n            }\n            da = this.returnscore('u', value, i, config, chooseHU)\n            if (da) {\n                return da\n            }\n            da = this.returnscore('b', value, i, config, chooseHU)\n            if (da) {\n                return da\n            }\n            /*let da = this.returnscore('l', value, i, config, chooseHU) || this.returnscore('r', value, i, config, chooseHU) || this.returnscore('u', value, i, config, chooseHU) || this.returnscore('b', value, i, config, chooseHU)\n            if (da) {\n                return da\n            }*/\n        }\n    }\n    returnscore(type, value, num, config, chooseHU) {\n        let point = {}\n        switch (type) {\n            case 'l':\n                point = {\n                    x: value.currentPoints.image.x - num,\n                    y: value.currentPoints.image.y\n                }\n                break\n            case 'r':\n                point = {\n                    x: value.currentPoints.image.x + num,\n                    y: value.currentPoints.image.y\n                }\n                break\n            case 'u':\n                point = {\n                    x: value.currentPoints.image.x,\n                    y: value.currentPoints.image.y - num\n                }\n                break\n            case 'b':\n                point = {\n                    x: value.currentPoints.image.x,\n                    y: value.currentPoints.image.y + num\n                }\n                break\n        }\n        let data = {\n            currentPoints: {\n                image: point\n            },\n            image: {\n                width: value.image.width,\n                getPixelData: value.image.getPixelData\n            }\n        }\n        let hu = this.getDicomValue(data)\n        let deviation = config.deviation\n        let len = 0\n            //利用加权平均数进行彩色跟灰度的换算 0.3,0.59,0.11\n        let chooseC = 0.3 * chooseHU.allcolor[0] + 0.59 * chooseHU.allcolor[1] + 0.11 * chooseHU.allcolor[2]\n        let hudata = 0.3 * hu.allcolor[0] + 0.59 * hu.allcolor[1] + 0.11 * hu.allcolor[2]\n        if (Math.abs(hudata - chooseC) <= deviation) {\n            len = Math.abs(hudata - chooseC)\n        } else {\n            return null\n        }\n        hu.point.d = len\n        return hu.point\n\n        /*for (let i = 0; i < 3; i++) {\n            if (hu.allcolor[i] < chooseHU.allcolor[i] + deviation && hu.allcolor[i] > chooseHU.allcolor[i] - deviation) {\n                len += Math.abs(chooseHU.allcolor[i] - hu.allcolor[i])\n            } else {\n                return null\n            }\n        }\n        if (hu.hu < this.chooseHU.hu + this.cornerstoneTools_config.polygon_config.deviation && hu.hu > this.chooseHU.hu - this.cornerstoneTools_config.polygon_config.deviation) {\n                return hu.point\n            }\n            return null*/\n    }\n\n    //--------------返回点位置--------------\n    returnRealPoint(point, id, screen, wh) {\n        let layout = this.getLayout(screen)\n        let top = (layout.t == 0 ? 0 : ((id >= screen / 2) ? wh.h : 0))\n        let left = (layout.t == 0 ? id * wh.w : ((id >= screen / 2) ? (id - screen / 2) * wh.w : id * wh.w))\n        return {\n            x: point.x - left,\n            y: point.y - top\n        }\n    }\n    returnScreenPoint(point, id, screen, wh) {\n        let layout = this.getLayout(screen)\n        let top = (layout.t == 0 ? 0 : ((id >= screen / 2) ? wh.h : 0))\n        let left = (layout.t == 0 ? id * wh.w : ((id >= screen / 2) ? (id - screen / 2) * wh.w : id * wh.w))\n        return {\n            x: point.x + left,\n            y: point.y + top\n        }\n    }\n\n    //--------------行列法2------------------\n    compareColors(p, val, deviation) {\n        let hu = p.color\n        let rmean = (hu[0] + val[0]) / 2\n        let R = hu[0] - val[0]\n        let G = hu[1] - val[1]\n        let B = hu[2] - val[2]\n        let data = (2 + rmean / 256) * (R * R) + 4 * (G * G) + (2 + (255 - rmean) / 256) * (B * B)\n        return Math.pow(data, 0.5) < deviation ? true : false\n            //console.log(hu,val,deviation,'deviationdeviationdeviationdeviation')\n        if (Math.abs(hu[0] - val[0]) > deviation) {\n            return false\n        }\n        if (Math.abs(hu[1] - val[1]) > deviation) {\n            return false\n        }\n        if (Math.abs(hu[2] - val[2]) > deviation) {\n            return false\n        }\n        return true\n    }\n    returnPoint(image, x, y, width) {\n        let i = y * width + x\n        return {\n            x: x,\n            y: y,\n            i: i,\n            color: [image[4 * i], image[4 * i + 1], image[4 * i + 2], image[4 * i + 3]]\n        }\n    }\n    floodFill_newRGB32(image, config) {\n        //qDebug() << image.format();\n        console.log(new Date().getTime())\n        let x = Math.floor(image.currentPoints.image.x)\n        let y = Math.floor(image.currentPoints.image.y)\n        let width = image.image.width\n        let height = image.image.height\n        let deviation = config.deviation\n            //console.log(x, y)\n        if (x < 0 || x >= width || y < 0 || y >= height) {\n            return [];\n        }\n        let num = 0\n        let color = this.getDicomValue(image).allcolor\n        let stack = []\n        let points = []\n        points[width * height] = undefined\n        let imageData = {\n            pixelData: image.image.getPixelData(),\n            width: image.image.width,\n            height: image.image.height\n        }\n        stack.push(this.returnPoint(imageData.pixelData, x, y, width))\n        let p = stack.pop()\n        do {\n            if (!points[p.i]) {\n                if (this.compareColors(p, color, config.deviation)) {\n                    num++\n                    points[p.i] = {\n                        x: p.x,\n                        y: p.y\n                    }\n                    if (p.x > 0) // west\n                        stack.push(this.returnPoint(imageData.pixelData, p.x - 1, p.y, width));\n                    if (p.x < width - 1) // east\n                        stack.push(this.returnPoint(imageData.pixelData, p.x + 1, p.y, width));\n                    if (p.y > 0) // north\n                        stack.push(this.returnPoint(imageData.pixelData, p.x, p.y - 1, width));\n                    if (p.y < height - 1)\n                        stack.push(this.returnPoint(imageData.pixelData, p.x, p.y + 1, width));\n                }\n\n            }\n        } while ((p = stack.pop()))\n        points = points.filter((item) => {\n            return item\n        })\n        console.log(new Date().getTime())\n        return points;\n    }\n    getroundpoint(value, r) {\n        let arr = []\n        let sx = Math.round(value.x - r)\n        let sy = Math.round(value.y - r)\n        let d = 2 * r\n        let rand = d * d\n        for (let i = 0; i < rand; i++) {\n            let x = sx + Math.floor(i % d)\n            let y = sy + Math.floor(i / d)\n            if ((x - value.x) * (x - value.x) + (y - value.y) * (y - value.y) <= r * r) {\n                arr.push({\n                    x: x,\n                    y: y\n                })\n            }\n        }\n        return arr\n    }\n    makeCiclePoint(value, radiu) {\n        let arr = []\n        let r = radiu.deviation / 2\n        let px = value.currentPoints.image.x\n        let py = value.currentPoints.image.y\n        let sx = Math.round(px - r)\n        let sy = Math.round(py - r)\n        let d = 2 * r\n        let rand = d * d\n        for (let i = 0; i < rand; i++) {\n            let x = sx + Math.floor(i % d)\n            let y = sy + Math.floor(i / d)\n            if ((x - px) * (x - px) + (y - py) * (y - py) <= r * r) {\n                arr.push({\n                    x: x,\n                    y: y\n                })\n            }\n        }\n        return arr\n    }\n}\nmodule.exports = ctmanage;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/ctcornerstone_model.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./crossline.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./crossline.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./crossline.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/crossline/crossline.less\n// module id = 663\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".crossline {\\n  position: relative;\\n  width: 100%;\\n  background: transparent;\\n  -webkit-touch-callout: none;\\n  /* iOS Safari */\\n  -webkit-user-select: none;\\n  /* Chrome/Safari/Opera */\\n  -khtml-user-select: none;\\n  /* Konqueror */\\n  -moz-user-select: none;\\n  /* Firefox */\\n  -ms-user-select: none;\\n  /* Internet Explorer/Edge */\\n  user-select: none;\\n}\\n.crossline .xline {\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 3px;\\n  background: #f00;\\n  position: absolute;\\n  transition-duration: 0s;\\n  -moz-transition-duration: 0s;\\n  /* Firefox 4 */\\n  -webkit-transition-duration: 0s;\\n  /* Safari 和 Chrome */\\n  -o-transition-duration: 0s;\\n  /* Opera */\\n}\\n.crossline .yline {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 3px;\\n  background: #f00;\\n  transition-duration: 0s;\\n  -moz-transition-duration: 0s;\\n  /* Firefox 4 */\\n  -webkit-transition-duration: 0s;\\n  /* Safari 和 Chrome */\\n  -o-transition-duration: 0s;\\n  /* Opera */\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/crossline/crossline.less\n// module id = 664\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=crossline> <div class=xline> </div> <div class=yline> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/crossline/tpl.html\n// module id = 665\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","class rectangleRoi {\n    constructor() {\n        const external = cornerstoneTools.external\n        const mouseButtonTool = cornerstoneTools.mouseButtonTool\n\n        const toolStyle = cornerstoneTools.toolStyle\n        const toolColors = cornerstoneTools.toolColors\n        const drawHandles = cornerstoneTools.drawHandles\n\n        const calculateSUV = cornerstoneTools.calculateSUV\n\n        const drawTextBox = cornerstoneTools.drawTextBox\n        const getToolState = cornerstoneTools.getToolState\n        const drawRect = cornerstoneTools.drawing.drawRect\n        const getNewContext = cornerstoneTools.drawing.getNewContext\n        const draw = cornerstoneTools.drawing.draw\n        const setShadow = cornerstoneTools.drawing.setShadow\n\n        const keyboardTool = cornerstoneTools.keyboardTool\n\n        const toolType = 'rectangleRoi';\n\n        // /////// BEGIN ACTIVE TOOL ///////\n        function createNewMeasurement(mouseEventData) {\n            // Create the measurement data for this tool with the end handle activated\n            const measurementData = {\n                visible: true,\n                active: true,\n                invalidated: true,\n                color: undefined,\n                areaDisplayFlag: false,\n                nameDisplayFlag: false,\n                uuid:mouseEventData.uuid?mouseEventData.uuid:null,\n                handles: {\n                    start: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    end: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: true\n                    },\n                    textBox: {\n                        active: false,\n                        hasMoved: false,\n                        movesIndependently: false,\n                        drawnIndependently: true,\n                        allowedOutsideImage: true,\n                        hasBoundingBox: true\n                    }\n                }\n            };\n            const config = rectangleRoiend.getConfiguration();\n            if (config) {\n                {\n                    if (config.nameDisplayFlag != undefined && config.nameDisplayFlag != null) {\n                        measurementData.nameDisplayFlag = config.nameDisplayFlag;\n                    }\n                    if (config.areaDisplayFlag != undefined && config.areaDisplayFlag) {\n                        measurementData.areaDisplayFlag = config.areaDisplayFlag;\n                    }\n                }\n            }\n            return measurementData;\n        }\n        // /////// END ACTIVE TOOL ///////\n\n        function pointNearTool(element, data, coords) {\n            if (data.visible === false) {\n                return false;\n            }\n\n            const cornerstone = external.cornerstone;\n            const startCanvas = cornerstone.pixelToCanvas(element, data.handles.start);\n            const endCanvas = cornerstone.pixelToCanvas(element, data.handles.end);\n\n            const rect = {\n                left: Math.min(startCanvas.x, endCanvas.x),\n                top: Math.min(startCanvas.y, endCanvas.y),\n                width: Math.abs(startCanvas.x - endCanvas.x),\n                height: Math.abs(startCanvas.y - endCanvas.y)\n            };\n\n            const distanceToPoint = external.cornerstoneMath.rect.distanceToPoint(rect, coords);\n\n\n            return (distanceToPoint < 5);\n        }\n\n        // /////// BEGIN IMAGE RENDERING ///////\n\n        function calculateMeanStdDev(sp, ellipse) {\n            // TODO: Get a real statistics library here that supports large counts\n\n            let sum = 0;\n            let sumSquared = 0;\n            let count = 0;\n            let index = 0;\n\n            for (let y = ellipse.top; y < ellipse.top + ellipse.height; y++) {\n                for (let x = ellipse.left; x < ellipse.left + ellipse.width; x++) {\n                    sum += sp[index];\n                    sumSquared += sp[index] * sp[index];\n                    count++;\n                    index++;\n                }\n            }\n\n            if (count === 0) {\n                return {\n                    count,\n                    mean: 0.0,\n                    variance: 0.0,\n                    stdDev: 0.0\n                };\n            }\n\n            const mean = sum / count;\n            const variance = sumSquared / count - mean * mean;\n\n            return {\n                count,\n                mean,\n                variance,\n                stdDev: Math.sqrt(variance)\n            };\n        }\n\n        function numberWithCommas(x) {\n            // http://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n            const parts = x.toString().split('.');\n\n            parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n            return parts.join('.');\n        }\n\n        function onImageRendered(e) {\n            const eventData = e.detail;\n\n            // If we have no toolData for this element, return immediately as there is nothing to do\n            const toolData = getToolState(e.currentTarget, toolType);\n\n            if (!toolData) {\n                return;\n            }\n\n            const cornerstone = external.cornerstone;\n            const image = eventData.image;\n            const element = eventData.element;\n            const lineWidth = toolStyle.getToolWidth();\n            const config = rectangleRoiend.getConfiguration();\n            const seriesModule = cornerstone.metaData.get('generalSeriesModule', image.imageId);\n            const imagePlane = cornerstone.metaData.get('imagePlaneModule', image.imageId);\n            let modality;\n            let rowPixelSpacing;\n            let colPixelSpacing;\n\n            if (imagePlane) {\n                rowPixelSpacing = imagePlane.rowPixelSpacing || imagePlane.rowImagePixelSpacing;\n                colPixelSpacing = imagePlane.columnPixelSpacing || imagePlane.colImagePixelSpacing;\n            } else {\n                rowPixelSpacing = image.rowPixelSpacing;\n                colPixelSpacing = image.columnPixelSpacing;\n            }\n\n            if (seriesModule) {\n                modality = seriesModule.modality;\n            }\n\n            const context = getNewContext(eventData.canvasContext.canvas);\n            context.lineWidth = 1\n            // If we have tool data for this element - iterate over each set and draw it\n            for (let i = 0; i < toolData.data.length; i++) {\n                const data = toolData.data[i];\n\n                if (data.visible === false) {\n                    continue;\n                }\n\n                draw(context, (context) => {\n                    // Apply any shadow settings defined in the tool configuration\n                    setShadow(context, config);\n\n                    // Check which color the rendered tool should be\n                    const color = toolColors.getColorIfActive(data);\n\n                    // Draw the rectangle on the canvas\n                    drawRect(context, element, data.handles.start, data.handles.end, { color });\n\n                    // If the tool configuration specifies to only draw the handles on hover / active,\n                    // Follow this logic\n                    if (config && config.drawHandlesOnHover) {\n                        // Draw the handles if the tool is active\n                        if (data.active === true) {\n                            drawHandles(context, eventData, data.handles, color);\n                        } else {\n                            // If the tool is inactive, draw the handles only if each specific handle is being\n                            // Hovered over\n                            const handleOptions = {\n                                drawHandlesIfActive: true\n                            };\n\n                            drawHandles(context, eventData, data.handles, color, handleOptions);\n                        }\n                    } else {\n                        // If the tool has no configuration settings, always draw the handles\n                        drawHandles(context, eventData, data.handles, color);\n                    }\n\n                    // Define variables for the area and mean/standard deviation\n                    let area,\n                        meanStdDev,\n                        meanStdDevSUV;\n\n                    // Perform a check to see if the tool has been invalidated. This is to prevent\n                    // Unnecessary re-calculation of the area, mean, and standard deviation if the\n                    // Image is re-rendered but the tool has not moved (e.g. during a zoom)\n                    if (data.invalidated === false) {\n                        // If the data is not invalidated, retrieve it from the toolData\n                        meanStdDev = data.meanStdDev;\n                        meanStdDevSUV = data.meanStdDevSUV;\n                        area = data.area;\n                    } else {\n                        // If the data has been invalidated, we need to calculate it again\n\n                        // Retrieve the bounds of the ellipse in image coordinates\n                        const ellipse = {\n                            left: Math.min(data.handles.start.x, data.handles.end.x),\n                            top: Math.min(data.handles.start.y, data.handles.end.y),\n                            width: Math.abs(data.handles.start.x - data.handles.end.x),\n                            height: Math.abs(data.handles.start.y - data.handles.end.y)\n                        };\n\n                        // First, make sure this is not a color image, since no mean / standard\n                        // Deviation will be calculated for color images.\n                        if (!image.color) {\n                            // Retrieve the array of pixels that the ellipse bounds cover\n                            const pixels = cornerstone.getPixels(element, ellipse.left, ellipse.top, ellipse.width, ellipse.height);\n\n                            // Calculate the mean & standard deviation from the pixels and the ellipse details\n                            meanStdDev = calculateMeanStdDev(pixels, ellipse);\n\n                            if (modality === 'PT') {\n                                // If the image is from a PET scan, use the DICOM tags to\n                                // Calculate the SUV from the mean and standard deviation.\n\n                                // Note that because we are using modality pixel values from getPixels, and\n                                // The calculateSUV routine also rescales to modality pixel values, we are first\n                                // Returning the values to storedPixel values before calcuating SUV with them.\n                                // TODO: Clean this up? Should we add an option to not scale in calculateSUV?\n                                meanStdDevSUV = {\n                                    mean: calculateSUV(image, (meanStdDev.mean - image.intercept) / image.slope),\n                                    stdDev: calculateSUV(image, (meanStdDev.stdDev - image.intercept) / image.slope)\n                                };\n                            }\n\n                            // If the mean and standard deviation values are sane, store them for later retrieval\n                            if (meanStdDev && !isNaN(meanStdDev.mean)) {\n                                data.meanStdDev = meanStdDev;\n                                data.meanStdDevSUV = meanStdDevSUV;\n                            }\n                        }\n\n                        // Calculate the image area from the ellipse dimensions and pixel spacing\n                        area = (ellipse.width * (colPixelSpacing || 1)) * (ellipse.height * (rowPixelSpacing || 1));\n\n                        // If the area value is sane, store it for later retrieval\n                        if (!isNaN(area)) {\n                            data.area = area;\n                        }\n\n                        // Set the invalidated flag to false so that this data won't automatically be recalculated\n                        data.invalidated = false;\n                    }\n                    if (data && data.nameDisplayFlag) {\n                        const text = textBoxText(data);\n\n                        // If the textbox has not been moved by the user, it should be displayed on the right-most\n                        // Side of the tool.\n                        if (!data.handles.textBox.hasMoved) {\n                            // Find the rightmost side of the ellipse at its vertical center, and place the textbox here\n                            // Note that this calculates it in image coordinates\n                            data.handles.textBox.x = Math.max(data.handles.start.x, data.handles.end.x);\n                            data.handles.textBox.y = (data.handles.start.y + data.handles.end.y) / 2;\n                        }\n                        const textCoords = cornerstone.pixelToCanvas(element, data.handles.textBox);\n                        const options = {\n                            centering: {\n                                x: false,\n                                y: true\n                            }\n                        };\n                        drawTextBox(context, text, textCoords.x, textCoords.y, color, options);\n                    }\n\n                    /*drawLinkedTextBox(context, element, data.handles.textBox, text,\n                        data.handles, textBoxAnchorPoints, color, lineWidth, 0, true);*/\n                });\n            }\n\n            function textBoxText(data) {\n                const { meanStdDev, meanStdDevSUV, area } = data;\n                // Define an array to store the rows of text for the textbox\n                const textLines = [];\n\n                // If the mean and standard deviation values are present, display them\n                if (meanStdDev && meanStdDev.mean) {\n                    // If the modality is CT, add HU to denote Hounsfield Units\n                    let moSuffix = '';\n\n                    if (modality === 'CT') {\n                        moSuffix = ' HU';\n                    }\n\n                    // Create a line of text to display the mean and any units that were specified (i.e. HU)\n                    let meanText = `Mean: ${numberWithCommas(meanStdDev.mean.toFixed(2))}${moSuffix}`;\n                    // Create a line of text to display the standard deviation and any units that were specified (i.e. HU)\n                    let stdDevText = `StdDev: ${numberWithCommas(meanStdDev.stdDev.toFixed(2))}${moSuffix}`;\n\n                    // If this image has SUV values to display, concatenate them to the text line\n                    if (meanStdDevSUV && meanStdDevSUV.mean !== undefined) {\n                        const SUVtext = ' SUV: ';\n\n                        meanText += SUVtext + numberWithCommas(meanStdDevSUV.mean.toFixed(2));\n                        stdDevText += SUVtext + numberWithCommas(meanStdDevSUV.stdDev.toFixed(2));\n                    }\n\n                    // Add these text lines to the array to be displayed in the textbox\n                    textLines.push(meanText);\n                    textLines.push(stdDevText);\n                }\n\n                // If the area is a sane value, display it\n                if (area) {\n                    // Determine the area suffix based on the pixel spacing in the image.\n                    // If pixel spacing is present, use millimeters. Otherwise, use pixels.\n                    // This uses Char code 178 for a superscript 2\n                    let suffix = ` mm${String.fromCharCode(178)}`;\n\n                    if (!rowPixelSpacing || !colPixelSpacing) {\n                        suffix = ` pixels${String.fromCharCode(178)}`;\n                    }\n\n                    // Create a line of text to display the area and its units\n                    const areaText = `Area: ${numberWithCommas(area.toFixed(2))}${suffix}`;\n\n                    // Add this text line to the array to be displayed in the textbox\n                    textLines.push(areaText);\n                }\n\n                return textLines;\n            }\n\n            function textBoxAnchorPoints(handles) {\n                // Retrieve the bounds of the ellipse (left, top, width, and height)\n                const left = Math.min(handles.start.x, handles.end.x);\n                const top = Math.min(handles.start.y, handles.end.y);\n                const width = Math.abs(handles.start.x - handles.end.x);\n                const height = Math.abs(handles.start.y - handles.end.y);\n\n                return [{\n                    // Top middle point of ellipse\n                    x: left + width / 2,\n                    y: top\n                }, {\n                    // Left middle point of ellipse\n                    x: left,\n                    y: top + height / 2\n                }, {\n                    // Bottom middle point of ellipse\n                    x: left + width / 2,\n                    y: top + height\n                }, {\n                    // Right middle point of ellipse\n                    x: left + width,\n                    y: top + height / 2\n                }];\n            }\n        }\n\n        function getMeasurement(data) {\n            return createNewMeasurement(data)\n        }\n        const rectangleRoiend = mouseButtonTool({\n            createNewMeasurement,\n            onImageRendered,\n            pointNearTool,\n            toolType\n        });\n        for (var i in cornerstoneTools.rectangleRoi) {\n            cornerstoneTools.rectangleRoi[i] = rectangleRoiend[i]\n        }\n        cornerstoneTools.rectangleRoi.getMeasurement = getMeasurement\n    }\n\n}\nnew rectangleRoi();\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/rectangleRoi.js","class length {\n    constructor() {\n        const external = cornerstoneTools.external\n        const mouseButtonTool = cornerstoneTools.mouseButtonTool\n\n        const toolStyle = cornerstoneTools.toolStyle\n        const toolColors = cornerstoneTools.toolColors\n        const drawHandles = cornerstoneTools.drawHandles\n\n\n        const drawTextBox = cornerstoneTools.drawTextBox\n        const getToolState = cornerstoneTools.getToolState\n        const drawLine = cornerstoneTools.drawing.drawLine\n        const setShadow = cornerstoneTools.drawing.setShadow\n        const getNewContext = cornerstoneTools.drawing.getNewContext\n        const draw = cornerstoneTools.drawing.draw\n        const toolType = 'length';\n\n        function lineSegDistance(element, start, end, coords) {\n            const lineSegment = {\n                start: cornerstone.pixelToCanvas(element, start),\n                end: cornerstone.pixelToCanvas(element, end)\n            };\n\n            return external.cornerstoneMath.lineSegment.distanceToPoint(lineSegment, coords);\n        }\n        // /////// BEGIN ACTIVE TOOL ///////\n        function createNewMeasurement(mouseEventData) {\n            // Create the measurement data for this tool with the end handle activated\n            const measurementData = {\n                visible: true,\n                active: true,\n                color: undefined,\n                uuid: mouseEventData.uuid ? mouseEventData.uuid : null,\n                handles: {\n                    start: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    end: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: true\n                    },\n                    textBox: {\n                        active: false,\n                        hasMoved: false,\n                        movesIndependently: false,\n                        drawnIndependently: true,\n                        allowedOutsideImage: true,\n                        hasBoundingBox: true\n                    }\n                }\n            };\n            const config = lengthend.getConfiguration();\n            if (config) {\n                {\n                    if (config.nameDisplayFlag != undefined && config.nameDisplayFlag != null) {\n                        measurementData.nameDisplayFlag = config.nameDisplayFlag;\n                    }\n                    if (config.areaDisplayFlag != undefined && config.areaDisplayFlag) {\n                        measurementData.areaDisplayFlag = config.areaDisplayFlag;\n                    }\n                }\n            }\n            return measurementData;\n        }\n        // /////// END ACTIVE TOOL ///////\n\n        function pointNearTool(element, data, coords) {\n            if (data.visible === false) {\n                return false;\n            }\n\n            return lineSegDistance(element, data.handles.start, data.handles.end, coords) < 25;\n        }\n\n        // /////// BEGIN IMAGE RENDERING ///////\n        function onImageRendered(e) {\n            const eventData = e.detail;\n\n            // If we have no toolData for this element, return immediately as there is nothing to do\n            const toolData = getToolState(e.currentTarget, toolType);\n\n            if (!toolData) {\n                return;\n            }\n\n            const cornerstone = external.cornerstone;\n            // We have tool data for this element - iterate over each one and draw it\n            const context = getNewContext(eventData.canvasContext.canvas);\n            const { image, element } = eventData;\n\n            const lineWidth = toolStyle.getToolWidth();\n            const config = lengthend.getConfiguration();\n            const imagePlane = cornerstone.metaData.get('imagePlaneModule', image.imageId);\n            let rowPixelSpacing;\n            let colPixelSpacing;\n\n            if (imagePlane) {\n                rowPixelSpacing = imagePlane.rowPixelSpacing || imagePlane.rowImagePixelSpacing;\n                colPixelSpacing = imagePlane.columnPixelSpacing || imagePlane.colImagePixelSpacing;\n            } else {\n                rowPixelSpacing = image.rowPixelSpacing;\n                colPixelSpacing = image.columnPixelSpacing;\n            }\n\n            for (let i = 0; i < toolData.data.length; i++) {\n                const data = toolData.data[i];\n\n                if (data.visible === false) {\n                    continue;\n                }\n\n                draw(context, (context) => {\n                    // Configurable shadow\n                    setShadow(context, config);\n\n                    const color = toolColors.getColorIfActive(data);\n\n                    // Draw the measurement line\n                    drawLine(context, element, data.handles.start, data.handles.end, { color });\n\n                    // Draw the handles\n                    const handleOptions = {\n                        drawHandlesIfActive: (config && config.drawHandlesOnHover)\n                    };\n\n                    drawHandles(context, eventData, data.handles, color, handleOptions);\n\n                    // Set rowPixelSpacing and columnPixelSpacing to 1 if they are undefined (or zero)\n                    const dx = (data.handles.end.x - data.handles.start.x) * (colPixelSpacing || 1);\n                    const dy = (data.handles.end.y - data.handles.start.y) * (rowPixelSpacing || 1);\n\n                    // Calculate the length, and create the text variable with the millimeters or pixels suffix\n                    const length = Math.sqrt(dx * dx + dy * dy);\n\n                    // Store the length inside the tool for outside access\n                    data.length = length;\n\n                    if (!data.handles.textBox.hasMoved) {\n                        const coords = {\n                            x: Math.max(data.handles.start.x, data.handles.end.x)\n                        };\n\n                        // Depending on which handle has the largest x-value,\n                        // Set the y-value for the text box\n                        if (coords.x === data.handles.start.x) {\n                            coords.y = data.handles.start.y;\n                        } else {\n                            coords.y = data.handles.end.y;\n                        }\n\n                        data.handles.textBox.x = coords.x;\n                        data.handles.textBox.y = coords.y;\n                    }\n\n                    // Move the textbox slightly to the right and upwards\n                    // So that it sits beside the length tool handle\n                    const xOffset = 10;\n                    if (data && data.nameDisplayFlag) {\n                        const text = textBoxText(data, rowPixelSpacing, colPixelSpacing);\n                        const textCoords = cornerstone.pixelToCanvas(element, data.handles.textBox);\n                        const options = {\n                            centering: {\n                                x: false,\n                                y: true\n                            }\n                        };\n                        drawTextBox(context, text, textCoords.x, textCoords.y, color, options);\n                    }\n\n                    /*drawLinkedTextBox(context, element, data.handles.textBox, text,\n                        data.handles, textBoxAnchorPoints, color, lineWidth, xOffset, true);*/\n                });\n            }\n\n            function textBoxText(data, rowPixelSpacing, colPixelSpacing) {\n                // Set the length text suffix depending on whether or not pixelSpacing is available\n                let suffix = ' mm';\n\n                if (!rowPixelSpacing || !colPixelSpacing) {\n                    suffix = ' pixels';\n                }\n\n                return `${data.length.toFixed(2)}${suffix}`;\n            }\n\n            function textBoxAnchorPoints(handles) {\n                const midpoint = {\n                    x: (handles.start.x + handles.end.x) / 2,\n                    y: (handles.start.y + handles.end.y) / 2\n                };\n\n                return [handles.start, midpoint, handles.end];\n            }\n        }\n\n        function getMeasurement(data) {\n            return createNewMeasurement(data)\n        }\n        const lengthend = mouseButtonTool({\n            createNewMeasurement,\n            onImageRendered,\n            pointNearTool,\n            toolType\n        });\n        for (var i in cornerstoneTools.length) {\n            cornerstoneTools.length[i] = lengthend[i]\n        }\n        cornerstoneTools.length.getMeasurement = getMeasurement\n    }\n}\nnew length();\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/length.js","class magnify {\n    constructor() {\n        const EVENTS = cornerstoneTools.EVENTS\n        const external = cornerstoneTools.external\n        const getBrowserInfo = cornerstoneTools.getBrowserInfo\n\n        const isMouseButtonEnabled = cornerstoneTools.isMouseButtonEnabled\n\n        const setToolOptions = cornerstoneTools.setToolOptions\n        const getToolOptions = cornerstoneTools.getToolOptions\n\n        const getNewContext = cornerstoneTools.drawing.getNewContext\n        const fillBox = cornerstoneTools.drawing.fillBox\n\n        function clip(val, low, high) {\n            return Math.min(Math.max(low, val), high);\n        }\n\n        function clipToBox(point, box) {\n            point.x = clip(point.x, 0, box.width);\n            point.y = clip(point.y, 0, box.height);\n        }\n\n\n        const toolType = 'magnify';\n\n        let configuration = {\n            magnifySize: 300,\n            magnificationLevel: 5\n        };\n\n        let browserName;\n        let currentPoints;\n        let zoomCanvas;\n        let zoomElement;\n\n        /** Remove the magnifying glass when the mouse event ends */\n        function mouseUpCallback(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n\n            element.removeEventListener(EVENTS.MOUSE_DRAG, dragCallback);\n            element.removeEventListener(EVENTS.MOUSE_UP, mouseUpCallback);\n            element.removeEventListener(EVENTS.MOUSE_CLICK, mouseUpCallback);\n            hideTool(eventData);\n        }\n\n        function hideTool(eventData) {\n            const element = eventData.element;\n\n            element.querySelector('.magnifyTool').style.display = 'none';\n            // Re-enable the mouse cursor\n            document.body.style.cursor = 'default';\n            removeZoomElement();\n        }\n\n        /** Draw the magnifying glass on mouseDown, and begin tracking mouse movements */\n        function mouseDownCallback(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n            const options = getToolOptions(toolType, element);\n\n            if (e.isTouchEvent || isMouseButtonEnabled(eventData.which, options.mouseButtonMask)) {\n                element.addEventListener(EVENTS.MOUSE_DRAG, dragCallback);\n                element.addEventListener(EVENTS.TOUCH_DRAG, dragCallback);\n                element.addEventListener(EVENTS.MOUSE_UP, mouseUpCallback);\n                element.addEventListener(EVENTS.TOUCH_END, mouseUpCallback);\n                element.addEventListener(EVENTS.MOUSE_CLICK, mouseUpCallback);\n\n                element.addEventListener(EVENTS.NEW_IMAGE, newImageCallback);\n\n                // Ignore until next event\n                drawZoomedElement(eventData);\n                // On next frame\n                window.requestAnimationFrame(() => drawMagnificationTool(eventData));\n\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }\n\n        function newImageCallback(e) {\n            const eventData = e.detail;\n\n            eventData.currentPoints = currentPoints;\n            drawMagnificationTool(eventData);\n        }\n\n        function dragEndCallback(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n\n            element.removeEventListener(EVENTS.TOUCH_DRAG_END, dragEndCallback);\n            element.removeEventListener(EVENTS.TOUCH_END, dragEndCallback);\n            element.removeEventListener(EVENTS.NEW_IMAGE, newImageCallback);\n            hideTool(eventData);\n        }\n\n        /** Drag callback is triggered by both the touch and mouse magnify tools */\n        function dragCallback(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n\n            drawMagnificationTool(eventData);\n            if (eventData.isTouchEvent === true) {\n                element.addEventListener(EVENTS.TOUCH_DRAG_END, dragEndCallback);\n                element.addEventListener(EVENTS.TOUCH_END, dragEndCallback);\n            }\n\n            e.preventDefault();\n            e.stopPropagation();\n        }\n\n        function drawMagnificationTool(eventData) {\n            const element = eventData.element;\n            const magnifyCanvas = element.querySelector('.magnifyTool');\n\n            if (!magnifyCanvas) {\n                createMagnificationCanvas(eventData.element);\n            }\n\n            if (zoomCanvas === undefined) {\n                return;\n            }\n\n            const config = magnifyend.getConfiguration();\n\n            const magnifySize = config.magnifySize;\n            const magnificationLevel = config.magnificationLevel;\n\n            // The 'not' magnifyTool class here is necessary because cornerstone places\n            // No classes of it's own on the canvas we want to select\n            const canvas = element.querySelector('canvas:not(.magnifyTool)');\n            const context = getNewContext(magnifyCanvas);\n\n            const getSize = magnifySize;\n\n            // Calculate the on-canvas location of the mouse pointer / touch\n            const canvasLocation = external.cornerstone.pixelToCanvas(eventData.element, eventData.currentPoints.image);\n\n            clipToBox(canvasLocation, canvas);\n\n            // Clear the rectangle\n            context.clearRect(0, 0, magnifySize, magnifySize);\n\n            // Fill it with the pixels that the mouse is clicking on\n            const boundingBox = {\n                left: 0,\n                top: 0,\n                width: magnifySize,\n                height: magnifySize\n            };\n\n            // Fill it with the pixels that the mouse is clicking on\n            fillBox(context, boundingBox, 'transparent');\n            const copyFrom = {\n                x: canvasLocation.x * magnificationLevel - 0.5 * getSize,\n                y: canvasLocation.y * magnificationLevel - 0.5 * getSize\n            };\n\n            if (browserName === 'Safari') {\n                // Safari breaks when trying to copy pixels with negative indices\n                // This prevents proper Magnify usage\n                copyFrom.x = Math.max(copyFrom.x, 0);\n                copyFrom.y = Math.max(copyFrom.y, 0);\n            }\n\n            copyFrom.x = Math.min(copyFrom.x, zoomCanvas.width);\n            copyFrom.y = Math.min(copyFrom.y, zoomCanvas.height);\n\n\n            context.drawImage(zoomCanvas, copyFrom.x, copyFrom.y, getSize, getSize, 0, 0, getSize, getSize);\n            //放大镜标准圆形出现\n            qiege(context, magnifySize)\n            // Place the magnification tool at the same location as the pointer\n            magnifyCanvas.style.top = `${canvasLocation.y - 0.5 * magnifySize}px`;\n            magnifyCanvas.style.left = `${canvasLocation.x - 0.5 * magnifySize}px`;\n\n            if (eventData.isTouchEvent) {\n                magnifyCanvas.style.top = `${canvasLocation.y - 0.5 * magnifySize - 120}px`;\n            }\n            magnifyCanvas.style.display = 'block';\n            //console.log('aaaaaawwwww')\n            // Hide the mouse cursor, so the user can see better\n            document.body.style.cursor = 'none';\n        }\n\n        function qiege(context, magnifySize) {\n            let radius = Math.floor(magnifySize / 2)\n            context.globalCompositeOperation = \"destination-atop\";\n            context.fillStyle = \"blue\"\n            context.arc(radius, radius, radius, 0, 2 * Math.PI, false);\n            context.fill()\n            context.save()\n            context.globalCompositeOperation = \"source-over\";\n            context.strokeStyle = \"#333\";\n            context.lineWidth = 1;\n            context.arc(radius, radius, radius, 0, 2 * Math.PI, false);\n            context.stroke()\n        }\n\n        /** Creates the magnifying glass canvas */\n        function createMagnificationCanvas(element) {\n            // If the magnifying glass canvas doesn't already exist\n            if (element.querySelector('.magnifyTool') === null) {\n                // Create a canvas and append it as a child to the element\n                const magnifyCanvas = document.createElement('canvas');\n\n                // The magnifyTool class is used to find the canvas later on\n                magnifyCanvas.classList.add('magnifyTool');\n\n                const config = magnifyend.getConfiguration();\n\n                magnifyCanvas.width = config.magnifySize;\n                magnifyCanvas.height = config.magnifySize;\n\n                // Make sure position is absolute so the canvas can follow the mouse / touch\n                magnifyCanvas.style.position = 'absolute';\n                magnifyCanvas.style.display = 'none';\n                element.appendChild(magnifyCanvas);\n            }\n        }\n\n        /** Find the magnifying glass canvas and remove it */\n        function removeMagnificationCanvas(element) {\n            const magnifyCanvas = element.querySelector('.magnifyTool');\n\n            if (magnifyCanvas) {\n                element.removeChild(magnifyCanvas);\n            }\n        }\n\n        function drawZoomedElement(eventData) {\n            removeZoomElement();\n            let enabledElement = eventData.enabledElement;\n\n            if (enabledElement === undefined) {\n                enabledElement = external.cornerstone.getEnabledElement(eventData.element);\n            }\n            const config = magnifyend.getConfiguration();\n\n            const magnificationLevel = config.magnificationLevel;\n            const origCanvas = enabledElement.canvas;\n            const image = enabledElement.image;\n\n            zoomElement = document.createElement('div');\n\n            zoomElement.width = origCanvas.width * magnificationLevel;\n            zoomElement.height = origCanvas.height * magnificationLevel;\n            external.cornerstone.enable(zoomElement);\n\n            const zoomEnabledElement = external.cornerstone.getEnabledElement(zoomElement);\n            const viewport = external.cornerstone.getViewport(enabledElement.element);\n\n            zoomCanvas = zoomEnabledElement.canvas;\n            zoomCanvas.width = origCanvas.width * magnificationLevel;\n            zoomCanvas.height = origCanvas.height * magnificationLevel;\n\n            zoomEnabledElement.viewport = Object.assign({}, viewport);\n\n            viewport.scale *= magnificationLevel;\n            external.cornerstone.displayImage(zoomElement, image);\n            external.cornerstone.setViewport(zoomElement, viewport);\n        }\n\n        function removeZoomElement() {\n            if (zoomElement !== undefined) {\n                external.cornerstone.disable(zoomElement);\n                zoomElement = undefined;\n                zoomCanvas = undefined;\n            }\n        }\n\n        // --- Mouse tool activate / disable --- //\n        function disable(element) {\n            element.removeEventListener(EVENTS.MOUSE_DOWN, mouseDownCallback);\n            removeMagnificationCanvas(element);\n        }\n\n        function enable(element) {\n            const config = magnifyend.getConfiguration(config);\n\n            if (!browserName) {\n                const infoString = getBrowserInfo();\n                const info = infoString.split(' ');\n\n                browserName = info[0];\n            }\n\n            createMagnificationCanvas(element);\n        }\n\n        function activate(element, mouseButtonMask) {\n            setToolOptions(toolType, element, { mouseButtonMask });\n\n            element.removeEventListener(EVENTS.MOUSE_DOWN, mouseDownCallback);\n\n            element.addEventListener(EVENTS.MOUSE_DOWN, mouseDownCallback);\n            createMagnificationCanvas(element);\n        }\n\n        // --- Touch tool activate / disable --- //\n        function getConfiguration() {\n            return configuration;\n        }\n\n        function setConfiguration(config) {\n            configuration = config;\n        }\n        const magnifyend = {\n            enable,\n            activate,\n            deactivate: disable,\n            disable,\n            getConfiguration,\n            setConfiguration\n        };\n\n        for (var i in cornerstoneTools.magnify) {\n            cornerstoneTools.magnify[i] = magnifyend[i]\n        }\n    }\n}\nnew magnify();\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/magnify.js","class newbrush {\n    constructor() {\n        const external = cornerstoneTools.external\n        const getToolState = cornerstoneTools.getToolState\n        const draw = cornerstoneTools.drawing.draw\n        const fillBox = cornerstoneTools.drawing.fillBox\n        const brushTool = require('./brushTool.js')\n\n\n\n        function getCircle(radius, rows, columns, xCoord = 0, yCoord = 0) {\n            const x0 = Math.round(xCoord);\n            const y0 = Math.round(yCoord);\n\n            if (radius === 1) {\n                return [\n                    [x0, y0]\n                ];\n            }\n\n            const circleArray = [];\n            let index = 0;\n\n            for (let y = -radius; y <= radius; y++) {\n                const yCoord = y0 + y;\n\n                if (yCoord > rows || yCoord < 0) {\n                    continue;\n                }\n\n                for (let x = -radius; x <= radius; x++) {\n                    const xCoord = x0 + x;\n\n                    if (xCoord > columns || xCoord < 0) {\n                        continue;\n                    }\n\n                    if (x * x + y * y < radius * radius) {\n                        circleArray[index++] = [x0 + x, y0 + y];\n                    }\n                }\n            }\n\n            return circleArray;\n        }\n\n        function drawBrushPixels(pointerArray, storedPixels, brushPixelValue, columns) {\n            const getPixelIndex = (x, y) => (y * columns) + x;\n\n            pointerArray.forEach((point) => {\n                const spIndex = getPixelIndex(point[0], point[1]);\n\n                storedPixels[spIndex] = brushPixelValue;\n            });\n        }\n\n        function drawBrushOnCanvas(pointerArray, context, color, element) {\n            const canvasPtTL = external.cornerstone.pixelToCanvas(element, {\n                x: 0,\n                y: 0\n            });\n            const canvasPtBR = external.cornerstone.pixelToCanvas(element, {\n                x: 1,\n                y: 1\n            });\n            const sizeX = canvasPtBR.x - canvasPtTL.x;\n            const sizeY = canvasPtBR.y - canvasPtTL.y;\n\n            draw(context, (context) => {\n                pointerArray.forEach((point) => {\n                    const canvasPt = external.cornerstone.pixelToCanvas(element, {\n                        x: point[0],\n                        y: point[1]\n                    });\n                    const boundingBox = {\n                        left: canvasPt.x,\n                        top: canvasPt.y,\n                        width: sizeX,\n                        height: sizeY\n                    };\n\n                    fillBox(context, boundingBox, color);\n                });\n            });\n        }\n\n\n        //const toolType = 'rectangleRoi';\n\n        // /////// BEGIN ACTIVE TOOL ///////\n        const TOOL_STATE_TOOL_TYPE = 'brush';\n        const toolType = 'brush';\n        const configuration = {\n            draw: 1,\n            radius: 5,\n            minRadius: 1,\n            maxRadius: 20,\n            hoverColor: 'rgba(230, 25, 75, 1.0)',\n            dragColor: 'rgba(230, 25, 75, 0.8)',\n            active: false\n        };\n\n        let lastImageCoords;\n        let dragging = false;\n\n        function autoplay(data) {\n            const eventData = data;\n\n            paint(eventData);\n            lastImageCoords = eventData.currentPoints.image\n            dragging = true\n        }\n\n        function paint(eventData) {\n            const configuration = brush.getConfiguration();\n            const element = eventData.element;\n            const layer = external.cornerstone.getLayer(element, configuration.brushLayerId);\n            const { rows, columns } = layer.image;\n            // console.log(layer.image,configuration.brushLayerId)\n            const { x, y } = eventData.currentPoints.image;\n            const toolData = getToolState(element, TOOL_STATE_TOOL_TYPE);\n            //console.log(eventData.currentPoints.image)\n            const pixelData = toolData.data[0].pixelData;\n            const brushPixelValue = configuration.draw;\n            const radius = configuration.radius;\n            if (x < 0 || x > columns ||\n                y < 0 || y > rows) {\n                return;\n            }\n            //console.log(radius)\n            const pointerArray = getCircle(radius, rows, columns, x, y);\n            //console.log(pointerArray)\n\n            drawBrushPixels(pointerArray, pixelData, brushPixelValue, columns);\n\n            layer.invalid = true;\n\n            external.cornerstone.updateImage(element);\n        }\n\n        function onMouseUp(e) {\n            const eventData = e.detail;\n\n            lastImageCoords = eventData.currentPoints.image;\n            dragging = false;\n        }\n\n        function onMouseDown(e) {\n            const eventData = e.detail;\n            //console.log(eventData,'eventDataeventData')\n            //paint(eventData);\n            dragging = true;\n            lastImageCoords = eventData.currentPoints.image;\n        }\n\n        function onMouseMove(e) {\n            const eventData = e.detail;\n\n            lastImageCoords = eventData.currentPoints.image;\n            external.cornerstone.updateImage(eventData.element);\n        }\n\n        function onDrag(e) {\n            const eventData = e.detail;\n            //paint(eventData);\n            dragging = true;\n            lastImageCoords = eventData.currentPoints.image;\n        }\n\n        function onImageRendered(e) {\n            const eventData = e.detail;\n\n            if (!lastImageCoords) {\n                return;\n            }\n\n            const { rows, columns } = eventData.image;\n            const { x, y } = lastImageCoords;\n\n            if (x < 0 || x > columns ||\n                y < 0 || y > rows) {\n                return;\n            }\n\n            // Draw the hover overlay on top of the pixel data\n            const configuration = brush.getConfiguration();\n            const radius = configuration.radius;\n            const context = eventData.canvasContext;\n            const color = dragging ? configuration.dragColor : configuration.hoverColor;\n            const element = eventData.element;\n\n            context.setTransform(1, 0, 0, 1, 0, 0);\n\n            if (configuration.active) {\n                const pointerArray = getCircle(radius, rows, columns, x, y);\n\n                drawBrushOnCanvas(pointerArray, context, color, element);\n            }\n        }\n\n        const brush = new brushTool({\n            onMouseMove,\n            onMouseDown,\n            onMouseUp,\n            onDrag,\n            toolType,\n            onImageRendered\n        });\n        for (var i in cornerstoneTools.brush) {\n            cornerstoneTools.brush[i] = brush[i]\n        }\n        cornerstoneTools.brush.clear = brush.clear\n        cornerstoneTools.brush.getAllId = brush.getAllId\n        cornerstoneTools.brush.autoplay = autoplay\n        brush.setConfiguration(configuration);\n    }\n\n}\nnew newbrush();\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/brush.js","class newbrushTool {\n    constructor(brushToolInterface) {\n        const EVENTS = cornerstoneTools.EVENTS\n        const external = cornerstoneTools.external\n\n        const addToolState = cornerstoneTools.addToolState\n        const getToolState = cornerstoneTools.getToolState\n\n        const mouseButtonTool = cornerstoneTools.mouseButtonTool\n        const isMouseButtonEnabled = cornerstoneTools.isMouseButtonEnabled\n\n        const setToolOptions = cornerstoneTools.setToolOptions\n        const getToolOptions = cornerstoneTools.getToolOptions\n\n        function clip(val, low, high) {\n            // Clip a value to an upper and lower bound.\n            return Math.min(Math.max(low, val), high);\n        }\n\n        const TOOL_STATE_TOOL_TYPE = 'brush';\n        let brushLayerId;\n        let imageLayerId;\n\n        //function brushTool(brushToolInterface) {\n        const toolType = brushToolInterface.toolType;\n\n        function keyDownCallback(e) {\n            const eventData = e.detail;\n            let imageNeedsUpdate = false;\n\n            imageNeedsUpdate = keyDownChangeToolSize(eventData) || imageNeedsUpdate;\n            imageNeedsUpdate = keyDownChangeSegmentation(eventData) || imageNeedsUpdate;\n\n            if (imageNeedsUpdate) {\n                // Force onImageRendered to fire\n                external.cornerstone.updateImage(eventData.element);\n            }\n        }\n\n        function keyDownChangeToolSize(eventData) {\n            const keyCode = eventData.keyCode;\n            let imageNeedsUpdate = false;\n\n            if (keyCode === 109 || keyCode === 173) {\n                decreaseRadius();\n                imageNeedsUpdate = true;\n            } else if (keyCode === 61 || keyCode === 107) {\n                increaseRadius();\n                imageNeedsUpdate = true;\n            }\n\n            return imageNeedsUpdate;\n        }\n\n        function keyDownChangeSegmentation(eventData) {\n            const keyCode = eventData.keyCode;\n            let imageNeedsUpdate = false;\n\n            if (keyCode === 219) {\n                previousSegmentation();\n                imageNeedsUpdate = true;\n            } else if (keyCode === 221) {\n                nextSegmentation();\n                imageNeedsUpdate = true;\n            }\n\n            return imageNeedsUpdate;\n        }\n\n        function changeDrawColor(drawId) {\n            const configuration = brushTool.getConfiguration();\n            const colormap = external.cornerstone.colors.getColormap(configuration.colormapId);\n\n            configuration.draw = drawId;\n            const colorArray = colormap.getColor(configuration.draw);\n\n            configuration.hoverColor = `rgba(${colorArray[[0]]}, ${colorArray[[1]]}, ${colorArray[[2]]}, 1.0 )`;\n            configuration.dragColor = `rgba(${colorArray[[0]]}, ${colorArray[[1]]}, ${colorArray[[2]]}, 0.8 )`;\n        }\n\n        function increaseRadius() {\n            const configuration = brushTool.getConfiguration();\n\n            configuration.radius = clip(configuration.radius + 1, configuration.minRadius, configuration.maxRadius);\n        }\n\n        function decreaseRadius() {\n            const configuration = brushTool.getConfiguration();\n\n            configuration.radius = clip(configuration.radius - 1, configuration.minRadius, configuration.maxRadius);\n        }\n\n        function nextSegmentation() {\n            const configuration = brushTool.getConfiguration();\n            const numberOfColors = getNumberOfColors();\n\n            let drawId = configuration.draw + 1;\n\n            if (drawId === numberOfColors) {\n                drawId = 0;\n            }\n\n            changeDrawColor(drawId);\n        }\n\n        function previousSegmentation() {\n            const configuration = brushTool.getConfiguration();\n            const numberOfColors = getNumberOfColors();\n\n            let drawId = configuration.draw - 1;\n\n            if (drawId < 0) {\n                drawId = numberOfColors - 1;\n            }\n\n            changeDrawColor(drawId);\n        }\n\n        function getNumberOfColors() {\n            const configuration = brushTool.getConfiguration();\n            const colormap = external.cornerstone.colors.getColormap(configuration.colormapId);\n\n            return colormap.getNumberOfColors();\n        }\n\n        function mouseMoveCallback(e) {\n            brushToolInterface.onMouseMove(e);\n        }\n\n        function mouseUpCallback(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n\n            brushToolInterface.onMouseUp(e);\n\n            element.removeEventListener(EVENTS.MOUSE_DRAG, mouseMoveCallback);\n            element.removeEventListener(EVENTS.MOUSE_DRAG, dragCallback);\n            element.removeEventListener(EVENTS.MOUSE_UP, mouseUpCallback);\n            element.removeEventListener(EVENTS.MOUSE_CLICK, mouseUpCallback);\n        }\n\n        function dragCallback(e) {\n            brushToolInterface.onDrag(e);\n\n            return false;\n        }\n\n        function mouseDownActivateCallback(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n            const options = getToolOptions(toolType, element);\n\n            if (isMouseButtonEnabled(eventData.which, options.mouseButtonMask)) {\n                element.addEventListener(EVENTS.MOUSE_DRAG, dragCallback);\n                element.addEventListener(EVENTS.MOUSE_UP, mouseUpCallback);\n                element.addEventListener(EVENTS.MOUSE_CLICK, mouseUpCallback);\n                brushToolInterface.onMouseDown(e);\n\n                return false;\n            }\n\n            element.addEventListener(EVENTS.MOUSE_DRAG, mouseMoveCallback);\n            element.addEventListener(EVENTS.MOUSE_UP, mouseUpCallback);\n        }\n\n        function onImageRendered(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n            const toolData = getToolState(element, TOOL_STATE_TOOL_TYPE);\n            //console.log(toolData)\n            let pixelData;\n\n\n            if (toolData) {\n                pixelData = toolData.data[0].pixelData;\n                // console.log(pixelData,'=======')\n            } else {\n                pixelData = new Uint8ClampedArray(eventData.image.width * eventData.image.height);\n                addToolState(element, TOOL_STATE_TOOL_TYPE, { pixelData });\n            }\n\n            const layer = external.cornerstone.getLayer(eventData.element, brushLayerId);\n            //console.log(layer,eventData.element,'==============',external.cornerstone,brushLayerId)\n            //if (layer) {\n                //console.log(layer.image, '=================')\n                layer.image.setPixelData(pixelData);\n                layer.invalid = true;\n            //}\n            \n\n            external.cornerstone.updateImage(element);\n\n            brushToolInterface.onImageRendered(e);\n        }\n\n        function setBrushColormap(colormapId) {\n            const colormap = external.cornerstone.colors.getColormap(colormapId);\n\n            colormap.setNumberOfColors(20);\n            colormap.setColor(0, [255, 255, 255, 0]);\n            colormap.setColor(1, [230, 25, 75, 102]);\n            colormap.setColor(2, [60, 180, 175, 102]);\n            colormap.setColor(3, [255, 225, 25, 102]);\n            colormap.setColor(4, [0, 130, 200, 102]);\n            colormap.setColor(5, [245, 130, 48, 102]);\n            colormap.setColor(6, [145, 30, 180, 102]);\n            colormap.setColor(7, [70, 240, 240, 102]);\n            colormap.setColor(8, [240, 50, 230, 102]);\n            colormap.setColor(9, [210, 245, 60, 102]);\n            colormap.setColor(10, [250, 190, 190, 102]);\n            colormap.setColor(11, [0, 128, 128, 102]);\n            colormap.setColor(12, [230, 190, 255, 102]);\n            colormap.setColor(13, [170, 110, 40, 102]);\n            colormap.setColor(14, [255, 250, 200, 102]);\n            colormap.setColor(15, [128, 0, 0, 102]);\n            colormap.setColor(16, [170, 255, 195, 102]);\n            colormap.setColor(17, [128, 128, 0, 102]);\n            colormap.setColor(18, [255, 215, 180, 102]);\n            colormap.setColor(19, [0, 0, 128, 102]);\n        }\n\n        function activate(element, mouseButtonMask) {\n            setToolOptions(toolType, element, { mouseButtonMask });\n\n            element.removeEventListener(EVENTS.IMAGE_RENDERED, onImageRendered);\n            element.addEventListener(EVENTS.IMAGE_RENDERED, onImageRendered);\n\n            element.removeEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, mouseDownActivateCallback);\n            element.addEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, mouseDownActivateCallback);\n\n            element.removeEventListener(EVENTS.MOUSE_MOVE, mouseMoveCallback);\n            element.addEventListener(EVENTS.MOUSE_MOVE, mouseMoveCallback);\n\n            element.removeEventListener(EVENTS.KEY_DOWN, keyDownCallback);\n            element.addEventListener(EVENTS.KEY_DOWN, keyDownCallback);\n\n            const enabledElement = external.cornerstone.getEnabledElement(element);\n            const { width, height } = enabledElement.image;\n            let pixelData = new Uint8ClampedArray(width * height);\n\n            const configuration = brushTool.getConfiguration();\n\n            configuration.active = true;\n            let colormapId = configuration.colormapId;\n\n            if (!colormapId) {\n                const configuration = brushTool.getConfiguration();\n\n                colormapId = 'BrushColorMap';\n                setBrushColormap(colormapId);\n                configuration.colormapId = colormapId;\n            }\n\n            const labelMapImage = {\n                minPixelValue: 0,\n                maxPixelValue: 1,\n                slope: 1.0,\n                intercept: 0,\n                getPixelData: () => pixelData,\n                rows: enabledElement.image.height,\n                columns: enabledElement.image.width,\n                height,\n                width,\n                pixelData,\n                setPixelData: (data) => {\n                    pixelData = data;\n                },\n                colormap: colormapId,\n                color: false,\n                rgba: false,\n                labelmap: true,\n                invert: false,\n                columnPixelSpacing: 1.0,\n                rowPixelSpacing: 1.0,\n                sizeInBytes: enabledElement.image.width * enabledElement.image.height\n            };\n\n            let layer;\n            const options = {\n                viewport: {\n                    pixelReplication: true\n                }\n            };\n\n            // Add imageLayer if it doesn't exist.\n            if (!imageLayerId) {\n                imageLayerId = external.cornerstone.addLayer(element, external.cornerstone.getEnabledElement(element).image);\n            }\n            // console.log(brushLayerId, imageLayerId)\n            if (brushLayerId) {\n                layer = external.cornerstone.getLayer(element, brushLayerId);\n            }\n\n            if (!layer) {\n                brushLayerId = external.cornerstone.addLayer(element, labelMapImage, options);\n            }\n\n            addToolState(element, TOOL_STATE_TOOL_TYPE, { pixelData });\n\n            configuration.brushLayerId = brushLayerId;\n            brushTool.setConfiguration(configuration);\n\n            external.cornerstone.updateImage(element);\n        }\n\n        function clear() {\n            brushLayerId = null\n            imageLayerId = null\n        }\n\n        function getAllId() {\n            return { brushLayerId: brushLayerId, imageLayerId: imageLayerId }\n        }\n\n        function deactivate(element) {\n            element.removeEventListener(EVENTS.IMAGE_RENDERED, onImageRendered);\n            element.removeEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, mouseDownActivateCallback);\n            element.removeEventListener(EVENTS.MOUSE_MOVE, mouseMoveCallback);\n            element.removeEventListener(EVENTS.KEY_DOWN, keyDownCallback);\n\n            //element.addEventListener(EVENTS.IMAGE_RENDERED, onImageRendered);\n\n            const configuration = brushTool.getConfiguration();\n\n            configuration.active = false;\n        }\n\n        const brushTool = mouseButtonTool({\n            mouseMoveCallback,\n            mouseDownActivateCallback,\n            onImageRendered,\n            deactivate\n        });\n\n        brushTool.keyDownCallback = keyDownCallback;\n        brushTool.activate = activate;\n        brushTool.changeDrawColor = changeDrawColor;\n        brushTool.increaseRadius = increaseRadius;\n        brushTool.decreaseRadius = decreaseRadius;\n        brushTool.nextSegmentation = nextSegmentation;\n        brushTool.previousSegmentation = previousSegmentation;\n        brushTool.clear = clear\n        brushTool.getAllId = getAllId\n\n        return brushTool;\n        // }\n    }\n}\nmodule.exports = newbrushTool;\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/brushTool.js","class newsimpleAngle {\n    constructor() {\n        const EVENTS = cornerstoneTools.EVENTS\n        const external = cornerstoneTools.external\n        const mouseButtonTool = cornerstoneTools.mouseButtonTool\n\n        const toolStyle = cornerstoneTools.toolStyle\n        const toolColors = cornerstoneTools.toolColors\n        const drawHandles = cornerstoneTools.drawHandles\n        const textStyle = cornerstoneTools.textStyle\n\n\n        const anyHandlesOutsideImage = cornerstoneTools.anyHandlesOutsideImage\n        const moveNewHandle = cornerstoneTools.moveNewHandle\n\n\n        const getToolState = cornerstoneTools.getToolState\n        const addToolState = cornerstoneTools.addToolState\n        const removeToolState = cornerstoneTools.removeToolState\n        const drawTextBox = cornerstoneTools.drawTextBox\n\n        const drawJoinedLines = cornerstoneTools.drawing.drawJoinedLines\n        const draw = cornerstoneTools.drawing.draw\n        const setShadow = cornerstoneTools.drawing.setShadow\n        const getNewContext = cornerstoneTools.drawing.getNewContext\n\n\n\n\n\n\n        const textBoxWidth = function textBoxWidth(context, text, padding) {\n            const font = textStyle.getFont();\n            const origFont = context.font;\n\n            if (font && font !== origFont) {\n                context.font = font;\n            }\n            const width = context.measureText(text).width;\n\n            if (font && font !== origFont) {\n                context.font = origFont;\n            }\n\n            return width + 2 * padding;\n        }\n\n        const roundToDecimal = function(value, precision) {\n            const multiplier = Math.pow(10, precision);\n            return (Math.round(value * multiplier) / multiplier);\n        }\n\n        const lineSegDistance = function(element, start, end, coords) {\n            const cornerstone = external.cornerstone;\n            const lineSegment = {\n                start: cornerstone.pixelToCanvas(element, start),\n                end: cornerstone.pixelToCanvas(element, end)\n            };\n\n            return external.cornerstoneMath.lineSegment.distanceToPoint(lineSegment, coords);\n        }\n\n        const toolType = 'simpleAngle';\n\n        function createNewMeasurement(mouseEventData) {\n            // Create the measurement data for this tool with the end handle activated\n            const angleData = {\n                visible: true,\n                active: true,\n                color: undefined,\n                uuid: mouseEventData.uuid ? mouseEventData.uuid : null,\n                handles: {\n                    start: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    middle: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: true\n                    },\n                    end: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    textBox: {\n                        active: false,\n                        hasMoved: false,\n                        movesIndependently: false,\n                        drawnIndependently: true,\n                        allowedOutsideImage: true,\n                        hasBoundingBox: true\n                    }\n                }\n            };\n\n            return angleData;\n        }\n        // /////// END ACTIVE TOOL ///////\n\n        function pointNearTool(element, data, coords) {\n            if (data.visible === false) {\n                return false;\n            }\n\n            return lineSegDistance(element, data.handles.start, data.handles.middle, coords) < 25 ||\n                lineSegDistance(element, data.handles.middle, data.handles.end, coords) < 25;\n        }\n\n        function length(vector) {\n            return Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2));\n        }\n\n        // /////// BEGIN IMAGE RENDERING ///////\n        function onImageRendered(e) {\n            const eventData = e.detail;\n            // If we have no toolData for this element, return immediately as there is nothing to do\n            const toolData = getToolState(e.currentTarget, toolType);\n\n            if (!toolData) {\n                return;\n            }\n\n            const cornerstone = external.cornerstone;\n            const enabledElement = eventData.enabledElement;\n\n            // We have tool data for this element - iterate over each one and draw it\n            const context = getNewContext(eventData.canvasContext.canvas);\n\n            const lineWidth = toolStyle.getToolWidth();\n            const config = simpleAngle.getConfiguration();\n\n            for (let i = 0; i < toolData.data.length; i++) {\n                const data = toolData.data[i];\n\n                if (data.visible === false) {\n                    continue;\n                }\n\n                draw(context, (context) => {\n                    setShadow(context, config);\n\n                    // Differentiate the color of activation tool\n                    const color = toolColors.getColorIfActive(data);\n\n                    const handleStartCanvas = cornerstone.pixelToCanvas(eventData.element, data.handles.start);\n                    const handleMiddleCanvas = cornerstone.pixelToCanvas(eventData.element, data.handles.middle);\n\n                    drawJoinedLines(context, eventData.element, data.handles.start, [data.handles.middle, data.handles.end], { color });\n\n                    // Draw the handles\n                    const handleOptions = {\n                        drawHandlesIfActive: (config && config.drawHandlesOnHover)\n                    };\n\n                    drawHandles(context, eventData, data.handles, color, handleOptions);\n\n                    // Default to isotropic pixel size, update suffix to reflect this\n                    const columnPixelSpacing = eventData.image.columnPixelSpacing || 1;\n                    const rowPixelSpacing = eventData.image.rowPixelSpacing || 1;\n\n                    const sideA = {\n                        x: (Math.ceil(data.handles.middle.x) - Math.ceil(data.handles.start.x)) * columnPixelSpacing,\n                        y: (Math.ceil(data.handles.middle.y) - Math.ceil(data.handles.start.y)) * rowPixelSpacing\n                    };\n\n                    const sideB = {\n                        x: (Math.ceil(data.handles.end.x) - Math.ceil(data.handles.middle.x)) * columnPixelSpacing,\n                        y: (Math.ceil(data.handles.end.y) - Math.ceil(data.handles.middle.y)) * rowPixelSpacing\n                    };\n\n                    const sideC = {\n                        x: (Math.ceil(data.handles.end.x) - Math.ceil(data.handles.start.x)) * columnPixelSpacing,\n                        y: (Math.ceil(data.handles.end.y) - Math.ceil(data.handles.start.y)) * rowPixelSpacing\n                    };\n\n                    const sideALength = length(sideA);\n                    const sideBLength = length(sideB);\n                    const sideCLength = length(sideC);\n\n                    // Cosine law\n                    let angle = Math.acos((Math.pow(sideALength, 2) + Math.pow(sideBLength, 2) - Math.pow(sideCLength, 2)) / (2 * sideALength * sideBLength));\n\n                    angle *= (180 / Math.PI);\n\n                    data.rAngle = roundToDecimal(angle, 2);\n\n                    if (data.rAngle) {\n                        const text = textBoxText(data, eventData.image.rowPixelSpacing, eventData.image.columnPixelSpacing);\n\n                        const distance = 15;\n\n                        let textCoords;\n\n                        if (!data.handles.textBox.hasMoved) {\n                            textCoords = {\n                                x: handleMiddleCanvas.x,\n                                y: handleMiddleCanvas.y\n                            };\n\n                            const padding = 5;\n                            const textWidth = textBoxWidth(context, text, padding);\n\n                            if (handleMiddleCanvas.x < handleStartCanvas.x) {\n                                textCoords.x -= distance + textWidth;\n                            } else {\n                                textCoords.x += distance;\n                            }\n\n                            const transform = cornerstone.internal.getTransform(enabledElement);\n\n                            transform.invert();\n\n                            const coords = transform.transformPoint(textCoords.x, textCoords.y);\n\n                            data.handles.textBox.x = coords.x;\n                            data.handles.textBox.y = coords.y;\n                        }\n                        drawTextBox(context, text, textCoords.x, textCoords.y, color);\n\n                        /*drawLinkedTextBox(context, eventData.element, data.handles.textBox, text,\n                            data.handles, textBoxAnchorPoints, color, lineWidth, 0, true);*/\n                    }\n                });\n            }\n\n            function textBoxText(data, rowPixelSpacing, columnPixelSpacing) {\n                const suffix = (!rowPixelSpacing || !columnPixelSpacing) ? ' (isotropic)' : '';\n                const str = '00B0'; // Degrees symbol\n\n                return data.rAngle.toString() + String.fromCharCode(parseInt(str, 16)) + suffix;\n            }\n\n            function textBoxAnchorPoints(handles) {\n                return [handles.start, handles.middle, handles.end];\n            }\n        }\n        // /////// END IMAGE RENDERING ///////\n\n        // /////// BEGIN ACTIVE TOOL ///////\n        function addNewMeasurement(mouseEventData) {\n            const cornerstone = external.cornerstone;\n            const measurementData = createNewMeasurement(mouseEventData);\n            const element = mouseEventData.element;\n\n            // Associate this data with this imageId so we can render it and manipulate it\n            addToolState(element, toolType, measurementData);\n\n            // Since we are dragging to another place to drop the end point, we can just activate\n            // The end point and let the moveHandle move it for us.\n            element.removeEventListener(EVENTS.MOUSE_MOVE, simpleAngle.mouseMoveCallback);\n            element.removeEventListener(EVENTS.MOUSE_DRAG, simpleAngle.mouseMoveCallback);\n            element.removeEventListener(EVENTS.MOUSE_DOWN, simpleAngle.mouseDownCallback);\n            element.removeEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, simpleAngle.mouseDownActivateCallback);\n            cornerstone.updateImage(element);\n\n            moveNewHandle(mouseEventData, toolType, measurementData, measurementData.handles.middle, function() {\n                measurementData.active = false;\n                if (anyHandlesOutsideImage(mouseEventData, measurementData.handles)) {\n                    // Delete the measurement\n                    removeToolState(element, toolType, measurementData);\n\n                    element.addEventListener(EVENTS.MOUSE_MOVE, simpleAngle.mouseMoveCallback);\n                    element.addEventListener(EVENTS.MOUSE_DRAG, simpleAngle.mouseMoveCallback);\n                    element.addEventListener(EVENTS.MOUSE_DOWN, simpleAngle.mouseDownCallback);\n                    element.addEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, simpleAngle.mouseDownActivateCallback);\n                    cornerstone.updateImage(element);\n\n                    return;\n                }\n\n                measurementData.handles.end.active = true;\n                cornerstone.updateImage(element);\n\n                moveNewHandle(mouseEventData, toolType, measurementData, measurementData.handles.end, function() {\n                    measurementData.active = false;\n                    if (anyHandlesOutsideImage(mouseEventData, measurementData.handles)) {\n                        // Delete the measurement\n                        removeToolState(element, toolType, measurementData);\n                    }\n\n                    element.addEventListener(EVENTS.MOUSE_MOVE, simpleAngle.mouseMoveCallback);\n                    element.addEventListener(EVENTS.MOUSE_DRAG, simpleAngle.mouseMoveCallback);\n                    element.addEventListener(EVENTS.MOUSE_DOWN, simpleAngle.mouseDownCallback);\n                    element.addEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, simpleAngle.mouseDownActivateCallback);\n                    cornerstone.updateImage(element);\n                });\n            });\n        }\n\n        function addNewMeasurementTouch(touchEventData) {\n            const cornerstone = external.cornerstone;\n            const measurementData = createNewMeasurement(touchEventData);\n            const element = touchEventData.element;\n\n            // Associate this data with this imageId so we can render it and manipulate it\n            addToolState(element, toolType, measurementData);\n\n            // Since we are dragging to another place to drop the end point, we can just activate\n            // The end point and let the moveHandle move it for us.\n            element.removeEventListener(EVENTS.TOUCH_DRAG, simpleAngleTouch.touchMoveCallback);\n            element.removeEventListener(EVENTS.TOUCH_START_ACTIVE, simpleAngleTouch.touchDownActivateCallback);\n            element.removeEventListener(EVENTS.TOUCH_START, simpleAngleTouch.touchStartCallback);\n            element.removeEventListener(EVENTS.TAP, simpleAngleTouch.tapCallback);\n            cornerstone.updateImage(element);\n\n            moveNewHandleTouch(touchEventData, toolType, measurementData, measurementData.handles.middle, function() {\n                if (anyHandlesOutsideImage(touchEventData, measurementData.handles)) {\n                    // Delete the measurement\n                    removeToolState(element, toolType, measurementData);\n                    element.addEventListener(EVENTS.TOUCH_DRAG, simpleAngleTouch.touchMoveCallback);\n                    element.addEventListener(EVENTS.TOUCH_START, simpleAngleTouch.touchStartCallback);\n                    element.addEventListener(EVENTS.TOUCH_START_ACTIVE, simpleAngleTouch.touchDownActivateCallback);\n                    element.addEventListener(EVENTS.TAP, simpleAngleTouch.tapCallback);\n                    cornerstone.updateImage(element);\n\n                    return;\n                }\n\n                moveNewHandleTouch(touchEventData, toolType, measurementData, measurementData.handles.end, function() {\n                    if (anyHandlesOutsideImage(touchEventData, measurementData.handles)) {\n                        // Delete the measurement\n                        removeToolState(element, toolType, measurementData);\n                        cornerstone.updateImage(element);\n                    }\n\n                    element.addEventListener(EVENTS.TOUCH_DRAG, simpleAngleTouch.touchMoveCallback);\n                    element.addEventListener(EVENTS.TOUCH_START, simpleAngleTouch.touchStartCallback);\n                    element.addEventListener(EVENTS.TOUCH_START_ACTIVE, simpleAngleTouch.touchDownActivateCallback);\n                    element.addEventListener(EVENTS.TAP, simpleAngleTouch.tapCallback);\n                });\n            });\n        }\n\n        const simpleAngle = mouseButtonTool({\n            createNewMeasurement,\n            addNewMeasurement,\n            onImageRendered,\n            pointNearTool,\n            toolType\n        });\n\n        function getMeasurement(data) {\n            return createNewMeasurement(data)\n        }\n        for (var i in cornerstoneTools.simpleAngle) {\n            cornerstoneTools.simpleAngle[i] = simpleAngle[i]\n        }\n        cornerstoneTools.simpleAngle.getMeasurement = getMeasurement\n    }\n\n}\nnew newsimpleAngle();\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/simpleAngle.js","class ellipticalRoi {\n    constructor() {\n        const external = cornerstoneTools.external\n        const mouseButtonTool = cornerstoneTools.mouseButtonTool\n\n        const toolStyle = cornerstoneTools.toolStyle\n        const toolColors = cornerstoneTools.toolColors\n        const drawHandles = cornerstoneTools.drawHandles\n        const pointInEllipse = cornerstoneTools.pointInEllipse\n\n        const calculateEllipseStatistics = cornerstoneTools.calculateEllipseStatistics\n        const calculateSUV = cornerstoneTools.calculateSUV\n\n        const drawTextBox = cornerstoneTools.drawTextBox\n        const getToolState = cornerstoneTools.getToolState\n        const drawEllipse = cornerstoneTools.drawing.drawEllipse\n\n        const getNewContext = cornerstoneTools.drawing.getNewContext\n        const draw = cornerstoneTools.drawing.draw\n        const setShadow = cornerstoneTools.drawing.setShadow\n\n        const toolType = 'ellipticalRoi';\n\n        function createNewMeasurement(mouseEventData) {\n            // Create the measurement data for this tool with the end handle activated\n            const measurementData = {\n                visible: true,\n                active: true,\n                invalidated: true,\n                color: undefined,\n                areaDisplayFlag: true,\n                nameDisplayFlag: true,\n                uuid: mouseEventData.uuid ? mouseEventData.uuid : null,\n                handles: {\n                    start: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    end: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: true\n                    },\n                    textBox: {\n                        active: false,\n                        hasMoved: false,\n                        movesIndependently: false,\n                        drawnIndependently: true,\n                        allowedOutsideImage: true,\n                        hasBoundingBox: true\n                    }\n                }\n            };\n            const config = ellipticalRoiend.getConfiguration();\n            if (config) {\n                {\n                    if (config.nameDisplayFlag != undefined && config.nameDisplayFlag != null) {\n                        measurementData.nameDisplayFlag = config.nameDisplayFlag;\n                    }\n                    if (config.areaDisplayFlag != undefined && config.areaDisplayFlag) {\n                        measurementData.areaDisplayFlag = config.areaDisplayFlag;\n                    }\n                }\n            }\n            return measurementData;\n        }\n        // /////// END ACTIVE TOOL ///////\n\n        // /////// BEGIN IMAGE RENDERING ///////\n        function pointNearEllipse(element, data, coords, distance) {\n            if (data.visible === false) {\n                return false;\n            }\n\n            const cornerstone = external.cornerstone;\n            const startCanvas = cornerstone.pixelToCanvas(element, data.handles.start);\n            const endCanvas = cornerstone.pixelToCanvas(element, data.handles.end);\n\n            const minorEllipse = {\n                left: Math.min(startCanvas.x, endCanvas.x) + distance / 2,\n                top: Math.min(startCanvas.y, endCanvas.y) + distance / 2,\n                width: Math.abs(startCanvas.x - endCanvas.x) - distance,\n                height: Math.abs(startCanvas.y - endCanvas.y) - distance\n            };\n\n            const majorEllipse = {\n                left: Math.min(startCanvas.x, endCanvas.x) - distance / 2,\n                top: Math.min(startCanvas.y, endCanvas.y) - distance / 2,\n                width: Math.abs(startCanvas.x - endCanvas.x) + distance,\n                height: Math.abs(startCanvas.y - endCanvas.y) + distance\n            };\n\n            const pointInMinorEllipse = pointInEllipse(minorEllipse, coords);\n            const pointInMajorEllipse = pointInEllipse(majorEllipse, coords);\n\n            if (pointInMajorEllipse && !pointInMinorEllipse) {\n                return true;\n            }\n\n            return false;\n        }\n\n        function pointNearTool(element, data, coords) {\n            return pointNearEllipse(element, data, coords, 5);\n        }\n\n        function pointNearToolTouch(element, data, coords) {\n            return pointNearEllipse(element, data, coords, 10);\n        }\n\n        function numberWithCommas(x) {\n            // http://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n            const parts = x.toString().split('.');\n\n            parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n            return parts.join('.');\n        }\n\n        function onImageRendered(e) {\n            const eventData = e.detail;\n\n            // If we have no toolData for this element, return immediately as there is nothing to do\n            const toolData = getToolState(e.currentTarget, toolType);\n\n            if (!toolData) {\n                return;\n            }\n\n            const cornerstone = external.cornerstone;\n            const image = eventData.image;\n            const element = eventData.element;\n            const lineWidth = toolStyle.getToolWidth();\n            const config = ellipticalRoiend.getConfiguration();\n            const seriesModule = cornerstone.metaData.get('generalSeriesModule', image.imageId);\n            const imagePlane = cornerstone.metaData.get('imagePlaneModule', image.imageId);\n            let modality;\n            let rowPixelSpacing;\n            let colPixelSpacing;\n\n            if (imagePlane) {\n                rowPixelSpacing = imagePlane.rowPixelSpacing || imagePlane.rowImagePixelSpacing;\n                colPixelSpacing = imagePlane.columnPixelSpacing || imagePlane.colImagePixelSpacing;\n            } else {\n                rowPixelSpacing = image.rowPixelSpacing;\n                colPixelSpacing = image.columnPixelSpacing;\n            }\n\n            if (seriesModule) {\n                modality = seriesModule.modality;\n            }\n\n            //const context = getNewContext(eventData.canvasContext.canvas);\n            const context = eventData.canvasContext.canvas.getContext('2d');\n            context.setTransform(1, 0, 0, 1, 0, 0);\n\n\n            // If we have tool data for this element - iterate over each set and draw it\n            for (let i = 0; i < toolData.data.length; i++) {\n                const data = toolData.data[i];\n\n                if (data.visible === false) {\n                    continue;\n                }\n                //  draw (context, fn) {\n\n                draw(context, (context) => {\n                    const color = toolColors.getColorIfActive(data);\n\n                    drawEllipse(context, element, data.handles.start, data.handles.end, { color });\n\n                    // If the tool configuration specifies to only draw the handles on hover / active,\n                    // Follow this logic\n                    if (config && config.drawHandlesOnHover) {\n                        // Draw the handles if the tool is active\n                        if (data.active === true) {\n                            drawHandles(context, eventData, data.handles, color);\n                        } else {\n                            // If the tool is inactive, draw the handles only if each specific handle is being\n                            // Hovered over\n                            const handleOptions = {\n                                drawHandlesIfActive: true\n                            };\n\n                            drawHandles(context, eventData, data.handles, color, handleOptions);\n                        }\n                    } else {\n                        // If the tool has no configuration settings, always draw the handles\n                        drawHandles(context, eventData, data.handles, color);\n                    }\n\n\n                    let area,\n                        meanStdDev,\n                        meanStdDevSUV;\n\n\n                    if (data.invalidated === false) {\n                        // If the data is not invalidated, retrieve it from the toolData\n                        meanStdDev = data.meanStdDev;\n                        meanStdDevSUV = data.meanStdDevSUV;\n                        area = data.area;\n                    } else {\n                        // If the data has been invalidated, we need to calculate it again\n\n                        // Retrieve the bounds of the ellipse in image coordinates\n                        const ellipse = {\n                            left: Math.round(Math.min(data.handles.start.x, data.handles.end.x)),\n                            top: Math.round(Math.min(data.handles.start.y, data.handles.end.y)),\n                            width: Math.round(Math.abs(data.handles.start.x - data.handles.end.x)),\n                            height: Math.round(Math.abs(data.handles.start.y - data.handles.end.y))\n                        };\n\n                        if (!image.color) {\n                            // Retrieve the array of pixels that the ellipse bounds cover\n                            const pixels = cornerstone.getPixels(element, ellipse.left, ellipse.top, ellipse.width, ellipse.height);\n\n                            // Calculate the mean & standard deviation from the pixels and the ellipse details\n                            meanStdDev = calculateEllipseStatistics(pixels, ellipse);\n\n                            if (modality === 'PT') {\n\n                                meanStdDevSUV = {\n                                    mean: calculateSUV(image, (meanStdDev.mean - image.intercept) / image.slope),\n                                    stdDev: calculateSUV(image, (meanStdDev.stdDev - image.intercept) / image.slope)\n                                };\n                            }\n\n                            // If the mean and standard deviation values are sane, store them for later retrieval\n                            if (meanStdDev && !isNaN(meanStdDev.mean)) {\n                                data.meanStdDev = meanStdDev;\n                                data.meanStdDevSUV = meanStdDevSUV;\n                            }\n                        }\n\n                        // Calculate the image area from the ellipse dimensions and pixel spacing\n                        area = Math.PI * (ellipse.width * (colPixelSpacing || 1) / 2) * (ellipse.height * (rowPixelSpacing || 1) / 2);\n\n                        // If the area value is sane, store it for later retrieval\n                        if (!isNaN(area)) {\n                            data.area = area;\n                        }\n\n                        // Set the invalidated flag to false so that this data won't automatically be recalculated\n                        data.invalidated = false;\n                    }\n                    // console.log(data.nameDisplayFlag)\n                    if (data && data.nameDisplayFlag) {\n                        const text = textBoxText(data);\n                        if (!data.handles.textBox.hasMoved) {\n                            data.handles.textBox.x = Math.max(data.handles.start.x, data.handles.end.x);\n                            data.handles.textBox.y = (data.handles.start.y + data.handles.end.y) / 2;\n                        }\n                        const textCoords = cornerstone.pixelToCanvas(element, data.handles.textBox);\n                        const options = {\n                            centering: {\n                                x: false,\n                                y: true\n                            }\n                        };\n                        drawTextBox(context, text, textCoords.x, textCoords.y, color, options);\n                    }\n                    /*drawLinkedTextBox(context, element, data.handles.textBox, text,\n                        data.handles, textBoxAnchorPoints, color, lineWidth, 0, true);*/\n                });\n            }\n            // console.log('dsakjdksjd')\n            function textBoxText(data) {\n                const { meanStdDev, meanStdDevSUV, area } = data;\n\n                // Define an array to store the rows of text for the textbox\n                const textLines = [];\n\n                // If the mean and standard deviation values are present, display them\n                if (meanStdDev && meanStdDev.mean !== undefined) {\n                    // If the modality is CT, add HU to denote Hounsfield Units\n                    let moSuffix = '';\n\n                    if (modality === 'CT') {\n                        moSuffix = ' HU';\n                    }\n\n                    // Create a line of text to display the mean and any units that were specified (i.e. HU)\n                    let meanText = `Mean: ${numberWithCommas(meanStdDev.mean.toFixed(2))}${moSuffix}`;\n                    // Create a line of text to display the standard deviation and any units that were specified (i.e. HU)\n                    let stdDevText = `StdDev: ${numberWithCommas(meanStdDev.stdDev.toFixed(2))}${moSuffix}`;\n\n                    // If this image has SUV values to display, concatenate them to the text line\n                    if (meanStdDevSUV && meanStdDevSUV.mean !== undefined) {\n                        const SUVtext = ' SUV: ';\n\n                        meanText += SUVtext + numberWithCommas(meanStdDevSUV.mean.toFixed(2));\n                        stdDevText += SUVtext + numberWithCommas(meanStdDevSUV.stdDev.toFixed(2));\n                    }\n\n                    // Add these text lines to the array to be displayed in the textbox\n                    textLines.push(meanText);\n                    textLines.push(stdDevText);\n                }\n\n                // If the area is a sane value, display it\n                if (area) {\n                    let suffix = ` mm${String.fromCharCode(178)}`;\n\n                    if (!rowPixelSpacing || !colPixelSpacing) {\n                        suffix = ` pixels${String.fromCharCode(178)}`;\n                    }\n\n                    // Create a line of text to display the area and its units\n                    const areaText = `Area: ${numberWithCommas(area.toFixed(2))}${suffix}`;\n\n                    // Add this text line to the array to be displayed in the textbox\n                    textLines.push(areaText);\n                }\n\n                return textLines;\n            }\n\n            function textBoxAnchorPoints(handles) {\n                // Retrieve the bounds of the ellipse (left, top, width, and height)\n                const left = Math.min(handles.start.x, handles.end.x);\n                const top = Math.min(handles.start.y, handles.end.y);\n                const width = Math.abs(handles.start.x - handles.end.x);\n                const height = Math.abs(handles.start.y - handles.end.y);\n\n                return [{\n                    // Top middle point of ellipse\n                    x: left + width / 2,\n                    y: top\n                }, {\n                    // Left middle point of ellipse\n                    x: left,\n                    y: top + height / 2\n                }, {\n                    // Bottom middle point of ellipse\n                    x: left + width / 2,\n                    y: top + height\n                }, {\n                    // Right middle point of ellipse\n                    x: left + width,\n                    y: top + height / 2\n                }];\n            }\n        }\n\n        function getMeasurement(data) {\n            return createNewMeasurement(data)\n        }\n        const ellipticalRoiend = mouseButtonTool({\n            createNewMeasurement,\n            onImageRendered,\n            pointNearTool,\n            toolType\n        });\n        for (var i in cornerstoneTools.ellipticalRoi) {\n            //console.log('aaaa',i)\n            if (cornerstoneTools.ellipticalRoi[i]) {\n                //console.log('bbbbb')\n                cornerstoneTools.ellipticalRoi[i] = ellipticalRoiend[i]\n            }\n\n        }\n        cornerstoneTools.ellipticalRoi.getMeasurement = getMeasurement\n    }\n}\nnew ellipticalRoi();\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/ellipticalRoi.js","class lengths {\n    constructor() {\n        const EVENTS = cornerstoneTools.EVENTS\n        const external = cornerstoneTools.external\n        const mouseButtonTool = cornerstoneTools.mouseButtonTool\n\n        const toolStyle = cornerstoneTools.toolStyle\n        const toolColors = cornerstoneTools.toolColors\n        const drawHandles = cornerstoneTools.drawHandles\n        const textStyle = cornerstoneTools.textStyle\n\n\n        const anyHandlesOutsideImage = cornerstoneTools.anyHandlesOutsideImage\n        const moveNewHandle = cornerstoneTools.moveNewHandle\n\n\n        const getToolState = cornerstoneTools.getToolState\n        const addToolState = cornerstoneTools.addToolState\n        const removeToolState = cornerstoneTools.removeToolState\n        const drawTextBox = cornerstoneTools.drawTextBox\n\n        const drawJoinedLines = cornerstoneTools.drawing.drawJoinedLines\n        const draw = cornerstoneTools.drawing.draw\n        const setShadow = cornerstoneTools.drawing.setShadow\n        const getNewContext = cornerstoneTools.drawing.getNewContext\n\n\n\n\n\n\n        const textBoxWidth = function textBoxWidth(context, text, padding) {\n            const font = textStyle.getFont();\n            const origFont = context.font;\n\n            if (font && font !== origFont) {\n                context.font = font;\n            }\n            const width = context.measureText(text).width;\n\n            if (font && font !== origFont) {\n                context.font = origFont;\n            }\n\n            return width + 2 * padding;\n        }\n\n        const roundToDecimal = function(value, precision) {\n            const multiplier = Math.pow(10, precision);\n            return (Math.round(value * multiplier) / multiplier);\n        }\n\n        const lineSegDistance = function(element, start, end, coords) {\n            const cornerstone = external.cornerstone;\n            const lineSegment = {\n                start: cornerstone.pixelToCanvas(element, start),\n                end: cornerstone.pixelToCanvas(element, end)\n            };\n\n            return external.cornerstoneMath.lineSegment.distanceToPoint(lineSegment, coords);\n        }\n\n        const toolType = 'alignment';\n\n        function createNewMeasurement(mouseEventData) {\n            // Create the measurement data for this tool with the end handle activated\n            const angleData = {\n                visible: true,\n                active: true,\n                color: undefined,\n                uuid: mouseEventData.uuid ? mouseEventData.uuid : null,\n                handles: {\n                    start: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    middle: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    middle1: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    end: {\n                        x: mouseEventData.currentPoints.image.x,\n                        y: mouseEventData.currentPoints.image.y,\n                        highlight: true,\n                        active: false\n                    },\n                    textBox: {\n                        active: false,\n                        hasMoved: false,\n                        movesIndependently: false,\n                        drawnIndependently: true,\n                        allowedOutsideImage: true,\n                        hasBoundingBox: true\n                    }\n                }\n            };\n\n            return angleData;\n        }\n        // /////// END ACTIVE TOOL ///////\n\n        function pointNearTool(element, data, coords) {\n            if (data.visible === false) {\n                return false;\n            }\n\n            return lineSegDistance(element, data.handles.start, data.handles.middle, coords) < 5 ||\n                lineSegDistance(element, data.handles.middle, data.handles.middle1, coords) < 5||\n                lineSegDistance(element, data.handles.middle1, data.handles.end, coords) < 5;\n        }\n\n        function length(vector) {\n            return Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2));\n        }\n\n        // /////// BEGIN IMAGE RENDERING ///////\n        function onImageRendered(e) {\n            const eventData = e.detail;\n            // If we have no toolData for this element, return immediately as there is nothing to do\n            const toolData = getToolState(e.currentTarget, toolType);\n\n            if (!toolData) {\n                return;\n            }\n\n            const cornerstone = external.cornerstone;\n            const enabledElement = eventData.enabledElement;\n\n            // We have tool data for this element - iterate over each one and draw it\n            const context = getNewContext(eventData.canvasContext.canvas);\n\n            const lineWidth = toolStyle.getToolWidth();\n            const config = simpleAngle.getConfiguration();\n\n            for (let i = 0; i < toolData.data.length; i++) {\n                const data = toolData.data[i];\n\n                if (data.visible === false) {\n                    continue;\n                }\n\n                draw(context, (context) => {\n                    setShadow(context, config);\n\n                    // Differentiate the color of activation tool\n                    const color = toolColors.getColorIfActive(data);\n\n                    //const handleStartCanvas = cornerstone.pixelToCanvas(eventData.element, data.handles.start);\n                    //const handleMiddleCanvas = cornerstone.pixelToCanvas(eventData.element, data.handles.middle);\n\n                    const sxy = data.handles.start.x + \"_\" + data.handles.start.y\n                    const mxy = data.handles.middle.x + \"_\" + data.handles.middle.y\n                    const m1xy = data.handles.middle1.x + \"_\" + data.handles.middle1.y\n                    const exy = data.handles.end.x + \"_\" + data.handles.end.y\n                    drawJoinedLines(context, eventData.element, data.handles.start, [data.handles.middle, data.handles.middle1, data.handles.end, data.handles.start], {\n                        color\n                    });\n                    /*if (sxy != mxy && sxy != m1xy && sxy != exy && exy != mxy && exy != m1xy && m1xy != mxy) {\n\n                    } else {\n                        drawJoinedLines(context, eventData.element, data.handles.start, [data.handles.middle, data.handles.middle1, data.handles.end], {\n                            color\n                        });\n                    }*/\n\n                    // console.log(simpleAngle,'simpleAnglesimpleAngle')\n                    // Draw the handles\n                    const handleOptions = {\n                        drawHandlesIfActive: (config && config.drawHandlesOnHover)\n                    };\n                    if (data.active) {\n                        drawHandles(context, eventData, data.handles, color, handleOptions);\n                    }\n\n\n                    //drawHandles(context, eventData, data.handles, color);\n\n                    // Default to isotropic pixel size, update suffix to reflect this\n                    /*const columnPixelSpacing = eventData.image.columnPixelSpacing || 1;\n                    const rowPixelSpacing = eventData.image.rowPixelSpacing || 1;\n\n                    const sideA = {\n                        x: (Math.ceil(data.handles.middle.x) - Math.ceil(data.handles.start.x)) * columnPixelSpacing,\n                        y: (Math.ceil(data.handles.middle.y) - Math.ceil(data.handles.start.y)) * rowPixelSpacing\n                    };\n\n                    const sideB = {\n                        x: (Math.ceil(data.handles.end.x) - Math.ceil(data.handles.middle.x)) * columnPixelSpacing,\n                        y: (Math.ceil(data.handles.end.y) - Math.ceil(data.handles.middle.y)) * rowPixelSpacing\n                    };\n\n                    const sideC = {\n                        x: (Math.ceil(data.handles.end.x) - Math.ceil(data.handles.start.x)) * columnPixelSpacing,\n                        y: (Math.ceil(data.handles.end.y) - Math.ceil(data.handles.start.y)) * rowPixelSpacing\n                    };\n\n                    const sideALength = length(sideA);\n                    const sideBLength = length(sideB);\n                    const sideCLength = length(sideC);\n\n                    // Cosine law\n                    let angle = Math.acos((Math.pow(sideALength, 2) + Math.pow(sideBLength, 2) - Math.pow(sideCLength, 2)) / (2 * sideALength * sideBLength));\n\n                    angle *= (180 / Math.PI);\n\n                    data.rAngle = roundToDecimal(angle, 2);\n\n                    if (data.rAngle) {\n                        const text = textBoxText(data, eventData.image.rowPixelSpacing, eventData.image.columnPixelSpacing);\n\n                        const distance = 15;\n\n                        let textCoords;\n\n                        if (!data.handles.textBox.hasMoved) {\n                            textCoords = {\n                                x: handleMiddleCanvas.x,\n                                y: handleMiddleCanvas.y\n                            };\n\n                            const padding = 5;\n                            const textWidth = textBoxWidth(context, text, padding);\n\n                            if (handleMiddleCanvas.x < handleStartCanvas.x) {\n                                textCoords.x -= distance + textWidth;\n                            } else {\n                                textCoords.x += distance;\n                            }\n\n                            const transform = cornerstone.internal.getTransform(enabledElement);\n\n                            transform.invert();\n\n                            const coords = transform.transformPoint(textCoords.x, textCoords.y);\n\n                            data.handles.textBox.x = coords.x;\n                            data.handles.textBox.y = coords.y;\n                        }\n                        drawTextBox(context, text, textCoords.x, textCoords.y, color);\n\n                        drawLinkedTextBox(context, eventData.element, data.handles.textBox, text,\n                            data.handles, textBoxAnchorPoints, color, lineWidth, 0, true);\n                    }*/\n                });\n            }\n\n            function textBoxText(data, rowPixelSpacing, columnPixelSpacing) {\n                const suffix = (!rowPixelSpacing || !columnPixelSpacing) ? ' (isotropic)' : '';\n                const str = '00B0'; // Degrees symbol\n\n                return data.rAngle.toString() + String.fromCharCode(parseInt(str, 16)) + suffix;\n            }\n\n            function textBoxAnchorPoints(handles) {\n                return [handles.start, handles.middle, handles.end];\n            }\n        }\n        // /////// END IMAGE RENDERING ///////\n\n        // /////// BEGIN ACTIVE TOOL ///////\n        function addNewMeasurement(mouseEventData) {\n            const cornerstone = external.cornerstone;\n            const measurementData = createNewMeasurement(mouseEventData);\n            const element = mouseEventData.element;\n\n            // Associate this data with this imageId so we can render it and manipulate it\n            addToolState(element, toolType, measurementData);\n\n            // Since we are dragging to another place to drop the end point, we can just activate\n            // The end point and let the moveHandle move it for us.\n            element.removeEventListener(EVENTS.MOUSE_MOVE, simpleAngle.mouseMoveCallback);\n            element.removeEventListener(EVENTS.MOUSE_DRAG, simpleAngle.mouseMoveCallback);\n            element.removeEventListener(EVENTS.MOUSE_DOWN, simpleAngle.mouseDownCallback);\n            element.removeEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, simpleAngle.mouseDownActivateCallback);\n            cornerstone.updateImage(element);\n            measurementData.handles.start.active = false;\n            moveNewHandle(mouseEventData, toolType, measurementData, measurementData.handles.middle, function() {\n                if (anyHandlesOutsideImage(mouseEventData, measurementData.handles)) {\n                    measurementData.active = false;\n                    if (anyHandlesOutsideImage(mouseEventData, measurementData.handles)) {\n                        // Delete the measurement\n                        removeToolState(element, toolType, measurementData);\n                    }\n\n                    element.addEventListener(EVENTS.MOUSE_MOVE, simpleAngle.mouseMoveCallback);\n                    element.addEventListener(EVENTS.MOUSE_DRAG, simpleAngle.mouseMoveCallback);\n                    element.addEventListener(EVENTS.MOUSE_DOWN, simpleAngle.mouseDownCallback);\n                    element.addEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, simpleAngle.mouseDownActivateCallback);\n                    cornerstone.updateImage(element);\n                    return\n                }\n                measurementData.active = false;\n                measurementData.handles.middle.active = true;\n                \n            });\n            moveNewHandle(mouseEventData, toolType, measurementData, measurementData.handles.middle, function() {\n                    measurementData.active = false;\n                    if (anyHandlesOutsideImage(mouseEventData, measurementData.handles)) {\n                        // Delete the measurement\n                        removeToolState(element, toolType, measurementData);\n\n                        element.addEventListener(EVENTS.MOUSE_MOVE, simpleAngle.mouseMoveCallback);\n                        element.addEventListener(EVENTS.MOUSE_DRAG, simpleAngle.mouseMoveCallback);\n                        element.addEventListener(EVENTS.MOUSE_DOWN, simpleAngle.mouseDownCallback);\n\n                        element.addEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, simpleAngle.mouseDownActivateCallback);\n                        cornerstone.updateImage(element);\n\n                        return;\n                    }\n\n                    measurementData.handles.middle1.active = true;\n                    cornerstone.updateImage(element);\n                    moveNewHandle(mouseEventData, toolType, measurementData, measurementData.handles.middle1, function() {\n                        measurementData.active = false;\n                        if (anyHandlesOutsideImage(mouseEventData, measurementData.handles)) {\n                            // Delete the measurement\n                            removeToolState(element, toolType, measurementData);\n\n                            element.addEventListener(EVENTS.MOUSE_MOVE, simpleAngle.mouseMoveCallback);\n                            element.addEventListener(EVENTS.MOUSE_DRAG, simpleAngle.mouseMoveCallback);\n                            element.addEventListener(EVENTS.MOUSE_DOWN, simpleAngle.mouseDownCallback);\n\n                            element.addEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, simpleAngle.mouseDownActivateCallback);\n                            cornerstone.updateImage(element);\n\n                            return;\n                        }\n\n                        measurementData.handles.end.active = true;\n                        cornerstone.updateImage(element);\n\n                        moveNewHandle(mouseEventData, toolType, measurementData, measurementData.handles.end, function() {\n                            measurementData.active = false;\n                            measurementData.handles.start.active = false;\n                            measurementData.handles.middle.active = false;\n                            measurementData.handles.middle1.active = false;\n                            measurementData.handles.end.active = false;\n                            if (anyHandlesOutsideImage(mouseEventData, measurementData.handles)) {\n                                // Delete the measurement\n                                removeToolState(element, toolType, measurementData);\n                            }\n\n                            element.addEventListener(EVENTS.MOUSE_MOVE, simpleAngle.mouseMoveCallback);\n                            element.addEventListener(EVENTS.MOUSE_DRAG, simpleAngle.mouseMoveCallback);\n                            element.addEventListener(EVENTS.MOUSE_DOWN, simpleAngle.mouseDownCallback);\n                            element.addEventListener(EVENTS.MOUSE_DOWN_ACTIVATE, simpleAngle.mouseDownActivateCallback);\n                            cornerstone.updateImage(element);\n                        });\n                    });\n\n                });\n\n        }\n\n\n        const simpleAngle = mouseButtonTool({\n            createNewMeasurement,\n            addNewMeasurement,\n            onImageRendered,\n            pointNearTool,\n            toolType\n        });\n\n        function getMeasurement(data) {\n            return createNewMeasurement(data)\n        }\n        if (!cornerstoneTools.alignment) {\n            cornerstoneTools.alignment = {}\n            for (var i in simpleAngle) {\n                cornerstoneTools.alignment[i] = simpleAngle[i]\n            }\n            //cornerstoneTools.lengths = simpleAngle\n        } else {\n            for (var i in cornerstoneTools.alignment) {\n                cornerstoneTools.alignment[i] = simpleAngle[i]\n            }\n        }\n        cornerstoneTools.alignment.getMeasurement = getMeasurement\n    }\n\n}\nnew lengths();\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/lengths.js","\nclass zoom {\n\n    constructor() {\n        const EVENTS = cornerstoneTools.EVENTS\n        const external = cornerstoneTools.external\n        const simpleMouseButtonTool = cornerstoneTools.simpleMouseButtonTool\n        const touchDragTool = cornerstoneTools.touchDragTool\n        const touchPinchTool = cornerstoneTools.touchPinchTool\n        const mouseWheelTool = cornerstoneTools.mouseWheelTool\n        const getToolOptions = cornerstoneTools.getToolOptions\n        const clipToBox = clipToBoxnow\n        const isMouseButtonEnabled = function(which, mouseButtonMask) {\n            const mouseButton = (1 << (which - 1));\n\n\n            return ((mouseButtonMask & mouseButton) !== 0);\n        }\n\n        const toolType = 'zoom';\n        let startPoints;\n\n        function clip(val, low, high) {\n            // Clip a value to an upper and lower bound.\n            return Math.min(Math.max(low, val), high);\n        }\n\n        function clipToBoxnow(point, box) {\n            // Clip an {x, y} point to a box of size {width, height}\n            point.x = clip(point.x, 0, box.width);\n            point.y = clip(point.y, 0, box.height);\n        }\n\n        function changeViewportScale(viewport, ticks) {\n            const config = zoom.getConfiguration();\n            const pow = 1.7;\n\n            const oldFactor = Math.log(viewport.scale) / Math.log(pow);\n            const factor = oldFactor + ticks*-1;\n\n            const scale = Math.pow(pow, factor);\n\n            if (config.maxScale && scale > config.maxScale) {\n                viewport.scale = config.maxScale;\n            } else if (config.minScale && scale < config.minScale) {\n                viewport.scale = config.minScale;\n            } else {\n                viewport.scale = scale;\n            }\n\n            return viewport;\n        }\n\n        function correctShift(shift, viewport) {\n            // Apply Flips\n            if (viewport.hflip) {\n                shift.x *= -1;\n            }\n\n            if (viewport.vflip) {\n                shift.y *= -1;\n            }\n\n            // Apply rotations\n            if (viewport.rotation !== 0) {\n                const angle = viewport.rotation * Math.PI / 180;\n\n                const cosA = Math.cos(angle);\n                const sinA = Math.sin(angle);\n\n                const newX = shift.x * cosA - shift.y * sinA;\n                const newY = shift.x * sinA + shift.y * cosA;\n\n                shift.x = newX;\n                shift.y = newY;\n            }\n\n            return shift;\n        }\n\n        function defaultStrategy(eventData, ticks) {\n            const cornerstone = external.cornerstone;\n            const element = eventData.element;\n\n            // Calculate the new scale factor based on how far the mouse has changed\n            const viewport = changeViewportScale(eventData.viewport, ticks);\n\n            cornerstone.setViewport(element, viewport);\n\n            // Now that the scale has been updated, determine the offset we need to apply to the center so we can\n            // Keep the original start location in the same position\n            const newCoords = cornerstone.pageToPixel(element, eventData.startPoints.page.x, eventData.startPoints.page.y);\n\n            // The shift we will use is the difference between the original image coordinates of the point we've selected\n            // And the image coordinates of the same point on the page after the viewport scaling above has been performed\n            // This shift is in image coordinates, and is designed to keep the target location fixed on the page.\n            let shift = {\n                x: eventData.startPoints.image.x - newCoords.x,\n                y: eventData.startPoints.image.y - newCoords.y\n            };\n\n            // Correct the required shift using the viewport rotation and flip parameters\n            shift = correctShift(shift, viewport);\n\n            // Apply the shift to the Viewport's translation setting\n            viewport.translation.x -= shift.x;\n            viewport.translation.y -= shift.y;\n\n            // Update the Viewport with the new translation value\n            cornerstone.setViewport(element, viewport);\n        }\n\n        function translateStrategy(eventData, ticks) {\n            const element = eventData.element;\n            const image = eventData.image;\n            const config = zoom.getConfiguration();\n\n            // Calculate the new scale factor based on how far the mouse has changed\n            // Note that in this case we don't need to update the viewport after the initial\n            // Zoom step since we aren't don't intend to keep the target position static on\n            // The page\n            const viewport = changeViewportScale(eventData.viewport, ticks);\n\n            // Define the default shift to take place during this zoom step\n            const shift = {\n                x: 0,\n                y: 0\n            };\n\n            // Define the parameters for the translate strategy\n            const translateSpeed = 8;\n            const outwardsMinScaleToTranslate = 3;\n            const minTranslation = 0.01;\n\n            if (ticks < 0) {\n                // Zoom outwards from the image center\n                if (viewport.scale < outwardsMinScaleToTranslate) {\n                    // If the current translation is smaller than the minimum desired translation,\n                    // Set the translation to zero\n                    if (Math.abs(viewport.translation.x) < minTranslation) {\n                        viewport.translation.x = 0;\n                    } else {\n                        shift.x = viewport.translation.x / translateSpeed;\n                    }\n\n                    // If the current translation is smaller than the minimum desired translation,\n                    // Set the translation to zero\n                    if (Math.abs(viewport.translation.y) < minTranslation) {\n                        viewport.translation.y = 0;\n                    } else {\n                        shift.y = viewport.translation.y / translateSpeed;\n                    }\n                }\n            } else {\n                // Zoom inwards to the current image point\n\n                // Identify the coordinates of the point the user is trying to zoom into\n                // If we are not allowed to zoom outside the image, bound the user-selected position to\n                // A point inside the image\n                if (config && config.preventZoomOutsideImage) {\n                    clipToBox(startPoints.image, image);\n                }\n\n                // Calculate the translation value that would place the desired image point in the center\n                // Of the viewport\n                let desiredTranslation = {\n                    x: image.width / 2 - startPoints.image.x,\n                    y: image.height / 2 - startPoints.image.y\n                };\n\n                // Correct the target location using the viewport rotation and flip parameters\n                desiredTranslation = correctShift(desiredTranslation, viewport);\n\n                // Calculate the difference between the current viewport translation value and the\n                // Final desired translation values\n                const distanceToDesired = {\n                    x: viewport.translation.x - desiredTranslation.x,\n                    y: viewport.translation.y - desiredTranslation.y\n                };\n\n                // If the current translation is smaller than the minimum desired translation,\n                // Stop translating in the x-direction\n                if (Math.abs(distanceToDesired.x) < minTranslation) {\n                    viewport.translation.x = desiredTranslation.x;\n                } else {\n                    // Otherwise, shift the viewport by one step\n                    shift.x = distanceToDesired.x / translateSpeed;\n                }\n\n                // If the current translation is smaller than the minimum desired translation,\n                // Stop translating in the y-direction\n                if (Math.abs(distanceToDesired.y) < minTranslation) {\n                    viewport.translation.y = desiredTranslation.y;\n                } else {\n                    // Otherwise, shift the viewport by one step\n                    shift.y = distanceToDesired.y / translateSpeed;\n                }\n            }\n\n            // Apply the shift to the Viewport's translation setting\n            viewport.translation.x -= shift.x;\n            viewport.translation.y -= shift.y;\n\n            // Update the Viewport with the new translation value\n            external.cornerstone.setViewport(element, viewport);\n        }\n\n        function zoomToCenterStrategy(eventData, ticks) {\n            const element = eventData.element;\n\n            // Calculate the new scale factor based on how far the mouse has changed\n            const viewport = changeViewportScale(eventData.viewport, ticks);\n\n            external.cornerstone.setViewport(element, viewport);\n        }\n\n        function mouseUpCallback(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n\n            element.removeEventListener(EVENTS.MOUSE_DRAG, dragCallback);\n            element.removeEventListener(EVENTS.MOUSE_UP, mouseUpCallback);\n            element.removeEventListener(EVENTS.MOUSE_CLICK, mouseUpCallback);\n        }\n\n        function mouseDownCallback(e) {\n            const eventData = e.detail;\n            const element = eventData.element;\n            const options = getToolOptions(toolType, element);\n\n            if (isMouseButtonEnabled(eventData.which, options.mouseButtonMask)) {\n                startPoints = eventData.startPoints; // Used for translateStrategy\n                element.addEventListener(EVENTS.MOUSE_DRAG, dragCallback);\n                element.addEventListener(EVENTS.MOUSE_UP, mouseUpCallback);\n                element.addEventListener(EVENTS.MOUSE_CLICK, mouseUpCallback);\n\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }\n\n        function dragCallback(e) {\n            const eventData = e.detail;\n\n            if (!eventData.deltaPoints.page.y) {\n                return false;\n            }\n\n            let ticks = eventData.deltaPoints.page.y / 100;\n\n            // Allow inversion of the mouse drag scroll via a configuration option\n            const config = zoom.getConfiguration();\n\n            if (config && config.invert) {\n                ticks *= -1;\n            }\n\n            zoom.strategy(eventData, ticks);\n\n            e.preventDefault();\n            e.stopPropagation();\n        }\n\n        function mouseWheelCallback(e) {\n            const eventData = e.detail;\n            let ticks = -eventData.direction / 4;\n\n            // Allow inversion of the mouse wheel scroll via a configuration option\n            const config = zoom.getConfiguration();\n\n            if (config && config.invert) {\n                ticks *= -1;\n            }\n\n            const viewport = changeViewportScale(eventData.viewport, ticks);\n\n            external.cornerstone.setViewport(eventData.element, viewport);\n        }\n\n        function touchPinchCallback(e) {\n            const eventData = e.detail;\n            const cornerstone = external.cornerstone;\n            const config = zoom.getConfiguration();\n            const viewport = eventData.viewport;\n            const element = eventData.element;\n\n            // Change the scale based on the pinch gesture's scale change\n            viewport.scale += eventData.scaleChange * viewport.scale;\n            if (config.maxScale && viewport.scale > config.maxScale) {\n                viewport.scale = config.maxScale;\n            } else if (config.minScale && viewport.scale < config.minScale) {\n                viewport.scale = config.minScale;\n            }\n\n            cornerstone.setViewport(element, viewport);\n\n            // Now that the scale has been updated, determine the offset we need to apply to the center so we can\n            // Keep the original start location in the same position\n            const newCoords = cornerstone.pageToPixel(element, eventData.startPoints.page.x, eventData.startPoints.page.y);\n            let shift = {\n                x: eventData.startPoints.image.x - newCoords.x,\n                y: eventData.startPoints.image.y - newCoords.y\n            };\n\n            shift = correctShift(shift, viewport);\n            viewport.translation.x -= shift.x;\n            viewport.translation.y -= shift.y;\n            cornerstone.setViewport(element, viewport);\n        }\n\n        const zoom = simpleMouseButtonTool(mouseDownCallback, toolType);\n\n        zoom.strategies = {\n            default: defaultStrategy,\n            translate: translateStrategy,\n            zoomToCenter: zoomToCenterStrategy\n        };\n        zoom.strategy = defaultStrategy;\n         for (var i in cornerstoneTools.zoom) {\n            cornerstoneTools.zoom[i] = zoom[i]\n        }\n        /*const zoomWheel = mouseWheelTool(mouseWheelCallback);\n        const zoomTouchPinch = touchPinchTool(touchPinchCallback);\n        const zoomTouchDrag = touchDragTool(dragCallback, toolType);\n        for (var i in cornerstoneTools.zoom) {\n            cornerstoneTools.zoom[i] = zoom[i]\n        }\n        for (var i in cornerstoneTools.zoom) {\n            cornerstoneTools.zoom[i] = zoom[i]\n        }\n        for (var i in cornerstoneTools.zoom) {\n            cornerstoneTools.zoom[i] = zoom[i]\n        }\n        cornerstoneTools.zoomWheel = zoomWheel\n        cornerstoneTools.zoomTouchPinch = zoomTouchPinch\n        cornerstoneTools.zoomTouchDrag = zoomTouchDrag\n*/\n   }\n}\nnew zoom();\n\n\n// WEBPACK FOOTER //\n// ./app/libs/cornerstoneTools/zoom.js","require(\"./mpr.less\")\nclass progress extends Interstellar.moduleBase {\n  constructor(app, value, api, addMode) {\n    super(app, value, api, addMode)\n    this.html = require('./tpl.html')\n    this.name = 'mpr'\n    this.screen = 3\n    let imageS = require('./makeJPG.js')\n    this.modelImage = new imageS()\n    this.imageList\n    require.ensure(\"../../utils/cornerstone_class.js\", () => {  \n      this.class_c = require(\"../../utils/cornerstone_class.js\")\n    })\n    this.cornerstoneArray = new Array(3)\n    this.crossArray = new Array(3)\n    console.log(this.initDate.info)\n    let info = this.initDate.info.info.data\n    window.targetInfo = {\n      wc: info.firstWindowCenter,\n      ww: info.firstWindowWidth,\n      columnPixelSpacing: info.pixelSpacing[0],\n      rowPixelSpacing: info.pixelSpacing[1]\n    }\n    if (this.initDate.info.people[1] && this.initDate.info.people[2]) {\n      window.depth = Math.abs(this.initDate.info.people[1].imagePositionPatient[2] - this.initDate.info.people[2].imagePositionPatient[2])\n    } else {\n      window.depth = info.pixelSpacing[0]\n    }\n    this.crossline = require('../crossline/crossline.js')\n  }\n  complete() {\n    this.dom.find('.close_btn').on('click', () => {\n      this.close()\n    })\n  }\n  openS(value, nodeInfo, brush) {\n    this.dom.show()\n    this.modelImage.imageList(value)\n    this.nodeInfo = nodeInfo\n    this.brushManage = brush\n    this.modelImage.event._addEvent('makeJPG.finish', () => {\n      this.app.loading.hide()\n      this.xUrl = this.modelImage.xUrl\n      this.yUrl = this.modelImage.yUrl\n      this.zUrl = this.modelImage.zUrl\n     // console.log(this.xUrl)\n      this.point = { x: Math.floor(this.modelImage.width / 2), y: Math.floor(this.modelImage.height / 2), z: Math.floor(this.modelImage.zUrl.length / 2) }\n      this.loadAll()\n    })\n    //this.don\n  }\n  loadAll() {\n    this.nowWWC = []\n    this.loadSing(0, this.zUrl, 'z')\n    this.loadSing(1, this.yUrl, 'y')\n    this.loadSing(2, this.xUrl, 'x')\n  }\n  loadSing(id, xy, type) {\n    let imageAddress = xy\n    let box = this.dom.find('#cb' + id).box()\n    let that = this\n    let firse = false\n    if (this.modelImage.type == 'jpg') {\n      let max = this.initDate.info.info.data.firstWindowCenter + this.initDate.info.info.data.firstWindowWidth / 2\n      let min = this.initDate.info.info.data.firstWindowCenter - this.initDate.info.info.data.firstWindowWidth / 2\n      let mindata = this.initDate.info.info.wwc.low * 1\n      let range = this.initDate.info.info.wwc.hight * 1 - this.initDate.info.info.wwc.low * 1\n      let minS = 255 * (min - mindata) / range\n      let maxS = 255 * (max - mindata) / range\n      //console.log(minS, maxS)\n      this.nowWWC[id] = { c: (minS + maxS) / 2, w: (maxS - minS) }\n    }\n    this.crossArray[id] = this.app.loadModule(this.crossline, this.dom.find('.cb' + id + ' .line'))\n    this.crossArray[id].type = type\n    this.crossArray[id].setPos({ x: 0, y: 0 })\n    this.crossArray[id].setYHeight(box.clientHeight)\n    this.crossArray[id].event._addEvent('crossline.move', () => {\n      this.crossmove = true\n      if (this.cornerstoneArray[id]) {\n        //console.log(this.crossArray[id].nowpos, this.cornerstoneArray[id].getViewport(), this.dom.find('#cb' + id).box(), type)\n        this.changePOint(this.crossArray[id].nowpos, this.cornerstoneArray[id].getViewport(), this.dom.find('#cb' + id).box(), type)\n      }\n    })\n    this.crossArray[id].event._addEvent('crossline.mouseup', () => {\n      this.crossmove = false\n    })\n    this.cornerstoneArray[id] = new this.class_c({\n      element: this.dom.find('#cb' + id).dom[0].dom,\n      totalImage: xy.length,\n      imageAddress: xy,\n      index: 0,\n      type: \"JPG\"\n    })\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.cornerstonetoolsmousemove', function (value) { })\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.ImageRendered', function (value) {\n      // console.log(imageAddress[value.currentCount * 1],'===========')\n      let who = ES.selctorDoc(value.element).parent()\n      let nowId = ES.selctorDoc(value.element).attr('id').replace('cb', '') * 1\n      let layers = imageAddress[value.currentCount * 1].match(/\\d{1,}/g)[0] * 1 + 1 //Tool.changeToName(imageAddress[value.currentCount * 1], 'jpg')\n      that.dom.find('.cb' + id + ' .layer').html(layers + '/' + xy.length)\n      that.dom.find('.cb' + id + ' .sc').html(that.cornerstoneArray[id].getViewport().scale.toFixed(2))\n      if (firse) {\n        that.point[type] = layers\n      } else {\n        let nowVO = that.cornerstoneArray[id].getViewport().voi\n        if (that.nowWWC[id]) {\n          if (nowVO.windowCenter != that.nowWWC[id].c || nowVO.windowWidth != that.nowWWC[id].w) {\n            that.lungWindown(that.nowWWC[id].c, that.nowWWC[id].w, id)\n          }\n        }\n        firse = true\n      }\n      if (!that.crossmove) {\n        that.renderXYZ()\n      }\n      //console.log(that.nowWWC[id], 'that.nowWWC[id]that.nowWWC[id]that.nowWWC[id]', nowVO)\n\n      if (type == 'z') {\n        let aa = cornerstone.pixelToCanvas(value.element, { x: 0, y: 0 })\n        let allmove = cornerstone.getViewport(value.element)\n        let brushInfoAll = that.brushManage.brushInfo[layers] ? that.brushManage.brushInfo[layers] : {}\n        let brushNodes = {}\n        for (let i in brushInfoAll) {\n          if (brushInfoAll[i].sId == that.sId) {\n            brushNodes[i] = brushInfoAll[i]\n          }\n        }\n        for (let bid in brushNodes) {\n          if (brushNodes[bid].image) {\n            let image = brushInfoAll[bid].image\n            value.canvasContext.drawImage(brushInfoAll[bid].image, 0, 0)\n          }\n        }\n        let nodeA = (that.nodeInfo ? that.nodeInfo[layers] : [])\n        //console.log(value)\n        nodeA = nodeA ? nodeA : []\n        let fliterNodes = nodeA.filter((item) => {\n          return item.sId == that.sId\n        })\n        for (var i = 0; i < fliterNodes.length; i++) {\n          let ctx = value.canvasContext\n          ctx.beginPath();\n          ctx.mozImageSmoothingEnabled = false;\n          ctx.lineWidth = Math.floor(value.image.columns / 512)\n          ctx.strokeStyle = '#f00';\n          if (that.chooseNidus) {\n            if (that.chooseNidus.uuid == fliterNodes[i].nodeInfo.uuid || that.chooseNidus.id == fliterNodes[i].nodeInfo.uuid) {\n              ctx.strokeStyle = '#0ff';\n            }\n          }\n          let handles = fliterNodes[i].nodeInfo.handles\n          switch (fliterNodes[i].type) {\n            case \"rectangleRoi\":\n              let w = Math.abs((handles.end.x - handles.start.x))\n              let h = Math.abs((handles.end.y - handles.start.y))\n              let minx = Math.min(handles.end.x, handles.start.x)\n              let miny = Math.min(handles.end.y, handles.start.y)\n              ctx.strokeRect(minx, miny, w, h)\n              ctx.stroke();\n              break\n            case \"ellipticalRoi\":\n              let rx = (handles.start.x + handles.end.x) / 2\n              let ry = (handles.start.y + handles.end.y) / 2\n              let r = Math.max(Math.abs((handles.end.x - handles.start.x) / 2), Math.abs((handles.end.y - handles.start.y) / 2))\n              //ctx.ellipse(rx, ry, w / 2, h / 2, angle, 0, 2 * Math.PI);\n              ctx.arc(rx, ry, r, 0, 2 * Math.PI, false);\n              ctx.stroke();\n              break\n            case \"length\":\n              ctx.moveTo(handles.start.x, handles.start.y)\n              ctx.lineTo(handles.end.x, handles.end.y)\n              ctx.stroke();\n              break\n            case \"simpleAngle\":\n              ctx.moveTo(handles.start.x, handles.start.y)\n              ctx.lineTo(handles.middle.x, handles.middle.y)\n              ctx.lineTo(handles.end.x, handles.end.y)\n              ctx.stroke();\n              break\n          }\n        }\n      }\n    })\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.ModifiedFinsh', function (value) { })\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MeasurementEnd', function (value) { })\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.brushDown', function (value) { })\n\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.click', function (value) { })\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.mousedown', function (value) { })\n\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MouseDrag', function (value) { })\n\n    //标注移除\n    this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MeasurementRemove', function (value) { })\n  }\n  lungWindown(c, w, id) {\n    //console.log(c, w)\n    if (c == null || w == null) {\n      c = 128 //this.cornerstoneArray[this.choosescreen].colcDefault\n      w = 256 //this.cornerstoneArray[this.choosescreen].colwDefault\n    }\n    this.nowWWC[id] = {\n      c: c,\n      w: w\n    }\n    if (!this.cornerstoneArray[id]) {\n      return\n    }\n\n    this.cornerstoneArray[id].lungWindown(c, w);\n    this.nowWWC[id] = {\n      c: this.cornerstoneArray[id].getViewport().voi.windowCenter,\n      w: this.cornerstoneArray[id].getViewport().voi.windowWidth\n    } //this.cornerstoneArray[this.choosescreen].getViewport()\n  }\n  close() {\n    //this.dom.html('')\n    this.modelImage.clearAllData()\n    this.xUrl = this.yUrl = this.zUrl = null\n    for (let i = 0; i < 3; i++) {\n      if (this.cornerstoneArray[i]) {\n        this.dom.find('.cb' + i + ' .line').remove()\n        this.cornerstoneArray[i].close()\n        this.cornerstoneArray[i] = null\n        //console.log('aaaaa')\n        //this.dom.find('.cb' + i + ' .line').remove()\n        // this.dom.find('.cb' + i).append('<div class=\"line\"></div>')\n      }\n    }\n    //this.bin = null\n    this.event._dispatch('mpr.closeAll')\n  }\n  defaultFunction(name) {\n    let funName = name\n    if (funName != \"restFan\" && funName != \"clearFan\" && funName != \"resizeCon\" && funName != \"wlFan\" && funName != 'zoomFan') {\n      funName = \"\"\n    }\n    for (let i = 0; i < 3; i++) {\n      if (this.cornerstoneArray[i]) {\n        eval('this.cornerstoneArray[i].' + funName + '()')\n      }\n    }\n  }\n  renderXYZ() {\n    let atype = ['z', 'y', 'x']\n    for (let i = 0; i < 3; i++) {\n      let layer = this.dom.find('.cb' + i + ' .layer').html().split('/')[0]\n      // console.log(layer)\n      if (layer) {\n        //console.log(this.point[atype[i]])\n        if (layer != this.point[atype[i]]) {\n          //console.log('===')\n          this.cornerstoneArray[i].funcNodule(this.point[atype[i]])\n        }\n      }\n\n      let box = this.dom.find('#cb' + i).box()\n      let getViewport = this.cornerstoneArray[i].getViewport()\n      //console.log(cornerstone.pixelToCanvas(this.cornerstoneArray[id].element,getViewport.translation))\n      if (atype[i] == 'z') {\n        this.crossArray[i].setPos(this.returnXY({ x: this.point.x, y: this.point.y }, getViewport, box))\n      }\n      if (atype[i] == 'y') {\n        let ratex = window.depth / window.targetInfo.columnPixelSpacing\n        this.crossArray[i].setPos(this.returnXY({ x: this.point.x, y: (this.point.z - 1) * ratex }, getViewport, box))\n      }\n      if (atype[i] == 'x') {\n        let ratey = window.depth / window.targetInfo.rowPixelSpacing\n        this.crossArray[i].setPos(this.returnXY({ x: this.point.y, y: (this.point.z - 1) * ratey }, getViewport, box))\n      }\n    }\n  }\n  changePOint(point, getViewport, box, type) {\n    let stPos = this.getStartPos(getViewport, box)\n    let x = Math.floor((point.x - stPos.x) / getViewport.scale)\n    let y = Math.floor((point.y - stPos.y) / getViewport.scale)\n    let rate = type == 'y' ? (window.depth / window.targetInfo.rowPixelSpacing) : (window.depth / window.targetInfo.columnPixelSpacing)\n    rate = rate < 1 ? 1 : rate\n    switch (type) {\n      case 'z':\n        this.point.x = x\n        this.point.y = y\n        break\n      case 'y':\n        this.point.x = x\n        this.point.z = Math.floor(y / rate)\n        break\n      case 'x':\n        this.point.y = x\n        this.point.z = Math.floor(y / rate)\n        break\n    }\n    this.renderXYZ()\n  }\n  getStartPos(getViewport, box) {\n    let orw = getViewport.displayedArea.brhc.x\n    let orh = getViewport.displayedArea.brhc.y\n    let x = 0\n    let y = 0\n    if (orw / orh > box.clientWidth / box.clientHeight) {\n      y = (box.clientHeight - box.clientWidth * orh / orw) / 2\n    } else {\n      x = (box.clientWidth - box.clientHeight * orw / orh) / 2\n    }\n    return { x, y }\n  }\n  returnXY(point, getViewport, box) {\n    let stPos = this.getStartPos(getViewport, box)\n    //console.log(stPos,'stPosstPosstPosstPos',getViewport, box,point)\n    let x = Math.floor(stPos.x + (getViewport.translation.x + point.x) * getViewport.scale)\n    let y = Math.floor(stPos.y + (getViewport.translation.y + point.y) * getViewport.scale)\n    //console.log(x, y)\n    stPos = null\n    return { x, y }\n  }\n  resize(w, h) {\n    this.dom.find('#cb0').css({ width: (w / 2 - 2), height: h - 2 })\n    this.dom.find('#cb1').css({ width: (w / 2 - 3), height: h / 2 - 2 })\n    this.dom.find('#cb2').css({ width: (w / 2 - 3), height: h / 2 - 2 })\n    for (let i = 0; i < 3; i++) {\n      if (this.cornerstoneArray[i]) {\n        this.cornerstoneArray[i].resizeCon()\n      }\n    }\n  }\n  renderAllLayer() {\n    for (let i = 0; i < 3; i++) {\n      let layer = this.dom.find('.cb' + i + ' .layer').html().split('/')[0]\n      if (layer) {\n        this.cornerstoneArray[i].funcNodule(layer)\n      }\n    }\n  }\n  nidusChoose(value) {\n    this.chooseNidus = value\n    this.renderAllLayer()\n  }\n\n}\nmodule.exports = progress;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/mpr/mpr.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./mpr.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./mpr.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./mpr.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/mpr/mpr.less\n// module id = 676\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mprc {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  background: #000;\\n}\\n.mprc .close_btn {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  color: #fff;\\n  font-size: 12px;\\n}\\n.mprc .line {\\n  position: absolute;\\n  -webkit-touch-callout: none;\\n  /* iOS Safari */\\n  -webkit-user-select: none;\\n  /* Chrome/Safari/Opera */\\n  -khtml-user-select: none;\\n  /* Konqueror */\\n  -moz-user-select: none;\\n  /* Firefox */\\n  -ms-user-select: none;\\n  /* Internet Explorer/Edge */\\n  user-select: none;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n}\\n.mprc .le,\\n.mprc .ri {\\n  position: relative;\\n  width: 50%;\\n  height: 100%;\\n}\\n.mprc .c_fbb03b {\\n  border: 1px solid #1f474c;\\n  position: relative;\\n}\\n.mprc .c_fbb03b .wwc {\\n  position: absolute;\\n  bottom: 35px;\\n  right: 10px;\\n}\\n.mprc .c_fbb03b .layer {\\n  position: absolute;\\n  bottom: 10px;\\n  right: 10px;\\n}\\n.mprc .c_fbb03b .sc {\\n  position: absolute;\\n  left: 10px;\\n  right: 10px;\\n}\\n.mprc .cb0 {\\n  height: 100%;\\n}\\n.mprc .cb0 .c0 {\\n  height: 100%;\\n}\\n.mprc .cb0 #cb0 {\\n  height: 100%;\\n}\\n.mprc .cb1 {\\n  height: 50%;\\n}\\n.mprc .cb1 .c1 {\\n  height: 100%;\\n}\\n.mprc .cb1 #cb1 {\\n  height: 100%;\\n}\\n.mprc .cb2 {\\n  height: 50%;\\n}\\n.mprc .cb2 .c2 {\\n  height: 100%;\\n}\\n.mprc .cb2 #cb2 {\\n  height: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/mpr/mpr.less\n// module id = 677\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=mprc> <div class=\\\"fl le\\\"> <div class=\\\"c_fbb03b cb0\\\"> <div class=\\\"w50_ pr c0\\\"> <div id=cb0></div> <div class=line></div> </div> <p class=xyz></p> <p class=sc></p> <p class=wwc></p> <p class=layer></p> </div> </div> <div class=\\\"fl ri\\\"> <div class=\\\"c_fbb03b cb1\\\"> <div class=\\\"w50_ pr c1\\\"> <div id=cb1></div> <div class=line></div> </div> <p class=xyz></p> <p class=sc></p> <p class=wwc></p> <p class=layer></p> </div> <div class=\\\"c_fbb03b cb2\\\"> <div class=\\\"w50_ pr c2\\\"> <div id=cb2></div> <div class=line></div> </div> <p class=xyz></p> <p class=sc></p> <p class=wwc></p> <p class=layer></p> </div> </div> <div style=clear:both></div> <p class=close_btn><span>x</span></p> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/mpr/tpl.html\n// module id = 678\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","class MakeJPG {\n    constructor() {\n        this.event = new Interstellar.event()\n    }\n    imageList(imgaeIds) {\n        this.len = imgaeIds.length\n        //this.len = 5\n        this.count = 0\n        this.type = \"jpg\"\n        this.startNum = 0\n        if (imgaeIds[0].toLocaleLowerCase().lastIndexOf('.dcm') != -1) {\n            this.type = 'dcm'\n        }\n        window.imageList = new Array(this.len)\n        this.zUrl = new Array(this.len)\n        for (let i = 0; i < this.len; i++) {\n            this.zUrl[i] = (this.type == 'jpg' ? (\"glayImage:z\" + i) : (\"pixImage:z\" + i))\n        }\n        if (this.type == 'jpg') {\n            this.jpgParse(imgaeIds, 0)\n        } else {\n            this.fiveLoad(imgaeIds)\n        }\n    }\n    fiveLoad(urls) {\n        this.count = 0\n        this.fiveL = 0\n        for (let i = this.startNum; i < this.startNum + 5; i++) {\n            console.log(i)\n            this.dcmParse(urls, i)\n        }\n    }\n    dcmParse(url, num) {\n        let that = this\n        if (num > this.len - 1) {\n            return\n        }\n        if (!url[num]) {\n            return\n        }\n        this.fiveL++\n        let div = document.createElement('div')\n        cornerstone.enable(div);\n        console.log(url[num])\n        cornerstone.loadImage(url[num]).then(function(image) {\n            console.log(image)\n            that.count++\n            that.startNum++\n            if (!window.imageList[num]) {\n                window.imageList[num] = new Array(image.columns);\n            }\n            if (num == 0) {\n                that.urlAddress(image.columns, image.rows)\n            }\n            if (!that.z) {\n                that.z = []\n            }\n            that.width = image.columns\n            that.height = image.rows\n            that.z[num] = image.data.string('x00200032').match(/(\\-|\\+)?\\d+(\\.\\d+|\\d)/g)[2]\n            //console.log(num,that.z[num],image.data.string('x00200032'))\n            //console.log(image)\n            window.targetInfo = {\n                wc: image.data.string('x00281050').match(/(\\-|\\+)?\\d+/g)[0],\n                ww: image.data.string('x00281051').match(/(\\-|\\+)?\\d+/g)[0],\n                columnPixelSpacing: image.columnPixelSpacing,\n                rowPixelSpacing: image.rowPixelSpacing\n            }\n            let arrData = image.getPixelData()\n            for (let i = 0; i < arrData.length; i++) {\n                let row = Math.floor(i / image.columns)\n                if (!window.imageList[num][row]) {\n                    window.imageList[num][row] = new Int16Array(image.columns)\n                }\n                let HUDATA = arrData[i] * image.slope + image.intercept\n                window.imageList[num][row][Math.floor(i % image.columns)] = HUDATA\n                window.targetInfo.min = window.targetInfo.min ? (window.targetInfo.min < HUDATA ? window.targetInfo.min : HUDATA) : HUDATA\n                window.targetInfo.max = window.targetInfo.max ? (window.targetInfo.max > HUDATA ? window.targetInfo.max : HUDATA) : HUDATA\n            }\n            cornerstone.disable(div)\n            if (that.count != that.fiveL) {\n                return\n            }\n            if (that.startNum < that.len - 1) {\n                that.fiveLoad(url)\n            } else {\n                window.depth = Math.abs(that.z[0] - that.z[1])\n                //console.log(window.depth,window.targetInfo)\n                that.event._dispatch('makeJPG.finish')\n            }\n            //console.log(window.imageList)\n        })\n\n    }\n    jpgParse(url, num) {\n        let that = this\n        if (!url[num]) {\n            return\n        }\n        let imgase = new Image()\n        imgase.crossOrigin = 'anonymous';\n        imgase.onload = function() {\n            that.count++\n            let canvas = document.createElement(\"CANVAS\");\n            that.width = this.width\n            that.height = this.height\n            canvas.setAttribute(\"width\", this.width);\n            canvas.setAttribute(\"height\", this.height);\n            if (num == 0) {\n                that.urlAddress(this.width, this.height)\n            }\n            if (!window.imageList[num]) {\n                window.imageList[num] = new Array(this.height);\n            }\n            let ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(this, 0, 0)\n            let imageData = ctx.getImageData(0, 0, this.width, this.height).data\n            let lengthWH = imageData.length / 4\n            for (let i = 0; i < lengthWH; i++) {\n                let row = Math.floor(i / this.width)\n                if (!window.imageList[num][row]) {\n                    window.imageList[num][row] = new Uint8Array(this.width)\n                }\n                window.imageList[num][row][Math.floor(i % this.width)] = imageData[i * 4]\n            }\n            ctx = null\n            imageData = null\n            canvas = null\n            if (that.count < that.len) {\n\n            } else {\n                //console.log(window.imageList)\n                that.event._dispatch('makeJPG.finish')\n            }\n        }\n        imgase.onerror = function() {\n            console.log('error')\n        }\n        imgase.src = url[num].replace('myImageLoader:', '')\n        this.jpgParse(url, num + 1)\n    }\n    urlAddress(w, h) {\n        //x,y代表的是沿着那个方向切\n        this.xUrl = new Array(w)\n        this.yUrl = new Array(h)\n        for (let i = 0; i < w; i++) {\n            this.xUrl[i] = (this.type == 'jpg' ? (\"glayImage:x\" + i) : (\"pixImage:x\" + i))\n        }\n        for (let j = 0; j < h; j++) {\n            this.yUrl[j] = (this.type == 'jpg' ? (\"glayImage:y\" + j) : (\"pixImage:y\" + j))\n        }\n\n    }\n    clearAllData() {\n        window.imageList = null\n        window.wwc = null\n        window.depth = null\n        this.xUrl = this.yUrl = this.zUrl = this.len = null\n    }\n\n}\nmodule.exports = MakeJPG;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/mpr/makeJPG.js","require(\"./sequencelist.less\");\n\n/**/\nclass sequencelist extends Interstellar.moduleBase {\n    constructor(app, dom, value, addMore) {\n        super(app, dom, value, addMore)\n        this.html = require('./tpl.html')\n        this.cornerstoneArray = {}\n        this.myScrollgood = null\n        this.deferred = ES.Deferred()\n        this.chooseData = {}\n        this.loadAll = {}\n        this.loadId = 0\n        this.nowplayData = null\n        this.listData = null\n        this.currentSid = ''\n        // 默认根据病灶类型来归类排序\n        this.isSortByDoctor = false\n    }\n    complete() {\n      const that = this\n      const sortBtnDom = that.dom.find('.sort-wrapper .sort-btn')\n      sortBtnDom.on('click',function () {\n        if (that.isSortByDoctor) {\n          that.sortNidusList('doctorname')\n          sortBtnDom.html('按病灶排序')\n        } else {\n          that.sortNidusList('niddtype')\n          sortBtnDom.html('按医生排序')\n        }\n      })\n    }\n    /**\n     * 将最左侧的病灶列表进行归类，并且每个归类内部按照该病灶所属的层数排序\n     * @param { String } sortBy 按照什么字段归类\n     */\n    sortNidusList(sortBy) {\n      setTimeout(() => {\n        // 获取当前序列下所有的病灶列表\n        const nidusDomList = $(`.sequencelist .nodeInfolist div[sid=\"${this.currentSid}\"]`).get()\n        // 先排序(按照列表中每个对象的sortBy属性归类排序)\n        nidusDomList.sort((a, b) => {\n          const $a = $(a)\n          const $b = $(b)\n          const sortByAttrA = $a.attr(sortBy)\n          const sortByAttrB = $b.attr(sortBy)\n          if (sortByAttrA === sortByAttrB) {\n            // 相同归类内部按照该病灶所属的层数排序\n            return Number($a.attr('layerinfo')) - Number($b.attr('layerinfo'))\n          } else {\n            // 不同归类之间按照sortBy的值的首字符Unicode编码来排序\n            return sortByAttrA.charCodeAt() - sortByAttrB.charCodeAt()\n          }\n        })\n        // 再给每个归类添加归类名称\n        const tempObj = {} // 临时对象用来判断在每个归类内的第一项上方加入归类名称\n        nidusDomList.forEach((item) => {\n          const $item = $(item)\n          // 先将原来可能存在的所有归类名称都删掉\n          $item.find('div.item-wrapper').prev().remove()\n          let sortByAttr = $item.attr(sortBy)\n          if (!tempObj[sortByAttr]) {\n            tempObj[sortByAttr] = true\n            sortBy === 'niddtype' && (sortByAttr = Tool.configobjformat(this.app.constmap.LESION)[sortByAttr]) // 如按照病灶类型归类，还需将类似'ANNO1'这种名称转换成'骨折点'中文，不然用户看不懂\n            $item.prepend('<div class=\"group-name\">' + sortByAttr + '：</div>') // 在每个归类的上方添加归类名称\n          }\n        })\n        $(\".sequencelist .nodeInfolist\").append(nidusDomList);\n        this.isSortByDoctor = !this.isSortByDoctor\n        // this.initscrollgood()\n        this.scrollToChooseItem()\n      }, 300);\n    }\n    // 滚动到之前已选中的选项\n    scrollToChooseItem() {\n        if (!this.myScrollgood) return\n        const chooseDom = $('.sequencelist .nodeInfo .choose')\n        if (!chooseDom.length) return\n        const containerHeight = $('.nodeInfo').height()\n        const top = chooseDom.offset().top\n        // 在可视范围内不需滚动\n        if (top >= 166 && top <= containerHeight + 166) return\n        this.myScrollgood.scrollToElement('.sequencelist .nodeInfolist .choose', 100)\n    }\n    showNowData(sId) {\n        this.currentSid = sId\n        if (!sId) {\n            this.dom.find('.nodeInfo')\n        } else {\n            this.dom.find('.nodeInfo .nodeInfolist>div').hide()\n            console.log(this.dom.find('.nodeInfo .nodeInfolist>div').dom)\n            if(!this.dom.find('.nodeInfo .nodeInfolist>div').dom){\n                return\n            }\n            this.dom.find('.nodeInfo .nodeInfolist>div').dom.map((item)=>{\n                if(item.attr('sid').lastIndexOf(sId)!=-1){\n                    item.show()\n                }\n            })\n          //  this.dom.find('.nodeInfo .nodeInfolist>div[sid=\"' + sId + '\"]').show()\n            this.initscrollgood()\n            this.handleSortBtnVisible()\n        }\n    }\n    handleSortBtnVisible() {\n      const url = window.location.hash\n      if (url.includes('markaudit/') || url.includes('markauditview/')) {\n        $(\".sort-wrapper\").css({ display: 'block' }).find('.sort-btn').trigger('click')\n      }\n    }\n    updateSequencelistSid(value){\n        this.dom.find('div[bid=\"' + value.id + '\"]').attr('sid', value.sId)\n    }\n    setData(value, childrens) {\n        const data = this.listData = value\n        this.dom.find('.sequencelist').html('')\n        for (let i = 0; i < data.length; i++) {\n            this.initsingle(i, data[i])\n        }\n        // this.sortSequenceList(childrens, 'type')\n        for (let i = 0; i < childrens.length; i++) {\n            this.addNode(childrens[i])\n        }\n    }\n    sortSequenceList(list, sortBy) {\n      if (!list || !list.length) return\n      list.sort((a, b) => {\n        if (a[sortBy] === b[sortBy]) {\n          return a.layerNumber - b.layerNumber\n        } else {\n          return a[sortBy].charCodeAt() - b[sortBy].charCodeAt()\n        }\n      })\n    }\n    setLayerInfo(value, layer) {\n        this.dom.find('div[bid=\"' + value.id + '\"]').attr('layerinfo', layer)\n        this.dom.find('div[bid=\"' + value.id + '\"] .edit_color ul').attr('layerinfo', layer)\n    }\n    setBackId(value) {\n        //console.log(value, 'valuevaluevaluevaluevaluevalue')\n        let dom = this.dom.find(\"div[uuid='\" + value.uuid + \"']\")\n            //value.uuid = value.backId\n        dom.attr('bid', value.backId)\n        dom.addClass('one_' + value.backId)\n            //console.log(dom.find('.cul').dom)\n        if (dom.find('.cul').dom) {\n            dom.find('.cul').attr('bid', value.backId)\n        }\n        //dom.find('.cul').attr('bid', value.backId)\n        // dom.attr('uuid', value.backId)\n        dom.find('.nname').click()\n        const temp = Tool.configobjformat(this.app.constmap.LESION)\n        let nidusDesc = temp[value.toolType.imageAnnotation] + '_' + value.backId\n        const tempHandles = value.handles\n        console.log('我去你个巴子1', tempHandles)\n        tempHandles && (nidusDesc += `(${tempHandles.length})`)\n        dom.find('.nname').html(nidusDesc)\n    }\n\n    openNode(value) {\n        this.dom.find(\"div[bid='\" + value.id + \"'] .nname\").click()\n    }\n    addNode(value) {\n      switch (value.type) {\n            case \"length\":\n                this.addNormal(value, \"nobrush\")\n                break\n            case \"freehandline\":\n                this.addNormal(value, \"nobrush\")\n                break\n            case \"brush\":\n                this.addNormal(value, \"brush\")\n                break\n            case \"rectangleRoi\":\n                this.addNormal(value, \"nobrush\")\n                break\n            case \"ellipticalRoi\":\n                this.addNormal(value, \"nobrush\")\n                break\n            case \"simpleAngle\":\n                this.addNormal(value, \"nobrush\")\n                break\n            case \"lengths\":\n                this.addNormal(value, \"nobrush\")\n                break\n            case \"cobb\":\n                this.addNormal(value, \"nobrush\")\n                break\n            case \"alignment\":\n                this.addNormal(value, \"nobrush\")\n                break\n            case \"magicStickSingle\":\n                this.addNormal(value, \"brush\")\n                break\n            case \"polygon\":\n                this.addNormal(value, \"brush\")\n                break\n            case \"freehand\":\n                this.addNormal(value, \"brush\")\n                break\n            case \"quickselect\":\n                this.addNormal(value, \"brush\")\n                break\n            case \"regionpaint\":\n                this.addNormal(value, \"brush\")\n                break\n        }\n    }\n    returnAnno(value) {\n        return this.dom.find('div[bid=\"' + value.backId + '\"]').attr('niddtype')\n    }\n    removeNode(value) {\n        let dom = this.chooseData.element\n        let classname = 'one_' + (value.backId || value.uuid)\n        dom.find('.nodeInfo .nodeInfolist .' + classname).remove()\n        // 已经标注过的序列再删除病灶，当所有病灶删完时在其缩略图右上角需显示的icon标记也需删除\n        this.event._dispatch('serieslist.removeMarkedIcon')\n        this.initscrollgood()\n    }\n    setNname(id, name) {\n        this.dom.find('div[bid=\"' + id + '\"] .nname').html(name)\n    }\n    addNormal(value, brushtype) {\n        let dom = this.chooseData.element\n        let classname = 'one_' + value.uuid //.layerNumber\n        let li = dom.find('.nodeInfo .' + classname)\n        let that = this\n        // dom.find('.nodeInfo .choose').removeClass('choose')\n        let temp = Tool.configobjformat(this.app.constmap.LESION)\n        //'AA1113', 'F5A623', 'F8E71C', '7ED321', '4A90E2', '50E3C2', '8B572A', '417505', 'B8E986', 'BD10E0'\n        let colorArray = ['AA1113', 'F5A623', 'F8E71C', '7ED321', '4A90E2', '50E3C2', '8B572A', '417505', 'B8E986', 'BD10E0']\n        if (!li.dom) {\n            let htmlstr = `<div sId=\"` + value.sId + `\" bid=\"` + (value.backId ? value.backId : \"\") + `\" niddtype=\"` + value.toolType.imageAnnotation + `\" uuid=\"` + value.uuid + `\" toolType=\"` + (value.imageAnnotationToolType || value.tooltype) + `\" layerInfo=\"` + value.layerNumber + `\" doctorname=\"` + value.doctorName + `\" class=\"` + classname + `\"><div class=\"item-wrapper\">`\n            if (brushtype == 'brush') {\n                htmlstr += `<div class=\"edit_color\"><span class=\"color_c c1\"></span><ul class=\"cul\" sId=\"${value.sId}\" bid=\"${(value.backId ? value.backId : \"\")}\" uuid=\"${value.uuid}\" layerInfo=\"${value.layerNumber}\">`\n                for (var i = 0; i < colorArray.length; i++) {\n                    htmlstr += `<li class=\"color_li\" name=\"${colorArray[i]}\" data=\"${colorArray[i]}\">\n                    <span class=\"cc c${(i + 1)}\"></span>\n                    <span class=\"textc\">${colorArray[i]}</span>\n                    </li>`\n                }\n                htmlstr += `</ul></div><span class='fillcon iconfont icon-danxinggoumian1' title=\"去除填充\" cc=\"fill\"></span>`\n            }\n            htmlstr += `<p class=\"nname\">${temp[value.toolType.imageAnnotation]}_${value.uuid}`\n            const markResult = value.result || {}\n            console.log('我去你个巴子2', markResult)\n            const markResultValue = markResult.length // || markResult.angle\n            markResultValue && (htmlstr += `(${markResultValue})`)\n            htmlstr += `</p><span class='showHide chooseIcon iconfont icon-biyan1'></span>`\n            if (this.app.parpam['type'].lastIndexOf(\"viewer\") == -1 && this.app.parpam['type'].lastIndexOf(\"check\") == -1) {\n                htmlstr += `<span class=\"del\"><i class=\"iconfont icon-shanchu\" enable=\"enable\"></i></span>`\n            }\n            htmlstr += `</div></div>`\n            dom.find('.nodeInfolist').append(htmlstr)\n            dom.find('.' + classname + ' .nname').on('click', function() {\n                that.btnClick(ES.selctorDoc(this).parent().parent(), brushtype)\n            })\n            dom.find('.' + classname + ' .showHide').on('click', function() {\n                let childrenDom = ES.selctorDoc(this)\n                let targetA = childrenDom.parent().parent()\n                let cc = true\n                if (childrenDom.hasClass(\"icon-biyan1\")) {\n                    childrenDom.removeClass(\"icon-biyan1\")\n                    childrenDom.addClass(\"icon-biyan\")\n                    cc = false\n                } else {\n                    childrenDom.addClass(\"icon-biyan1\")\n                    childrenDom.removeClass(\"icon-biyan\")\n                    cc = true\n                }\n                that.event._dispatch('sequencelist.closeWho', {\n                    show: cc,\n                    uuid: targetA.attr('uuid'),\n                    sId: targetA.attr('sId'),\n                    bid: targetA.attr('bid'),\n                    tooltype: targetA.attr('toolType'),\n                    layerNumber: targetA.attr('layerInfo')\n                })\n            })\n            dom.find('.' + classname + ' .fillcon').on('click', function() {\n                let childrenDom = ES.selctorDoc(this)\n                let targetA = childrenDom.parent().parent()\n                let cc = true\n                if (childrenDom.attr(\"cc\") == \"fill\") {\n                    childrenDom.removeClass(\"icon-danxinggoumian1\")\n                    childrenDom.addClass(\"icon-danxinggoumian\")\n                    childrenDom.attr(\"cc\", \"none\")\n                    cc = false\n                } else {\n                    childrenDom.attr(\"cc\", \"fill\")\n                    childrenDom.removeClass(\"icon-danxinggoumian\")\n                    childrenDom.addClass(\"icon-danxinggoumian1\")\n                    cc = true\n                }\n                that.event._dispatch('sequencelist.fillWho', {\n                    fill: cc,\n                    uuid: targetA.attr('uuid'),\n                    sId: targetA.attr('sId'),\n                    bid: targetA.attr('bid'),\n                    tooltype: targetA.attr('toolType'),\n                    layerNumber: targetA.attr('layerInfo')\n                })\n            })\n            dom.find('.' + classname + ' .color_c').on('click', function() {\n                dom.find('.' + classname + ' .cul').show()\n            })\n            dom.find('.' + classname + ' .cul .color_li').on('click', function() {\n                dom.find('.' + classname + ' .cul').hide()\n                let nowTarget = ES.selctorDoc(this)\n                let targetA = nowTarget.parent()\n                let cc = nowTarget.attr('data')\n                dom.find('.' + classname + ' .color_c').css({\n                    \"background\": '#' + cc\n                })\n                that.event._dispatch('sequencelist.changeColor', {\n                    color: cc,\n                    uuid: targetA.attr('uuid'),\n                    sId: targetA.attr('sId'),\n                    bid: targetA.attr('bid'),\n                    layerNumber: targetA.attr('layerInfo')\n                })\n            })\n            dom.find('.' + classname + ' .del').on('click', function() {\n                let domA = ES.selctorDoc(this).parent().parent()\n                that.event._dispatch('sequencelist.del', {\n                    toolType: dom.attr('toolType'),\n                    type: brushtype,\n                    uuid: domA.attr('uuid'),\n                    sId: domA.attr('sId'),\n                    layerNumber: domA.attr('layerInfo'),\n                    bid: domA.attr('bid')\n                })\n            })\n            dom.find('.' + classname + ' .edit').on('click', function() {\n                that.btnClick(ES.selctorDoc(this).parent().parent(), brushtype)\n            })\n\n        } else {\n            //li.addClass('choose')\n        }\n        // 已经标注过的序列，在其缩略图右上角需显示一个icon标记\n        this.event._dispatch('serieslist.addMarkedIcon')\n        this.initscrollgood()\n    }\n    clickById(value) {\n        let dom = this.chooseData.element\n        let classname = 'one_' + value.uuid //.layerNumber\n        let li = dom.find('.nodeInfo .' + classname)\n        li.find('.nname').click()\n    }\n    btnClick(value, brushtype, childThis) {\n        let dom = value\n        let hasclass = dom.hasClass('choose')\n            //console.log(hasclass, 'hasclasshasclasshasclass')\n        this.dom.find('.sequencelist .nodeInfo .choose').removeClass('choose')\n        if (!hasclass) {\n            dom.addClass('choose')\n        }\n        let data = {\n            toolType: dom.attr('toolType'),\n            type: brushtype,\n            sId: dom.attr('sId'),\n            niddtype: dom.attr('niddtype'),\n            uuid: dom.hasClass('choose') ? dom.attr('uuid') : \"\",\n            layerNumber: dom.attr('layerInfo'),\n            bid: dom.hasClass('choose') ? dom.attr('bid') : \"\"\n        }\n\n        this.event._dispatch('sequencelist.niddclick', data)\n    }\n    initsingle(id, imageAddress) {\n        let that = this\n        let rid = \"cdd\" + Math.floor(new Date().getTime() * Math.random())\n        this.loadAll[rid] = false\n        let str = ''\n        if (id != 0) {\n            str = \"style='display:none'\"\n        } else {\n            this.nowplayData = {\n                data: imageAddress,\n                num: 0\n            }\n        }\n        let htmlstr = `<li ${str}  sid=\"${imageAddress.studyId}\" datamain=\"${imageAddress.major}\" class=\"wk\" onmousemove=\"return false;\" unselectable=\"on\" onselectstart=\"return false;\"><div class=\"head-name\" data-num=\"${id}\">\n        <p title=\"${imageAddress.sequenceName}\"><span class=\"sequenceName\">${imageAddress.sequenceName}</span></p><span class='showHide chooseIcon iconfont icon-biyan1'></span></div>\n        <div class=\"nodeInfo\">\n        <div class=\"nodeInfolist\"></div>\n        </div>\n        <div class=\"cc\" id=\"${rid}\" oncontextmenu=\"return false\" style=\"width: 110px;height: 110px; display:none;\" unselectable=\"on\" onselectstart=\"return false;\" onmousedown=\"return false;\"></div>\n        </li>`\n        this.dom.find('.sequencelist').append(htmlstr)\n        if (id == 0) {\n            this.chooseData.element = this.dom.find('li[sid=\"' + imageAddress.studyId + '\"]')\n        }\n        this.dom.find('.sequencelist .head-name .showHide').on('click', function(e) {\n            let childrenDom = ES.selctorDoc(this)\n            that.dom.find('.nodeInfolist .showHide').removeClass(\"icon-biyan1\")\n            let cc = true\n            if (childrenDom.hasClass(\"icon-biyan1\")) {\n                childrenDom.removeClass(\"icon-biyan1\")\n                childrenDom.addClass(\"icon-biyan\")\n                that.dom.find('.nodeInfolist .showHide').removeClass(\"icon-biyan1\")\n                that.dom.find('.nodeInfolist .showHide').addClass(\"icon-biyan\")\n                cc = false\n            } else {\n                childrenDom.addClass(\"icon-biyan1\")\n                childrenDom.removeClass(\"icon-biyan\")\n                that.dom.find('.nodeInfolist .showHide').removeClass(\"icon-biyan\")\n                that.dom.find('.nodeInfolist .showHide').addClass(\"icon-biyan1\")\n                cc = true\n            }\n            that.event._dispatch('sequencelist.allShowControl', {\n                show: cc\n            })\n        })\n        this.dom.find('.sequencelist .head-name').eq(0).css({\n            'background': '#95d4e2',\n            'color': '#333'\n        })\n    }\n    resize() {\n        this.initscrollgood()\n    }\n    initscrollgood() {\n        let ch = ES.selctorDoc(window).box().clientHeight - 220\n        this.dom.find('.nodeInfo').css({\n            height: ch\n        })\n        if (this.myScrollgood) {\n            this.myScrollgood.refresh()\n            return\n        }\n        var rid = 'aaaww_' + Math.floor(new Date().getTime() * Math.random())\n        this.dom.find('.nodeInfo').attr('id', rid)\n        this.myScrollgood = new IScroll('#' + rid, {\n            scrollbars: true,\n            mouseWheel: true,\n            interactiveScrollbars: true,\n            hideScrollbar: false,\n            vScrollbar: true,\n            shrinkScrollbars: 'scale',\n            fadeScrollbars: false,\n            disableMouse: true,\n            disablePointer: true\n        });\n    }\n}\n\n//原型链一定要有的\nmodule.exports = sequencelist;\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/sequencelist/sequencelist.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./sequencelist.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./sequencelist.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./sequencelist.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/sequencelist/sequencelist.less\n// module id = 681\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sequencelist .wk {\\n  width: 100%;\\n  border-radius: 2px;\\n  position: relative;\\n}\\n.sequencelist .wk .head-name {\\n  width: 100%;\\n  padding: 8px 0;\\n}\\n.sequencelist .wk .head-name p {\\n  width: 130px;\\n  font-size: 14px;\\n  line-height: 30px;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n  margin-left: 29px;\\n  color: #fff;\\n}\\n.sequencelist .wk .head-name .sequenceName {\\n  display: unset;\\n}\\n.sequencelist .wk .head-name .showHide {\\n  position: absolute;\\n  top: 16px;\\n  left: 10px;\\n  color: #fff;\\n}\\n.sequencelist .wk .cc {\\n  width: 110px;\\n  height: 110px;\\n  margin-left: 5px;\\n}\\n.sequencelist .wk:hover .over {\\n  display: block;\\n}\\n.sequencelist .nodeInfo {\\n  overflow: hidden;\\n  position: relative;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div {\\n  width: 100%;\\n  color: #71f9ff;\\n  font-size: 12px;\\n  line-height: 30px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div > div {\\n  text-align: left;\\n  width: 160px;\\n  margin-left: 10px;\\n  position: relative;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .nname {\\n  width: 67%;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  margin-left: 15px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .nname span {\\n  display: unset;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .nname .chooseIcon {\\n  padding-left: 23px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .fillcon {\\n  position: absolute;\\n  right: 10px;\\n  top: 0;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .showHide {\\n  position: absolute;\\n  left: -5px;\\n  top: 0;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .showHide .iconfont {\\n  font-size: 12px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .del {\\n  position: absolute;\\n  right: -5px;\\n  top: 0;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .del .iconfont {\\n  font-size: 12px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .edit {\\n  position: absolute;\\n  right: 20px;\\n  top: 0;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .edit .iconfont {\\n  font-size: 12px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .edit_color {\\n  position: absolute;\\n  right: 50px;\\n  top: 1px;\\n  width: 20px;\\n  height: 20px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .edit_color .color_c {\\n  position: absolute;\\n  top: 8px;\\n  left: 27px;\\n  width: 14px;\\n  height: 14px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .edit_color ul {\\n  position: absolute;\\n  top: 30px;\\n  left: -20px;\\n  z-index: 40;\\n  background: #0c1e21;\\n  display: none;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .edit_color ul .color_li {\\n  height: 20px;\\n  width: 80px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .edit_color ul .color_li .cc {\\n  width: 16px;\\n  height: 16px;\\n  margin-top: 2px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .edit_color ul .color_li .textc {\\n  margin-left: 5px;\\n  font-size: 12px;\\n  line-height: 20px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c3 {\\n  background: #F8E71C;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c1 {\\n  background: #AA1113;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c2 {\\n  background: #F5A623;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c4 {\\n  background: #7ED321;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c5 {\\n  background: #4A90E2;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c6 {\\n  background: #50E3C2;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c7 {\\n  background: #8B572A;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c8 {\\n  background: #417505;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c9 {\\n  background: #B8E986;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .c10 {\\n  background: #BD10E0;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .item-wrapper {\\n  cursor: pointer;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div .group-name {\\n  width: unset;\\n  background: #0a2634;\\n  color: yellow;\\n  font-size: 10px;\\n  margin-left: 0;\\n  padding-left: 24px;\\n}\\n.sequencelist .nodeInfo .nodeInfolist > div.choose {\\n  background: #095c85;\\n  color: #fff;\\n}\\n.sort-wrapper {\\n  width: 180px;\\n  display: none;\\n  position: absolute;\\n  bottom: 10px;\\n  color: #fff;\\n}\\n.sort-wrapper .sort-btn {\\n  position: absolute;\\n  bottom: 0;\\n  right: 10px;\\n  border: 1px solid #999;\\n  background: #999;\\n  color: #fff;\\n  font-size: 12px;\\n  padding: 2px 6px;\\n  cursor: pointer;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/sequencelist/sequencelist.less\n// module id = 682\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=sequence-body> <ul class=sequencelist> </ul> <div class=sort-wrapper> <span class=sort-btn>按医生ID排序</span> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/sequencelist/tpl.html\n// module id = 683\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","require(\"./serieslist.less\");\n\n/**/\nclass SeriesList extends Interstellar.moduleBase {\n    constructor(app, dom, value, addMore) {\n        super(app, dom, value, addMore)\n        this.html = require('./tpl.html')\n        this.cornerstoneArray = {}\n    }\n    complete() {\n        this.dom.find('.serieslist').html('')\n        this.class_c = require(\"../../utils/cornerstone_class.js\")\n    }\n    setData(value, type) {\n        let that = this\n        let data = this.listData = value // this.initDate.data\n        this.dom.find('.serieslist').html('')\n        let htmlStr = \"\"\n        let num = 0\n        for (let i in data) {\n            //console.log(this.initsingle(data[i], type))\n            data[i].index = num\n            htmlStr = htmlStr + this.initsingle(data[i], type)\n            num++\n        }\n        /*for (let i = 0; i < data.length; i++) {\n            htmlStr = htmlStr + this.initsingle(data[i])\n        }*/\n        this.dom.find('.serieslist').append(htmlStr)\n        this.dom.find('.serieslist').css({'width':num*105})\n        if (type == \"DCM\") {\n            for (let i in data) {\n                console.log(data[i].info.data.seriesInstanceUID)\n                console.log(data[i].imgs[0])\n                console.log('aaaaaaaaaa', this.dom.find('#img' + data[i].index).dom[0].dom,(Tool.changeToName(data[i].imgs[0])))\n                new this.class_c({\n                    element: this.dom.find('#img' + data[i].index).dom[0].dom,\n                    totalImage: 1,\n                    imageAddress: [data[i].imgs[0]],\n                    index: (Tool.changeToName(data[i].imgs[0])) - 1,\n                    type: 'dcm'\n                })\n            }\n        }\n        this.dom.find('.serieslist .wk').on('click', function() {\n            let dom = ES.selctorDoc(this)\n            that.event._dispatch('serieslist.clcik', {\n                sid: dom.attr('sid')\n            })\n        })\n        this.initscrollgood()\n    }\n\n\n    initsingle(data, type) {\n        let info = data.info.data\n        let imgInfo = data.imgs[0].replace('myImageLoader:', '')\n        let htmlstr = `<li  title=\"` + info.seriesInstanceUID + `\" sid=\"` + info.seriesInstanceUID + `\" class=\"wk\" onmousemove=\"return false;\" unselectable=\"on\" onselectstart=\"return false;\">\n        <div class=\"imgContent\" id=\"img` + data.index + `\">`\n        htmlstr += type == \"DCM\" ? \"\" : `<img src=` + imgInfo + ` />`\n        htmlstr += `</div>\n        <div class=\"head-name\"><p><span>总张数：` + data.imgsTotal + `</span></p></div>`\n        if (data.hasMarked) {    // 已经标注过的序列，在其缩略图右上角需显示一个icon标记\n          htmlstr = htmlstr + '<i class=\"iconfont icon-marked\"></i>'\n        }\n        htmlstr = htmlstr + '</li>'\n        return htmlstr\n    }\n    resize() {\n        this.initscrollgood()\n    }\n    initscrollgood() {\n        if (this.myScrollgood) {\n            this.myScrollgood.refresh()\n            return\n        }\n        var rid = 'aaa_' + Math.floor(new Date().getTime() * Math.random())\n        this.dom.find('.sequence-body').parent().attr('id', rid)\n        this.myScrollgood = new IScroll('#' + rid, {\n            scrollbars: true,\n            mouseWheel: true,\n            scrollX: true,\n            interactiveScrollbars: true,\n            hideScrollbar: false,\n            vScrollbar: true,\n            shrinkScrollbars: 'scale',\n            fadeScrollbars: false,\n            disableMouse: true,\n            disablePointer: true\n        });\n    }\n}\n\n//原型链一定要有的\nmodule.exports = SeriesList;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/serieslist/serieslist.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./serieslist.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./serieslist.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./serieslist.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/serieslist/serieslist.less\n// module id = 685\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sequence-body-parent {\\n  overflow: hidden;\\n  display: inline-block;\\n  width: auto;\\n}\\n.sequence-body-parent .sequence-body {\\n  display: inline-block;\\n  width: auto;\\n}\\n.sequence-body-parent .sequence-body .serieslist {\\n  height: 100px;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk {\\n  width: 100px;\\n  border-radius: 2px;\\n  position: relative;\\n  float: left;\\n  border: 1px solid #ccc;\\n  box-sizing: border-box;\\n  margin-right: 5px;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk .imgContent {\\n  width: 70px;\\n  height: 70px;\\n  margin-left: 15px;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk .imgContent img {\\n  width: 100%;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk .head-name {\\n  height: 24px;\\n  width: 100%;\\n  padding: 4px 0;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk .head-name p {\\n  width: 100px;\\n  font-size: 12px;\\n  line-height: 24px;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n  color: #fff;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk .head-name span {\\n  display: unset;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk .cc {\\n  width: 110px;\\n  height: 110px;\\n  margin-left: 5px;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk .icon-marked {\\n  position: absolute;\\n  top: 2px;\\n  right: 2px;\\n  color: #448E97;\\n}\\n.sequence-body-parent .sequence-body .serieslist .wk:hover .over {\\n  display: block;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo {\\n  overflow: hidden;\\n  position: relative;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div {\\n  width: 100%;\\n  color: #71f9ff;\\n  font-size: 12px;\\n  line-height: 30px;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div > div {\\n  text-align: left;\\n  width: 160px;\\n  margin-left: 10px;\\n  position: relative;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div .nname {\\n  width: 75%;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div .nname span {\\n  display: unset;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div .del {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div .del .iconfont {\\n  font-size: 12px;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div .edit {\\n  position: absolute;\\n  right: 20px;\\n  top: 0;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div .edit .iconfont {\\n  font-size: 12px;\\n}\\n.sequence-body-parent .sequence-body .serieslist .nodeInfo .nodeInfolist > div.choose {\\n  background: #095c85;\\n  color: #fff;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/serieslist/serieslist.less\n// module id = 686\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=sequence-body-parent> <div class=sequence-body> <ul class=serieslist> </ul> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/serieslist/tpl.html\n// module id = 687\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","class nidusinfo extends Interstellar.moduleBase {\n    constructor(app, dom, value, addMode) {\n        super(app, dom, value, addMode)\n        require(\"./nidusinfo.less\");\n        this.html = require(\"./tpl.html\");\n        this.name = \"nidusinfo\"\n        this.chooseData = {}\n        this.doctorResult = {}\n    }\n    complete() {\n        this.btnEvent()\n        this.myScrollgood = null\n        this.myScrollgood1 = null\n        this.resize()\n    }\n    btnEvent() {\n        let that = this\n        this.dom.find('.btn-cancle').on('click', function() {\n            that.hide()\n        })\n    }\n    clearRemark(){\n        this.dom.find('.nidusinfo .remark input').val('')\n    }\n    setData(value, name, report, modalneed) {\n        //  console.log('aaaaaa============setData')\n        this.chooseData = {}\n        this.showReport = report ? report.showReport : null\n        console.log(report, 'reportreportreportreport', modalneed)\n        if (this.showReport) {\n            let reporta = require('../report/report.js')\n            let reportControl = this.app.loadModule(reporta, this.dom.find('.nidusinfo .report'), report)\n        } else {\n            this.dom.find('.report').html('')\n        }\n\n        if (report && report.remark) {\n            if (this.app.parpam['type'].lastIndexOf(\"viewer\") != -1) {\n                this.dom.find('.nidusinfo .remark input').attr('readonly', 'readonly')\n            }\n            this.dom.find('.nidusinfo .remark input').val(report.seriesRemark?report.seriesRemark:'')\n            this.dom.find('.nidusinfo .remark input').blur(() => {\n                this.remarkRes = this.dom.find('.nidusinfo .remark input').val()\n                this.event._dispatch('nidusinfo.remarkFinish')\n            })\n        } else {\n            this.dom.find('.nidusinfo .remark').html('')\n        }\n        //console.log(modalneed, 'modalneedmodalneed', value.annotationItemResultList)\n        let mark = window.location.hash.lastIndexOf('/doctorAudEdit/') == -1 && window.location.hash.lastIndexOf('/mark/') == -1 && window.location.hash.lastIndexOf('/markview/') == -1 && window.location.hash.lastIndexOf('/markpreview/') == -1 && window.location.hash.lastIndexOf('/markseriesview/') == -1\n        let dragCanvase = window.location.hash.lastIndexOf('/drapCanvas/') == -1 && window.location.hash.lastIndexOf('/drapCanvasCheck/') == -1 && window.location.hash.lastIndexOf('/drapCanvasView/') == -1\n        //console.log(mark, dragCanvase)\n        if (mark && dragCanvase) {\n            //console.log(value, modalneed)\n            if (modalneed || JSON.stringify(value.annotationItemResultList) != \"{}\") {\n                let endData = {}\n                if (modalneed) {\n                    for (var i in modalneed) {\n                       // console.log(modalneed[i], i, value, endData)\n                        endData = this.dealnidus(modalneed[i], i, value, endData)\n                        //console.log(endData)\n                    }\n                }\n                const doctorId = value.annotationItemResultList.doctorId\n                if (doctorId) {\n                    endData = this.dealnidus(value.annotationItemResultList.orginannotationItemResultList, doctorId, value, endData)\n                    //  console.log(endData)\n                }\n                this.makeMarkScroe(endData, doctorId)\n            }\n        }\n        //console.log('aaaa')\n        this.dom.find('.config_content').html('')\n        this.dom.find('.socrll .node-name').html(name)\n        this.makeOption(value, 'config_content')\n        this.resize()\n    }\n\n    //需要循环的数组，医生姓名，组件的基础信息，装换成为的对象\n    dealnidus(arr, doctorName, value, endData) {\n        arr.map((item) => {\n            if (value[item.formComponentId]) {\n                if (!endData[item.formComponentId]) {\n                    endData[item.formComponentId] = {\n                        name: '',\n                        res: []\n                    }\n                    endData[item.formComponentId].name = value[item.formComponentId].componentName\n                }\n                let data = JSON.parse(JSON.stringify(value[item.formComponentId]))\n                data.doctorName = doctorName\n                data.result = []\n                data.codeResult = item.result\n                if (item.result.lastIndexOf(',') != -1) {\n                    item.result.split(',').map((res) => {\n                        data.result.push(data.data ? data.data[res] : res)\n                    })\n                } else {\n                    data.result = [data.data ? data.data[item.result] : item.result]\n                }\n                endData[item.formComponentId].res.push(data)\n            }\n        })\n        return endData\n    }\n    makeMarkScroe(value, doctorId = '') {\n        this.doctorResult = value\n        let str = '<div><ul class=\"mark_doctor_content\">'\n        // 未标注信息的要单独显示当前医生信息\n        if (Object.keys(value).length === 0 && doctorId) {\n            str += `<li><p class=\"niddle-z\"><span>医生：${doctorId}</span></p></li>`\n        }\n        for (var i in value) {\n            str += '<li>'\n            str += '<p class=\"niddle-z\"><span>' + value[i].name + '</span></p>'\n            value[i].res.map((item) => {\n                str += '<p><span>' + item.doctorId + '&nbsp;:&nbsp;</span>'\n                item.result.map((info) => {\n                    str += '<span>' + (info ? info : \"未填\") + '</span><br />'\n                })\n                str += '</p>'\n            })\n            str += '</li>'\n        }\n        str += '</ul></div>'\n        this.dom.find('.config_content_all .socrll1').html(str)\n        this.dom.find('.mark-score').removeClass('hide')\n        this.myScrollgood1 = this.initScoll(this.dom.find('.mark-score .socrll1'))\n            //that.dom.find('.mark-score').removeClass('hide')\n    }\n    makeOption(value, chooseDom) {\n        let str = '<ul class=\"node_info\">'\n        let str1 = '<ul class=\"node_info\">'\n            // console.log(value, 'niddes')\n        let paxu = {\n            'c': [],\n            'nc': []\n        }\n       // console.log(value, 11111111111111111111111111111)\n        for (let key in value) {\n            if (key !== 'annotationItemResultList') {\n                let is = value[key].type.lastIndexOf('checkbox') == -1 || value[key].type.lastIndexOf('radiobox') == -1\n                paxu[`${is ? 'nc' : 'c'}`][value[key].sequence] = value[key]\n            }\n        }\n        paxu['c'].map((item) => {\n            if (item) {\n                str1 += this.returnHtmlDOM(item, item.id)\n                this.makeBtn(item, item.id, value.annotationItemResultList ? value.annotationItemResultList[item.id] : null)\n            }\n        })\n        paxu['nc'].map((item) => {\n            //console.log(item)\n            if (item) {\n                str += this.returnHtmlDOM(item, item.id)\n                this.makeBtn(item, item.id, value.annotationItemResultList ? value.annotationItemResultList[item.id] : null)\n            }\n        })\n        str += '</ul>'\n        str1 += '</ul>'\n        this.dom.find('.' + chooseDom).html(str)\n        this.dom.find('.' + chooseDom).append(str1)\n        this.dom.find('.' + chooseDom).append('<div style=\"clear:both\"></div>')\n    }\n\n    //对于生成好的组件绑定事件\n    makeBtn(value, i, data) {\n        setTimeout(() => {\n            this.toDoneCompend(value, i, data)\n        }, 0)\n    }\n    toDoneCompend(value, i, data) {\n        let that = this\n        //console.log(value)\n        switch (value.type) {\n            case \"select\":\n                require.ensure(\"../../moduleslibs/dropdown1/drop\", function() {\n                    let dropdown = require('../../moduleslibs/dropdown1/drop')\n                    let woptions = []\n                    let firstSelect = null\n                    let componentData = JSON.parse(value.componentData)\n                    componentData.map((item) => {\n                        woptions.push({\n                            optionname: item.text,\n                            val: item.text,\n                            idx: item.code\n                        })\n                        if (data) {\n                            if (data.result * 1 == item.code && data.result != \"\") {\n                                firstSelect = {\n                                    optionname: item.text,\n                                    val: item.text,\n                                    idx: item.code\n                                }\n                            }\n                            if (data.result == \"\") {\n                                firstSelect = {\n                                    optionname: \"请选择\",\n                                    val: \"请选择\",\n                                    idx: ''\n                                }\n                            }\n                        } else {\n                            firstSelect = {\n                                optionname: \"请选择\",\n                                val: \"请选择\",\n                                idx: ''\n                            }\n                            if (value.componentParameter && JSON.parse(value.componentParameter)) {\n                                if (JSON.parse(value.componentParameter).isdefault) {\n                                    firstSelect = woptions[0]\n                                }\n                            }\n                        }\n                    })\n                    let guojihua = that.app.loadModule(dropdown, that.dom.find('li[nodezd=\"' + i + '\"]').firstchildren('.drop_down_content'), {\n                        className: \"node-select\",\n                        firstSelect: (firstSelect ? firstSelect : woptions[0]),\n                        data: woptions\n                    })\n                    that.chooseData[guojihua.dom.parent().attr('select_id')] = {\n                        formComponentId: value.componentId,\n                        result: (firstSelect ? firstSelect.idx : woptions[0].idx)\n                    }\n                   // console.log(value.componentParameter, data, 'toDoneCompendtoDoneCompendtoDoneCompend')\n                    if (JSON.parse(value.componentParameter).isdefault && !data) {\n                        if (window.location.hash.lastIndexOf('#!/markaudit/') == -1 || window.location.hash.lastIndexOf('#!/drapCanvasAudEdit/') == -1) {\n                            that.event._dispatch('nidusinfo.finish')\n                        } else {\n                            that.event._dispatch('nidusinfo.finish', true)\n                        }\n                    }\n                    guojihua.event._addEvent('dropDown.clear', function() {\n                        //console.log(firstSelect, 'firstSelectfirstSelect')\n                        let res = firstSelect ? firstSelect.idx : \"\"\n                        that.chooseData[guojihua.dom.parent().attr('select_id')].result = res\n                        that.event._dispatch('nidusinfo.finish')\n                    })\n                    guojihua.event._addEvent('option.click', function(res) {\n                       //console.log(guojihua.dom.parent().attr('select_id'), res.idx, that.chooseData)\n                        if (guojihua.dom.parent().attr('select_id') == 'check_reslut' && res.idx * 1 == 0) {\n                            //console.log('aaaaa')\n                            that.syncResult()\n                                //console.log(that.doctorResult)\n                        }\n                        that.chooseData[guojihua.dom.parent().attr('select_id')].result = res.idx\n                        that.event._dispatch('nidusinfo.finish')\n                    })\n                    if (that.app.parpam['type'].lastIndexOf(\"viewer\") != -1) {\n                        guojihua.disable()\n                    }\n                })\n                break\n            case \"text\":\n               // console.log(value)\n                this.chooseData[value.id] = {\n                    result: data ? data.result : \"\",\n                    formComponentId: value.componentId\n                }\n                this.dom.find('li[nodezd=\"' + i + '\"] input[name=input-text]').blur(() => {\n                    this.chooseData[value.id].result = this.dom.find('li[nodezd=\"' + i + '\"] input[name=input-text]').val()\n                    this.event._dispatch('nidusinfo.finish')\n                })\n                this.dom.find('li[nodezd=\"' + i + '\"] input[name=input-text]').val(data ? data.result : \"\")\n                if (this.app.parpam['type'].lastIndexOf(\"viewer\") != -1) {\n                    this.dom.find('li[nodezd=\"' + i + '\"] input[name=input-text]').attr('readonly', 'readonly')\n                }\n                break\n            case \"radiobox\":\n                this.chooseData[value.id] = {\n                    result: data ? data.result : \"\",\n                    formComponentId: value.componentId\n                }\n                let componentData = JSON.parse(value.componentData)\n                if (JSON.parse(value.componentParameter).isdefault && !data) {\n\n\n                }\n                if (data) {\n                    componentData.map((item) => {\n                        if (data.result * 1 == item.code && data.result != \"\") {\n                            this.dom.find('li[nodezd=\"' + i + '\"]').find('div[code=\"' + item.code + '\"]').addClass('choose')\n                        }\n                    })\n                } else {\n                    if (value.componentParameter && JSON.parse(value.componentParameter)) {\n                        if (JSON.parse(value.componentParameter).isdefault) {\n                            //this.chooseData[value.id].result = componentData[0].code\n                            this.dom.find('li[nodezd=\"' + i + '\"]').find('div[code=\"' + componentData[0].code + '\"]').addClass('choose')\n                            this.event._dispatch('nidusinfo.finish')\n                        }\n                    }\n                }\n                if (this.app.parpam['type'].lastIndexOf(\"viewer\") != -1) {\n                    // this.dom.find('li[nodezd=\"' + i + '\"] input[name=input-text]').attr('readonly', 'readonly')\n                    return\n                }\n                this.dom.find('li[nodezd=\"' + i + '\"]').find('.radiobox').on('click', function() {\n                    let dom = ES.selctorDoc(this)\n                    let type = dom.attr('type')\n                    let sid = dom.parent().parent().attr('select_id')\n                    that.dom.find('li[nodezd=\"' + i + '\"]').find('.radiobox').removeClass('choose')\n                    that.chooseData[sid].result = dom.attr('code')\n                    dom.addClass('choose')\n                    that.event._dispatch('nidusinfo.finish')\n                })\n                break\n            default:\n                this.chooseData[value.id] = {\n                    result: (data ? (',' + data.result + ',') : \"\"),\n                    formComponentId: value.componentId\n                }\n                if (data) {\n                    data.result.split(',').map((item) => {\n                        this.dom.find('li[nodezd=\"' + i + '\"]').find('div[code=\"' + item + '\"]').addClass(\"choose\")\n                    })\n                }\n                if (this.app.parpam['type'].lastIndexOf(\"viewer\") != -1) {\n                    // this.dom.find('li[nodezd=\"' + i + '\"] input[name=input-text]').attr('readonly', 'readonly')\n                    return\n                }\n                this.dom.find('li[nodezd=\"' + i + '\"]').find('.checkbox').on('click', function() {\n                    let dom = ES.selctorDoc(this)\n                    let type = dom.attr('type')\n                    let sid = dom.parent().parent().attr('select_id')\n                    if (dom.hasClass('choose')) {\n                        dom.removeClass('choose')\n                     //   console.log(that.chooseData[sid].result, 'one')\n                        that.chooseData[sid].result = that.chooseData[sid].result ? that.chooseData[sid].result.replace((',' + dom.attr('code') + ','), ',') : \"\"\n                      //  console.log(that.chooseData[sid].result, 'two')\n                    } else {\n                        if (type == \"sp\" && dom.attr('code') == -1) {\n                            that.dom.find('li[nodezd=\"' + i + '\"]').find('.checkbox').removeClass('choose')\n                            that.chooseData[sid].result = (\",-1,\")\n                        } else {\n                            if (that.chooseData[sid].result == \",-1,\") {\n                                that.dom.find('li[nodezd=\"' + i + '\"]').find('div[code=\"-1\"]').removeClass('choose')\n                                that.chooseData[sid].result = (',' + dom.attr('code') + ',')\n                            } else {\n                                that.chooseData[sid].result = that.chooseData[sid].result ? (that.chooseData[sid].result + dom.attr('code') + ',') : (',' + dom.attr('code') + ',')\n                            }\n                        }\n                        dom.addClass('choose')\n                    }\n                    that.event._dispatch('nidusinfo.finish')\n                })\n                break\n        }\n    }\n\n    //同步结果\n    syncResult() {\n        //console.log(this.doctorResult)\n        for (var i in this.doctorResult) {\n            let orginComp = this.doctorResult[i]\n            if (!this.chooseData[i]) {\n                this.chooseData[i] = {\n                    annotationItemId: i,\n                    formComponentId: i,\n                    id: i,\n                    result: \"\"\n                }\n            }\n            //console.log(this.chooseData[i])\n            if ((!this.chooseData[i].result || this.chooseData[i].result == ',') && orginComp.res) {\n                let ctype = this.dom.find('li[nodezd=\"' + i + '\"]').attr('ctype')\n                console.log(ctype, 'ctypectypectype')\n                switch (ctype) {\n                    case \"select\":\n                        console.log(this.doctorResult[i].res[0].result[0])\n                        this.chooseData[i].result = orginComp.res[0].codeResult\n                        this.dom.find('li[nodezd=\"' + i + '\"]').firstchildren('.drop_down_content').find('.nowname').val(this.doctorResult[i].res[0].result[0])\n                        break\n                    case \"text\":\n                        this.chooseData[i].result = orginComp.res[0].codeResult\n                        this.dom.find('li[nodezd=\"' + i + '\"] input[name=input-text]').val(orginComp.res[0].codeResult)\n                        break\n                    case \"radiobox\":\n                        console.log(orginComp,'orginComporginComporginComp')\n                        this.chooseData[i].result = orginComp.res[0].codeResult\n                        this.dom.find('li[nodezd=\"' + i + '\"] .radiobox').removeClass('choose')\n                        this.dom.find('li[nodezd=\"' + i + '\"]').find('div[code=\"' + orginComp.res[0].codeResult+ '\"]').addClass(\"choose\")\n                        break\n                    default:\n                        this.chooseData[i].result = ',' + orginComp.res[0].codeResult + ','\n                        orginComp.res[0].codeResult.split(',').map((item) => {\n                            if (item) {\n                                this.dom.find('li[nodezd=\"' + i + '\"]').find('div[code=\"' + item + '\"]').addClass(\"choose\")\n                            }\n                        })\n                        break\n                }\n            }\n        }\n    }\n    returnHtmlDOM(value, name) {\n        let className = (value.type.lastIndexOf('checkbox') != -1 || value.type.lastIndexOf('radiobox') != -1) ? \"select-content1\" : 'select-content'\n        let domstr = `<li ctype=\"` + value.type + `\" select_id=\"` + value.id + `\" class=\"` + className + `\" nodezd=\"` + name + `\"><p class=\"niddle-z\" title=\"` + value.name + `\">`\n        if (value.optional) {\n            domstr += `<span style=\"color:#f00\">*</span><span>` + value.name + `</span></p>`\n        } else {\n            domstr += `<span>` + value.name + `</span></p>`\n        }\n        switch (value.type) {\n            case \"select\":\n                if (value.relation) {\n                    domstr += '<div class=\"drop_down_content\"></div>' //<p style=\"border:1px solid #ccc;padding: 0; width: 90px;height:20px;\" class=\"showD\"></p>'\n                } else {\n                    domstr += '<div class=\"drop_down_content\"></div>' //'<p style=\"border:1px solid #ccc;padding: 0; width: 90px;height:20px;\" class=\"showD\"></p>'\n                }\n                break\n            case \"text\":\n                domstr += '<input class=\"input-t\" value=\"\" name=\"input-text\" style=\"margin-top:6px;\"></input>'\n                break\n            case \"textarea\":\n                domstr += '<textarea class=\"input-tex\" value=\"\" name=\"input-text\"></textarea>'\n                break\n            case \"text-s\":\n                domstr += '<input class=\"input-r\" readonly=\"readonly\" value=\"\"></input>'\n                break\n            case \"radiobox\":\n                for (var j in value.data) {\n                    domstr += `<div class=\"check-choose\"><div class=\"radiobox radio-box\" code=\"` + j + `\" data-ini=\"` + value.data[j] + `\"></div><span>` + value.data[j] + `</span></div>`\n                }\n                //domstr += '<input value=\"\"></input>'\n                break\n            case \"checkbox\":\n                for (var j in value.data) {\n                    domstr += `<div class=\"check-choose\"><div class=\"checkbox check-box\" code=\"` + j + `\" data-ini=\"` + value.data[j] + `\"></div><span>` + value.data[j] + `</span></div>`\n                }\n                //domstr += '<input value=\"\"></input>'\n                break\n            case \"checkbox-sp\":\n                for (var j in value.data) {\n                    domstr += `<div class=\"check-choose\"><div class=\"checkbox check-box\" type=\"sp\" code=\"` + j + `\" data-ini=\"` + value.data[j] + `\"></div><span>` + value.data[j] + `</span></div>`\n                }\n                //domstr += '<input value=\"\"></input>'\n                break\n        }\n        domstr += `</li>`\n        return domstr\n    }\n    resize() {\n        let ch = ES.selctorDoc(window).box().clientHeight - 60 - 64\n        if (this.showReport) {\n            ch = ch - 160\n        }\n        this.dom.find('.mark-score .socrll1').css({\n            'height': ch - 55\n        })\n        this.dom.find('.nidusinfo').firstchildren('.socrll').css({\n            'height': ch - 35\n        })\n        if (this.myScrollgood) {\n            this.myScrollgood.refresh()\n            return\n        }\n        if (this.myScrollgood1) {\n            this.myScrollgood1.refresh()\n            return\n        }\n        //console.log(this.myScrollgood,'this.myScrollgoodthis.myScrollgood')\n        this.myScrollgood = this.initScoll(this.dom.find('.nidusinfo .socrll'))\n        this.myScrollgood1 = this.initScoll(this.dom.find('.mark-score .socrll1'))\n    }\n    initScoll(dom) {\n        var rid = 'aaa_' + Math.floor(new Date().getTime() * Math.random())\n        dom.attr('id', rid)\n        let val = new IScroll('#' + rid, {\n            scrollbars: true,\n            mouseWheel: true,\n            interactiveScrollbars: true,\n            hideScrollbar: false,\n            vScrollbar: true,\n            shrinkScrollbars: 'scale',\n            fadeScrollbars: false,\n            disableMouse: true,\n            disablePointer: true\n        });\n        return val\n    }\n    showMark() {\n        //this.dom.find('.mark-score').removeClass('hide')\n        //this.dom.find('.btn-mark').attr('show', '1')\n        //this.dom.find('.btn-mark').html('隐藏标注结果')\n    }\n    closeMark() {\n        //this.dom.find('.mark-score').addClass('hide')\n        //this.dom.find('.btn-mark').attr('show', '0')\n        //this.dom.find('.btn-mark').html('显示标注结果')\n    }\n    showClose() {\n        this.dom.find('.btn_content').eq(0).removeClass('hide')\n    }\n    show() {\n        this.dom.show()\n            //this.resize()\n    }\n    hide() {\n        this.dom.hide()\n    }\n}\nmodule.exports = nidusinfo;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/nidusinfo/nidusinfo.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./nidusinfo.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./nidusinfo.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./nidusinfo.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/nidusinfo/nidusinfo.less\n// module id = 689\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".nidusinfo {\\n  padding: 10px;\\n  background: #0a2634;\\n  position: relative;\\n}\\n.nidusinfo .socrll1,\\n.nidusinfo .socrll {\\n  overflow: hidden;\\n  position: relative;\\n}\\n.nidusinfo .remark .socrllr {\\n  overflow: hidden;\\n  position: relative;\\n  height: 60px;\\n}\\n.nidusinfo .remark .socrllr .con {\\n  border: 1px solid #fff;\\n  padding: 0 5px;\\n  background: transparent;\\n  color: #fff;\\n}\\n.nidusinfo .remark .node-name {\\n  color: #fff;\\n  border-bottom: 1px solid #fff;\\n  margin-bottom: 10px;\\n  padding-bottom: 5px;\\n}\\n.nidusinfo .node-name {\\n  color: #fff;\\n  border-bottom: 1px solid #fff;\\n  margin-bottom: 5px;\\n  padding-bottom: 5px;\\n}\\n.nidusinfo .config_content_all .node_info,\\n.nidusinfo .config_content .node_info {\\n  clear: both;\\n}\\n.nidusinfo .config_content_all .node_info .checkbox,\\n.nidusinfo .config_content .node_info .checkbox,\\n.nidusinfo .config_content_all .node_info .radiobox,\\n.nidusinfo .config_content .node_info .radiobox {\\n  margin-right: 5px;\\n}\\n.nidusinfo .config_content_all .node_info .select-content,\\n.nidusinfo .config_content .node_info .select-content {\\n  float: left;\\n  width: 120px;\\n  margin-right: 5px;\\n  font-size: 12px;\\n  color: #fff;\\n  line-height: 20px;\\n  margin-bottom: 5px;\\n  margin-left: 5px;\\n}\\n.nidusinfo .config_content_all .node_info .select-content .niddle-z,\\n.nidusinfo .config_content .node_info .select-content .niddle-z {\\n  width: 120px;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n.nidusinfo .config_content_all .node_info .select-content .niddle-z span,\\n.nidusinfo .config_content .node_info .select-content .niddle-z span {\\n  display: unset;\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n.nidusinfo .config_content_all .node_info .select-content .drop_down_content,\\n.nidusinfo .config_content .node_info .select-content .drop_down_content {\\n  margin-top: 5px;\\n  height: 20px;\\n}\\n.nidusinfo .config_content_all .node_info .select-content .input-r,\\n.nidusinfo .config_content .node_info .select-content .input-r,\\n.nidusinfo .config_content_all .node_info .select-content .input-t,\\n.nidusinfo .config_content .node_info .select-content .input-t {\\n  width: 100%;\\n  border: 1px solid #ccc;\\n  margin-top: 5px;\\n  border-radius: 4px;\\n}\\n.nidusinfo .config_content_all .node_info .select-content .input-tex,\\n.nidusinfo .config_content .node_info .select-content .input-tex {\\n  width: 100%;\\n  height: 50px;\\n  border: 1px solid #ccc;\\n  margin-top: 5px;\\n  border-radius: 4px;\\n}\\n.nidusinfo .config_content_all .node_info .select-content1,\\n.nidusinfo .config_content .node_info .select-content1 {\\n  width: 240px;\\n  clear: both;\\n  margin-right: 5px;\\n  font-size: 12px;\\n  color: #fff;\\n  line-height: 20px;\\n  margin-bottom: 5px;\\n  margin-left: 5px;\\n}\\n.nidusinfo .config_content_all .node_info .select-content1 .check-choose,\\n.nidusinfo .config_content .node_info .select-content1 .check-choose {\\n  float: left;\\n  width: 120px;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n.nidusinfo .config_content_all .node_info .select-content1 .niddle-z,\\n.nidusinfo .config_content .node_info .select-content1 .niddle-z {\\n  width: 120px;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  padding: 5px 0;\\n}\\n.nidusinfo .config_content_all .node_info .select-content1 .niddle-z span,\\n.nidusinfo .config_content .node_info .select-content1 .niddle-z span {\\n  display: unset;\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n.nidusinfo .config_content_all .node_info .select-content1 .drop_down_content,\\n.nidusinfo .config_content .node_info .select-content1 .drop_down_content {\\n  margin-top: 5px;\\n  height: 20px;\\n}\\n.nidusinfo .config_content_all .node_info .select-content1 .input-r,\\n.nidusinfo .config_content .node_info .select-content1 .input-r,\\n.nidusinfo .config_content_all .node_info .select-content1 .input-t,\\n.nidusinfo .config_content .node_info .select-content1 .input-t {\\n  width: 100%;\\n  border: 1px solid #ccc;\\n  margin-top: 5px;\\n  border-radius: 4px;\\n}\\n.nidusinfo .config_content_all .node_info .select-content1 .input-tex,\\n.nidusinfo .config_content .node_info .select-content1 .input-tex {\\n  width: 100%;\\n  height: 50px;\\n  border: 1px solid #ccc;\\n  margin-top: 5px;\\n  border-radius: 4px;\\n}\\n.nidusinfo .config_content_all {\\n  width: 100%;\\n  clear: both;\\n  margin-right: 5px;\\n  font-size: 12px;\\n  color: #fff;\\n  line-height: 20px;\\n  margin-bottom: 5px;\\n  margin-left: 5px;\\n}\\n.nidusinfo .config_content_all .mark_doctor_content li {\\n  border-bottom: 1px solid #fff;\\n}\\n.nidusinfo .config_content_all .mark_doctor_content li .niddle-z {\\n  width: 160px;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n.nidusinfo .config_content_all .mark_doctor_content li .niddle-z span {\\n  display: unset;\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n.nidusinfo .btn_content {\\n  float: right;\\n  margin-left: 5px;\\n  margin-bottom: 5px;\\n  z-index: 20;\\n  position: relative;\\n}\\n.nidusinfo .btn_content .btn {\\n  width: 50px;\\n  height: 20px;\\n  color: #fff;\\n  background: #448e97;\\n  border-radius: 4px;\\n  font-size: 12px;\\n  text-align: center;\\n  line-height: 20px;\\n  border: 1px solid #448e97;\\n  cursor: pointer;\\n}\\n.nidusinfo .btn_content .btn-mark {\\n  width: 100px;\\n}\\n.nidusinfo .mark-score {\\n  padding-top: 10px;\\n  position: absolute;\\n  background: #0a2634;\\n  width: 60%;\\n  top: 0;\\n  left: -60%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/nidusinfo/nidusinfo.less\n// module id = 690\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=nidusinfo> <div class=report></div> <p class=\\\"btn_content hide\\\"> <span class=\\\"btn btn-cancle\\\">关闭</span> </p> <div class=remark> <div class=socrllr> <div class=node-name>备注</div> <input type=text name=remark class=con> </div> </div> <div style=clear:both;height:1px></div> <div class=socrll> <div> <div class=node-name></div> <div class=config_content></div> </div> </div> <div class=\\\"mark-score hide\\\"> <div> <div class=node-name>标注医生结果</div> <div class=config_content_all> <div class=socrll1> <div><div></div></div> </div> </div> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/nidusinfo/tpl.html\n// module id = 691\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","class report extends Interstellar.moduleBase {\n    constructor(app, dom, value, addMode) {\n        super(app, dom, value, addMode)\n        require(\"./report.less\");\n        this.html = require(\"./tpl.html\");\n        this.name = \"report\"\n        this.chooseData = {}\n    }\n    complete() {\n        console.log(this.initDate)\n        if(this.initDate.conclusion){\n            this.dom.find('.socrllr .con').eq(1).html('<p>'+this.initDate.conclusion+'</p>')\n            this.newSorle(this.dom.find('.socrllr').eq(1))\n        }\n        if(this.initDate.finding){\n            this.dom.find('.socrllr .con').eq(0).html('<p>'+this.initDate.finding+'</p>')\n            this.newSorle(this.dom.find('.socrllr').eq(0))\n        }\n    }\n    newSorle(dom) {\n        var rid = 'aaa_' + Math.floor(new Date().getTime() * Math.random())\n        dom.attr('id', rid)\n        this.myScrollgood = new IScroll('#' + rid, {\n            scrollbars: true,\n            mouseWheel: true,\n            interactiveScrollbars: true,\n            hideScrollbar: false,\n            vScrollbar: true,\n            shrinkScrollbars: 'scale',\n            fadeScrollbars: false,\n            disableMouse: true,\n            disablePointer: true\n        });\n    }\n\n}\nmodule.exports = report;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/report/report.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./report.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./report.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./report.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/report/report.less\n// module id = 693\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".report {\\n  background: #0a2634;\\n  position: relative;\\n}\\n.report .socrllr {\\n  overflow: hidden;\\n  position: relative;\\n  height: 90px;\\n}\\n.report .socrllr .con {\\n  border: 1px solid #fff;\\n  height: 60px;\\n  padding: 0 5px;\\n}\\n.report .socrllr .con p {\\n  color: #fff;\\n}\\n.report .node-name {\\n  color: #fff;\\n  border-bottom: 1px solid #fff;\\n  margin-bottom: 5px;\\n  padding-bottom: 5px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/report/report.less\n// module id = 694\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=report> <div class=socrllr> <div class=node-name>检查所见</div> <div class=con> </div> </div> <div class=socrllr> <div class=node-name>诊断</div> <div class=con> </div> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/report/tpl.html\n// module id = 695\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","require(\"./ctcornerstone.less\");\n\n/**/\nclass ctcornerstone extends ctcornerstone_base {\n    constructor(app, dom, value, addMore) {\n        super(app, dom, value, addMore)\n    }\n    ctEvent(id, imageAddress, data, total) {\n        let that = this\n\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.ImageRendered', function(value) {\n            if (that.model.seriesInfo[that.cornerstoneArray[id].sId]) {\n                value.image.columnPixelSpacing = that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.columnPixelSpacing\n                value.image.rowPixelSpacing = that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.rowPixelSpacing\n            }\n            if (that.model.seriesInfo[that.cornerstoneArray[id].sId]) {\n                that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.column = value.image.columns\n                that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.row = value.image.rows\n            }\n            if (!that.initFrist[id]) {\n                that.initFrist[id] = true\n                    //console.log(value.image)\n                if ((value.image.rows > 1000 || value.image.columns > 1000) && value.image.rate < 1) {\n                    that.defaultFunction(\"brushFanTe\")\n                    that.defaultFunction(\"\")\n                }\n                that.event._dispatch('ctcornerstone.loadingfinish', {\n                    sId: that.cornerstoneArray[id].sId\n                })\n            }\n            //console.log(that.cornerstoneArray[id].sId,that.model.seriesInfo,'-----------------------')\n            if (that.model.seriesInfo[that.cornerstoneArray[id].sId]) {\n                if (that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.fileType == \"DCM\") {\n                    that.showWWC(value.viewport, that.cornerstoneArray[id].sId, id)\n                }\n            }\n            if (that.baseLineOpen) {\n                if (that.nowLayNum(id) != Tool.changeToName(imageAddress[value.currentCount * 1], 'jpg')) {\n                    that.makeBaseLine(that.cornerstoneArray[id].sId, Tool.changeToName(imageAddress[value.currentCount * 1], 'jpg'))\n                }\n                if (that.nowLine) {\n                    if (that.nowLine[that.cornerstoneArray[id].sId]) {\n                        let point = that.nowLine[that.cornerstoneArray[id].sId]\n                        if (point.length != 0) {\n                            let ctx = value.canvasContext\n                            ctx.beginPath();\n                            ctx.mozImageSmoothingEnabled = false;\n                            ctx.lineWidth = Math.floor(value.image.columns / 512)\n                            ctx.strokeStyle = '#fff';\n                            ctx.moveTo(point[0].x, point[0].y)\n                            ctx.lineTo(point[1].x, point[1].y)\n                            ctx.stroke();\n                        }\n                    }\n                }\n            }\n\n            if (that.crossOpen && !that.crossmove) {\n                that.calflow(id)\n            }\n            let who = ES.selctorDoc(value.element).parent()\n            let nowId = id // ES.selctorDoc(value.element).attr('id').replace('ct', '') * 1\n            let timeD = value.xDate\n            let layers = Tool.changeToName(imageAddress[value.currentCount * 1], 'jpg')\n                //that.dom.find('.layer').html(String(value.currentCount * 1 + 1) + '/' + total)\n            that.dom.find('.ct' + id + ' .layer').html(layers + '/' + total)\n            that.dom.find('.ct' + id + ' .sc').html(that.cornerstoneArray[id].getViewport().scale.toFixed(2))\n            console.log(that.model.nidusChoose)\n            if (that.nodeShow) {\n                let aa = cornerstone.pixelToCanvas(value.element, {\n                    x: 0,\n                    y: 0\n                })\n                let allmove = cornerstone.getViewport(value.element)\n                let brushInfoAll = that.brushManage.brushInfo[layers] ? that.brushManage.brushInfo[layers] : {}\n                let brushNodes = {}\n                for (let i in brushInfoAll) {\n                    let index = brushInfoAll[i].sId.split('_').lastIndexOf(that.cornerstoneArray[id].sId)\n                    if (index != -1 && brushInfoAll[i].show) {\n                        brushNodes[i] = brushInfoAll[i]\n                    }\n                }\n                console.log(brushNodes, 'brushNodesbrushNodesbrushNodesbrushNodes', brushInfoAll)\n                for (let bid in brushNodes) {\n                    if (brushNodes[bid].image) {\n                        let image = brushInfoAll[bid].image\n                            /*if (value.image.rows > 1025 || value.image.columns > 1025) {\n                                console.log('wwwwwwwwwwwwwwwww')\n                                value.canvasContext.drawImage(image, 0, 0, image.width, image.height, aa.x, aa.y, image.width * allmove.scale, image.height * allmove.scale)\n                            } else {*/\n                        value.canvasContext.drawImage(brushInfoAll[bid].image, 0, 0)\n                            //}\n                            //value.canvasContext.drawImage(brushNodes[bid].image, 0, 0)\n                    }\n                }\n                let nodeA = (that.nodeInfo ? that.nodeInfo[layers] : [])\n                    //console.log(value)\n                nodeA = nodeA ? nodeA : []\n                let fliterNodes = nodeA.filter((item) => {\n                    return item.sId == that.cornerstoneArray[id].sId && item.show\n                })\n                console.log(that.model.nidusChoose, 'that.model.nidusChoosethat.model.nidusChoosethat.model.nidusChoose', fliterNodes)\n                for (var i = 0; i < fliterNodes.length; i++) {\n                    //console.log(nodeA[i])\n                    let ctx = value.canvasContext\n                    ctx.beginPath();\n                    ctx.mozImageSmoothingEnabled = false;\n                    ctx.lineWidth = Math.floor(value.image.columns / 512)\n                    ctx.strokeStyle = '#f00';\n                    ctx.fillStyle = '#f00';\n                    let hashText = false\n                    if (that.model.nidusChoose) {\n                        if (that.model.nidusChoose.uuid == fliterNodes[i].nodeInfo.uuid || that.model.nidusChoose.id == fliterNodes[i].nodeInfo.uuid) {\n                            ctx.strokeStyle = '#0ff';\n                            ctx.fillStyle = '#0ff'\n                            hashText = true\n                        }\n                    }\n                    let handles = fliterNodes[i].nodeInfo.handles\n                    console.log(fliterNodes[i])\n                    switch (fliterNodes[i].type) {\n                        case \"rectangleRoi\":\n                            let w = Math.abs((handles.end.x * 1 - handles.start.x * 1))\n                            let h = Math.abs((handles.end.y * 1 - handles.start.y * 1))\n                            let minx = Math.min(handles.end.x * 1, handles.start.x * 1)\n                            let miny = Math.min(handles.end.y * 1, handles.start.y * 1)\n                            console.log(aa, allmove)\n                                /*if (value.image.rows > 1025 || value.image.columns > 1025) {\n                                    ctx.strokeRect(aa.x + minx * allmove.scale, aa.y + miny * allmove.scale, w * allmove.scale, h * allmove.scale)\n                                } else {*/\n                            console.log(minx)\n                            ctx.strokeRect(minx, miny, w, h)\n                                //}\n                                //ctx.strokeRect(minx, miny, w, h)\n                            ctx.stroke();\n                            break\n                        case \"ellipticalRoi\":\n                            let rx = (handles.start.x * 1 + handles.end.x * 1) / 2\n                            let ry = (handles.start.y * 1 + handles.end.y * 1) / 2\n                            let r = Math.max(Math.abs((handles.end.x * 1 - handles.start.x * 1) / 2), Math.abs((handles.end.y * 1 - handles.start.y * 1) / 2))\n                                /*if (value.image.rows > 1025 || value.image.columns > 1025) {\n                                    ctx.arc(aa.x + rx * allmove.scale, aa.y + ry * allmove.scale, r * allmove.scale, 0, 2 * Math.PI, false);\n                                } else {*/\n                            ctx.arc(rx, ry, r, 0, 2 * Math.PI, false);\n                            //}\n                            //ctx.arc(rx, ry, r, 0, 2 * Math.PI, false);\n                            ctx.stroke();\n                            break\n                        case \"length\":\n                            ctx.moveTo(handles.start.x, handles.start.y)\n                            ctx.lineTo(handles.end.x, handles.end.y)\n                            ctx.stroke();\n                            break\n                        case \"simpleAngle\":\n                            /*if (value.image.rows > 1025 || value.image.columns > 1025) {\n                                ctx.moveTo(aa.x + handles.start.x * allmove.scale, aa.y + handles.start.y * allmove.scale)\n                                ctx.lineTo(aa.x + handles.end.x * allmove.scale, aa.y + handles.end.y * allmove.scale)\n                            } else {\n                                ctx.moveTo(handles.start.x, handles.start.y)\n                                ctx.lineTo(handles.end.x, handles.end.y)\n                            }*/\n                            ctx.moveTo(handles.start.x, handles.start.y)\n                            ctx.lineTo(handles.middle.x, handles.middle.y)\n                            ctx.lineTo(handles.end.x, handles.end.y)\n                            ctx.stroke();\n                            break\n                        case \"cobb\":\n                            fliterNodes[i].nodeInfo.lineA.map((item) => {\n                                ctx.moveTo(item.handles.start.x, item.handles.start.y)\n                                ctx.lineTo(item.handles.end.x, item.handles.end.y)\n                            })\n                            if (that.model.nidusChoose) {\n                                if ((that.model.nidusChoose.uuid == fliterNodes[i].nodeInfo.uuid || that.model.nidusChoose.id == fliterNodes[i].nodeInfo.uuid) && fliterNodes[i].nodeInfo.lineA.length == 2) {\n                                    that.dom.find('.ct' + id + ' .cal').html('cobb角' + Tool.calAngel(fliterNodes[i].nodeInfo.lineA[0].handles, fliterNodes[i].nodeInfo.lineA[1].handles))\n                                }\n                            }\n                            ctx.stroke();\n                            break\n                        case \"alignment\":\n                            let fontSize = Math.floor(Math.max(that.model.seriesInfo[fliterNodes[i].sId].info.data.row, that.model.seriesInfo[fliterNodes[i].sId].info.data.column) / 1500 * 28);\n                            fontSize = fontSize > 28 ? 28 : fontSize\n                            fontSize = fontSize < 16 ? 16 : fontSize\n                            ctx.font = 'bold ' + fontSize + 'px Arial';\n                            ctx.moveTo(handles.start.x, handles.start.y)\n                            ctx.lineTo(handles.middle.x, handles.middle.y)\n                            ctx.lineTo(handles.middle1.x, handles.middle1.y)\n                            ctx.lineTo(handles.end.x, handles.end.y)\n                            ctx.lineTo(handles.start.x, handles.start.y)\n                            ctx.stroke();\n                            if (that.model.nidusChoose) {\n                                if (that.model.nidusChoose.uuid == fliterNodes[i].nodeInfo.uuid || that.model.nidusChoose.id == fliterNodes[i].nodeInfo.uuid) {\n                                    let xA = {}\n                                    for (var i in handles) {\n                                        xA[handles[i].x] = {\n                                            p: handles[i],\n                                            key: i\n                                        }\n                                    }\n                                    let num = 0\n                                    for (var j in xA) {\n                                        num++\n                                        ctx.fillStyle = \"#0f0\"\n                                        let showNum\n                                        switch (xA[j].key) {\n                                            case \"start\":\n                                                showNum = 1\n                                                break\n                                            case \"middle\":\n                                                showNum = 2\n                                                break\n                                            case \"middle1\":\n                                                showNum = 3\n                                                break\n                                            case \"end\":\n                                                showNum = 4\n                                                break\n                                        }\n                                        if (num <= 2) {\n                                            ctx.fillText(showNum, xA[j].p.x - fontSize, xA[j].p.y)\n                                        } else {\n                                            ctx.fillText(showNum, xA[j].p.x + 5, xA[j].p.y)\n                                        }\n                                    }\n                                }\n                            }\n                            break\n                    }\n                }\n            }\n\n            if (that.changeLayeIdTime == null) {\n                that.cornerstoneArray[id].progress.setPosBar(that.nowLayNum(id))\n            }\n        })\n\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.click', function(value) {\n            console.log(that.controlename, value.e.detail, '=======')\n            if (!that.controlename) {\n                let x = value.e.detail.currentPoints.image.x\n                let y = value.e.detail.currentPoints.image.y\n                let layersNum = that.nowLayNum(id)\n                let nodeA = (that.nodeInfo ? that.nodeInfo[layersNum] : [])\n                nodeA = nodeA ? nodeA : []\n                nodeA = nodeA.filter((item) => {\n                    return item.show\n                })\n                let backId\n                nodeA.map((item1) => {\n                    let nodeInfo = item1.nodeInfo\n                    if (nodeInfo.handles) {\n                        if (nodeInfo.handles.start.x < x && nodeInfo.handles.end.x > x && nodeInfo.handles.start.y < y && nodeInfo.handles.end.y > y) {\n                            backId = nodeInfo.backId || nodeInfo.uuid\n                            that.sequencelist.clickById({\n                                uuid: backId\n                            })\n                            return\n                        }\n                    }\n                    if (nodeInfo.pointA) {\n                        let nx = [0, 0]\n                        let ny = [0, 0]\n                        nodeInfo.pointA.map((itptem) => {\n                            nx[0] = nx[0] < itptem.start.x ? nx[0] : itptem.start.x\n                            nx[1] = nx[1] > itptem.start.x ? nx[1] : itptem.start.x\n                            ny[0] = ny[0] < itptem.start.y ? ny[0] : itptem.start.y\n                            ny[1] = ny[1] > itptem.start.y ? ny[1] : itptem.start.y\n                        })\n                        console.log(nx, ny)\n                        if (nx[0] < x && nx[1] > x && ny[0] < y && ny[1] > y) {\n                            backId = nodeInfo.backId || nodeInfo.uuid\n                            that.sequencelist.clickById({\n                                uuid: backId\n                            })\n                            return\n                        }\n                        console.log(nodeInfo)\n                    }\n                })\n                if (backId) {\n                    return\n                }\n                let brushInfoAll = that.brushManage.brushInfo[layersNum] ? that.brushManage.brushInfo[layersNum] : {}\n                let brushNodes = {}\n                console.log(brushInfoAll)\n                for (let i in brushInfoAll) {\n                    if (brushInfoAll[i].sId) {\n                        let index = brushInfoAll[i].sId.split('_').lastIndexOf(that.cornerstoneArray[id].sId)\n                        if (index != -1) {\n                            let dataNum = Math.floor(y) * value.e.detail.image.width + Math.floor(x)\n                            console.log(dataNum)\n                            if (brushInfoAll[i].orginimage.includes(dataNum)) {\n                                backId = brushInfoAll[i].backId || brushInfoAll[i].id\n                                that.sequencelist.clickById({\n                                    uuid: backId\n                                })\n                                return\n                            }\n                            // brushInfoAll[i].orginimage\n                        }\n                    }\n                }\n                //console.log(that.nodeInfo, that.nowLayNum(id))\n                return\n            }\n\n        })\n\n        //bursh以外的标注事件\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.ModifiedFinsh', function(value) {\n\n        })\n\n        //获取标注信息\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MeasurementEnd', function(value) {\n            //console.log(value)\n\n        })\n\n        //bursh移动侦听\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.brushDown', function(value) {\n\n        })\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MouseDrag', function(value) {\n            //console.log(value.e, 'MeasurementEndMeasurementEndMeasurementEnd')\n\n        })\n\n        //标注移除\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MeasurementRemove', function(value) {\n\n        })\n    }\n    setbrush(value) {\n        console.log(value, '')\n        if (value.imglist.length == 0) {\n            this.event._dispatch('ctcornerstone.brushfirstload')\n            return\n        }\n        let that = this\n        let length = value.imglist.filter((item) => {\n            return item\n        }).length\n        let num = 0\n        let allload = 0\n        for (let i = 0; i < value.imglist.length; i++) {\n            if (value.imglist[i]) {\n                if (num == 0) {\n                    num = i\n                }\n                /*console.log(num,Math.floor(length / 2))\n                if (num == Math.floor(length / 2)) {\n                    this.sequencelist.setLayerInfo(value, num)\n                }*/\n                setTimeout(function() {\n                    let img = new Image()\n                    img.id = i\n                    img.crossOrigin = '';\n                    img.onload = function() {\n                        allload++\n                        that.brushManage.creatNewImage(this, value, {\n                            width: this.width,\n                            height: this.height\n                        }, this.id)\n                        if (allload == value.imglist.length) {\n                            that.event._dispatch('ctcornerstone.brushfirstload')\n                            that.gotoLayer(that.nowLayNum(), value.sId)\n                        }\n                    }\n                    img.onerror = function() {\n                        allload++\n                        if (allload == value.imglist.length) {\n                            that.event._dispatch('ctcornerstone.brushfirstload')\n                            that.gotoLayer(that.nowLayNum(), value.sId)\n                        }\n                    }\n                    img.src = value.imglist[i]\n                }, 300)\n            } else {\n                allload++\n                if (allload == value.imglist.length) {\n                    that.event._dispatch('ctcornerstone.brushfirstload')\n                    that.gotoLayer(that.nowLayNum(), value.sId)\n                }\n            }\n        }\n        this.sequencelist.setLayerInfo(value, num)\n            //this.addVlaue = value\n    }\n}\n\n//原型链一定要有的\nmodule.exports = ctcornerstone;\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/ctcornerstone_view.js","require(\"./ctcornerstone.less\");\n\n/*\n \n \n */\nclass ctcornerstone extends ctcornerstone_base {\n    constructor(app, dom, value, addMore) {\n        super(app, dom, value, addMore)\n        this.freehand = require(\"./freedhand.js\")\n            //console.log(this.freehand)\n    }\n    ctEvent(id, imageAddress, data, total) {\n        let that = this\n\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.ImageRendered', function(value) {\n            //console.log(that.initFrist[id])\n            if (that.model.seriesInfo[that.cornerstoneArray[id].sId]) {\n                value.image.columnPixelSpacing = that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.columnPixelSpacing\n                value.image.rowPixelSpacing = that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.rowPixelSpacing\n            }\n            if (that.model.seriesInfo[that.cornerstoneArray[id].sId]) {\n                that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.column = value.image.columns\n                that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.row = value.image.rows\n            }\n            //console.log(value, 'dksajldkjaksd')\n\n            //console.log(that.model.seriesInfo[that.cornerstoneArray[id].sId], 'that.model.seriesInfo[that.cornerstoneArray[id].sId]')\n            if (that.model.seriesInfo[that.cornerstoneArray[id].sId]) {\n                if (that.model.seriesInfo[that.cornerstoneArray[id].sId].info.data.fileType == \"DCM\") {\n                    that.showWWC(value.viewport, that.cornerstoneArray[id].sId, id)\n                }\n            }\n            if (that.baseLineOpen) {\n                if (that.nowLayNum(id) != Tool.changeToName(imageAddress[value.currentCount * 1], 'jpg')) {\n                    that.makeBaseLine(that.cornerstoneArray[id].sId, Tool.changeToName(imageAddress[value.currentCount * 1], 'jpg'))\n                }\n                if (that.nowLine) {\n                    if (that.nowLine[that.cornerstoneArray[id].sId]) {\n                        let point = that.nowLine[that.cornerstoneArray[id].sId]\n                        if (point.length != 0) {\n                            let ctx = value.canvasContext\n                            ctx.beginPath();\n                            ctx.mozImageSmoothingEnabled = false;\n                            ctx.lineWidth = Math.floor(value.image.columns / 512)\n                            ctx.strokeStyle = '#f00';\n                            ctx.moveTo(point[0].x, point[0].y)\n                            ctx.lineTo(point[1].x, point[1].y)\n                            ctx.stroke();\n                        }\n                    }\n                }\n            }\n            if (that.crossOpen && !that.crossmove) {\n                that.calflow(id)\n            }\n\n            let who = ES.selctorDoc(value.element).parent()\n            let nowId = ES.selctorDoc(value.element).attr('id').replace('ct', '') * 1\n            let layers = Tool.changeToName(imageAddress[value.currentCount * 1], 'jpg')\n            that.dom.find('.ct' + id + ' .layer').html(layers + '/' + total)\n            that.dom.find('.ct' + id + ' .sc').html(that.cornerstoneArray[id].getViewport().scale.toFixed(2))\n            let nodeA = (that.nodeInfo ? that.nodeInfo[layers] : [])\n            nodeA = nodeA ? nodeA : []\n\n            let fliterNodes = nodeA.filter((item) => {\n                if (!item.show) {\n                    let toolData = that.cornerstoneArray[id].getAllState()\n                    toolData.map(function(items) {\n                        if (items.uuid && items.uuid == item.nodeInfo.uuid) {\n                            that.cornerstoneArray[id].clearSigleData(items.tooltype, items, true)\n                        }\n                    })\n                }\n                return item.sId == that.cornerstoneArray[id].sId && item.show\n            })\n            let brushInfoAll = that.brushManage.brushInfo[layers] ? that.brushManage.brushInfo[layers] : {}\n            let brushNodes = {}\n\n            for (let i in brushInfoAll) {\n                if (brushInfoAll[i].sId) {\n                    let index = brushInfoAll[i].sId.split('_').lastIndexOf(that.cornerstoneArray[id].sId)\n                    if (index != -1 && brushInfoAll[i].show) {\n                        brushNodes[i] = brushInfoAll[i]\n                    }\n                }\n            }\n            // console.log(brushNodes, 'brushNodesbrushNodesbrushNodes', brushInfoAll)\n            if (that.nodeShow) {\n                //console.log(brushInfoAll)\n                that.drawImg(brushNodes, value)\n\n            }\n            //return\n            //console.log(fliterNodes, 'fliterNodesfliterNodesfliterNodesfliterNodes', nodeA)\n            //that.dom.find('.ct' + id + ' .cal').html('')\n            if (that.nodeShow) {\n\n                that.drawNode(fliterNodes, value)\n            }\n            let nowVO = that.cornerstoneArray[id].getViewport().voi\n                //console.log(that.nowWWC[id], 'that.nowWWC[id]that.nowWWC[id]that.nowWWC[id]', nowVO)\n            if (that.nowWWC[id]) {\n                if (nowVO.windowCenter != that.nowWWC[id].c || nowVO.windowWidth != that.nowWWC[id].w) {\n                    console.log(nowVO.windowCenter, nowVO.windowWidth, 'lungWindownlungWindownlungWindown')\n                    that.lungWindown(nowVO.windowCenter, nowVO.windowWidth)\n                        //that.lungWindown(that.nowWWC[id].c, that.nowWWC[id].d)\n                }\n            }\n            //console.log(that.cornerstoneArray[id].getViewport())\n            if (that.controlename == 'brushFan' || that.controlename == 'earseFan' || that.controlename == 'brushFanTe') {\n                if (that.nowWWC[id]) {\n                    //console.log(that.nowWWC, 'that.nowWWCthat.nowWWC')\n                    that.lungWindown(that.nowWWC[id].c, that.nowWWC[id].w)\n                }\n            }\n            if (!that.initFrist[id]) {\n                that.initFrist[id] = true\n                let nowCOlor = that.controlename\n                if ((value.image.rows > 1000 || value.image.columns > 1000) && value.image.rate < 1) {\n                    that.defaultFunction(\"brushFanTe\")\n\n                }\n                that.defaultFunction(\"\")\n                if (nowCOlor) {\n                    that.defaultFunction(nowCOlor)\n                }\n                that.event._dispatch('ctcornerstone.loadingfinish', {\n                    sId: that.cornerstoneArray[id].sId\n                })\n            }\n            if (that.changeLayeIdTime == null) {\n                // console.log(that.nowLayNum(id))\n                that.cornerstoneArray[id].progress.setPosBar(that.nowLayNum(id))\n            }\n        })\n\n        //return\n        //bursh以外的标注事件\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.ModifiedFinsh', function(value) {\n            //  console.log(that.controlename)\n            //console.log('Cornerstone_Class.ModifiedFinsh',value)\n            if (that.controlename != \"zoomFan\" && that.controlename != \"wlFan\" && that.controlename != \"restFan\") {\n                let sid = that.cornerstoneArray[id].sId\n                if (!that.model.seriesInfo[sid].needAnno) {\n                    return\n                }\n            }\n            // console.log(value.splitHandle.id, 'ModifiedFinshModifiedFinshModifiedFinshModifiedFinsh')\n            //console.log(value)\n            that.model.controlStauts.delete = true\n            let layer = that.getAlllayer(ES.selctorDoc(value.element).attr('id').replace('ct', '') * 1)\n                //console.log(value)\n                // return\n            let element = that.cornerstoneArray[layer[layer.length - 1]]\n            let e = value.e\n                //console.log(value.splitHandle.handles)\n            let handles = value.splitHandle.handles\n            let sx = handles.start ? handles.start.x : handles.end.x\n            let sy = handles.start ? handles.start.y : handles.end.y\n            let ex = handles.end ? handles.end.x : handles.start.x\n            let ey = handles.end ? handles.end.y : handles.start.y\n            let startX = (sx + ex) / 2\n            let startY = (sy + ey) / 2\n            let maxd = Math.max(ey - sy, ex - sx)\n            let mind = Math.max(ey - sy, ex - sx)\n                //var position = that.getPosition(startX, startY)\n\n            let moveAllElementData = {\n                    \"handles\": handles,\n                    \"id\": value.splitHandle.id,\n                    \"uuid\": value.splitHandle.uuid,\n                    \"tooltype\": e.detail.toolType,\n                    \"layerNumber\": that.nowLayNum(id), // element.axialStack1.currentImageIdIndex + 1,\n                    \"diameter\": mind,\n                    \"meanHu\": value.splitHandle.meanStdDev ? value.splitHandle.meanStdDev.mean : 0,\n                    \"makeType\": 0,\n                    \"diameterm\": maxd.toFixed(2) //, //(xq * value.spsec).toFixed(2),\n                        // \"spliteV\": JSON.stringify(value.splitHandle ? value.splitHandle : \"\")\n                }\n                //console.log('================', e.detail.toolType, value.splitHandle.uuid)\n            if (e.detail.toolType == 'simpleAngle') {\n                let handel = handles\n                moveAllElementData.pointArray = [handel.start.x, handel.start.y, handel.middle.x, handel.middle.y, handel.end.x, handel.end.y].toString()\n                moveAllElementData.rangel = value.splitHandle.rAngle\n            }\n            if (e.detail.toolType == 'alignment') {\n                let handel = handles\n                moveAllElementData.pointArray = [handel.start.x, handel.start.y, handel.middle.x, handel.middle.y, handel.middle1.x, handel.middle1.y, handel.end.x, handel.end.y].toString()\n                moveAllElementData.rangel = value.splitHandle.rAngle\n            }\n            if (e.detail.toolType == 'rectangleRoi' || e.detail.toolType == 'ellipticalRoi' || e.detail.toolType == \"length\") {\n                //  console.log(value)\n                let handel = handles\n                moveAllElementData.pointArray = [handel.start.x, handel.start.y, null, null, handel.end.x, handel.end.y].toString()\n                moveAllElementData.rangel = 0\n            }\n\n            //console.log(moveAllElementData,'moveAllElementDatamoveAllElementDatamoveAllElementData')\n            that.cornerstoneArray[id].moveAllElementData = moveAllElementData\n        })\n\n        //获取标注信息\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MeasurementEnd', function(value) {\n            //console.log(value,'valuevaluevalue')\n            //画笔特殊情况，因为画笔只有面积的变化，他不大依赖点位信息，只有面积信息，所以所有的信息最后变成一张png图片\n            console.log('=================', that.cornerstoneArray[id].moveAllElementData, that.tooltype)\n            if (!value) {\n                return\n            }\n            if (that.controlename != \"zoomFan\" && that.controlename != \"wlFan\" && that.controlename != \"restFan\") {\n                let sid = that.cornerstoneArray[id].sId\n                if (!that.model.seriesInfo[sid].needAnno) {\n                    return\n                }\n            }\n            value.sId = that.cornerstoneArray[id].sId\n            that.model.controlStauts.delete = true\n            let layerNumber = that.nowLayNum(id) //that.cornerstoneArray[0].axialStack1.currentImageIdIndex + 1\n                //console.log(that.controlename ,'that.controlename')\n            if (that.controlename == 'brushFan' || that.controlename == 'earseFan') {\n                if (!that.model.nidusChoose) {\n                    return\n                }\n                let imageAnnotationToolType = that.model.nidusChoose.toolType.imageAnnotationToolType\n                if (imageAnnotationToolType != 'MAGIC_STICK_SINGLE' && imageAnnotationToolType != 'POLYGON' && imageAnnotationToolType != 'QSELECT' && imageAnnotationToolType != 'REGION_PAINT' && imageAnnotationToolType != 'FREEHAND') {\n                    that.brushId = null\n                    return\n                }\n                if (imageAnnotationToolType == 'MAGIC_STICK_SINGLE' || imageAnnotationToolType == 'POLYGON' || imageAnnotationToolType == 'QSELECT' || imageAnnotationToolType == 'REGION_PAINT' || imageAnnotationToolType == 'FREEHAND') {\n                    value.layerNumber = layerNumber\n                    console.log(that.model.nidusChoose)\n                    value.backId = that.model.nidusChoose.bid\n                    value.toolType = value.toolType ? value.toolType : {\n                        type: that.model.nidusChoose.toolType.imageAnnotationToolType\n                    }\n                    that.updateAllCanvas(value.sId)\n                        //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                    that.event._dispatch('ctcornerstone.editBrush', value)\n                    return\n                }\n            }\n            //多边形\n            if (that.controlename == 'polygonFan') {\n                /*let nowId = value.uuid // that.model.nidusChoose ? that.model.nidusChoose.uuid : value.uuid\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                        nowId = that.model.nidusChoose.uuid\n                    }\n                }*/\n                // let imageAll = new Image()\n                // imageAll.onload = function() {\n                let brushInfo = that.brushManage.creatBrush(value.layerNumber, that.freehand.endPath(), value.uuid, that.cornerstoneArray[id].sId, {\n                    w: that.freehand.canvas.width,\n                    h: that.freehand.canvas.height\n                })\n\n                // console.log(that.brushManage.brushInfo)\n                that.cornerstoneArray[id].moveAllElementData.image = brushInfo.image\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.toolType.imageAnnotationToolType == 'POLYGON') {\n                        if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                            value.backId = that.model.nidusChoose.bid\n                            that.event._dispatch('ctcornerstone.editBrush', value)\n                            that.updateAllCanvas(value.sId)\n                                //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                            that.cornerstoneArray[id].moveAllElementData = null\n                            return\n                        }\n                    }\n                }\n                value.show = true\n                that.sequencelist.addNode(value)\n                that.event._dispatch('ctcornerstone.addImageResult', value)\n                that.updateAllCanvas(value.sId)\n                    //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                that.cornerstoneArray[id].moveAllElementData = null\n                    // }\n                    //imageAll.src = that.freehand.endPath().src\n\n                return\n            }\n            //自由画笔\n            if (that.controlename == 'freehandFan') {\n\n                //let imageAll = new Image()\n                //imageAll.onload = function() {\n                let brushInfo = that.brushManage.creatBrush(value.layerNumber, that.freehand.noneClosePath(), value.uuid, that.cornerstoneArray[id].sId, {\n                    w: that.freehand.canvas.width,\n                    h: that.freehand.canvas.height\n                })\n\n                // console.log(that.brushManage.brushInfo)\n                that.cornerstoneArray[id].moveAllElementData.image = brushInfo.image\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.toolType.imageAnnotationToolType == 'FREEHAND') {\n                        if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                            value.backId = that.model.nidusChoose.bid\n                            that.event._dispatch('ctcornerstone.editBrush', value)\n                            that.updateAllCanvas(value.sId)\n                                //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                            that.cornerstoneArray[id].moveAllElementData = null\n                            return\n                        }\n                    }\n                }\n                value.show = true\n                that.sequencelist.addNode(value)\n                that.event._dispatch('ctcornerstone.addImageResult', value)\n                that.updateAllCanvas(value.sId)\n                    //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                that.cornerstoneArray[id].moveAllElementData = null\n                    //}\n                    //imageAll.src = that.freehand.noneClosePath().src\n\n                return\n            }\n            if (that.controlename == 'regionpaintFan') {\n                console.log(value)\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.toolType.imageAnnotationToolType == 'REGION_PAINT') {\n                        if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                            value.backId = that.model.nidusChoose.bid\n                            that.event._dispatch('ctcornerstone.editBrush', value)\n                            that.updateAllCanvas(value.sId)\n                                //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                            that.cornerstoneArray[id].moveAllElementData = null\n                            return\n                        }\n                    }\n                }\n                value.show = true\n                that.sequencelist.addNode(value)\n                that.updateAllCanvas(value.sId)\n                    //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                that.event._dispatch('ctcornerstone.addImageResult', value)\n                that.cornerstoneArray[id].moveAllElementData = null\n                return\n            }\n            console.log(value, 'cobbFan', that.controlename, value.tooltype, value.uuid)\n            console.log(cornerstoneTools.getToolState(that.cornerstoneArray[id].element, \"length\"))\n\n            if (that.controlename == 'cobbFan' && !value.uuid) {\n                //let typeC = that.controlename.replace('Fan', '')\n                console.log(that.model.nidusChoose)\n                if (!that.model.nidusChoose) {\n                    console.log('addd')\n                    that.cobbAdd(value, layerNumber, id)\n                    return\n                }\n                if (that.model.nidusChoose && that.model.nidusChoose.type != 'cobb') {\n                    console.log('addd')\n                    that.cobbAdd(value, layerNumber, id)\n                    return\n                }\n                if (that.model.nidusChoose) {\n                    let data = that.drawInfo.getInfo(that.model.nidusChoose)\n                    if (data.lineA.length == 2) {\n                        console.log('addd')\n                        that.cobbAdd(value, layerNumber, id)\n                        return\n                    }\n                    if (data.lineA.length < 2) {\n                        //value.uuid = that.model.nidusChoose.uuid\n                        that.setSpliceUUID(value, 'length', that.model.nidusChoose.uuid, id)\n                        data.lineA.push(value.handles)\n                        that.dom.find('.ct' + id + ' .cal').html('cobb角' + Tool.calAngel(data.lineA[0], data.lineA[1]))\n                        data.setDataType = 'number'\n                        that.event._dispatch('ctcornerstone.editNode', data)\n                        return\n                    }\n                }\n            }\n            if ((that.controlename == 'rectangleRoiFan' || that.controlename == 'ellipticalRoiFan' || that.controlename == 'simpleAngleFan' || that.controlename == 'lengthFan' || that.controlename == 'alignmentFan') && !value.uuid) {\n                console.log(that.controlename, 'that.controlenamethat.controlenamethat.controlenamethat.controlename')\n                let type = that.controlename.replace('Fan', '')\n                if (type == value.tooltype) {\n                    if (!value.uuid) {\n                        that.setSpliceUUID(value, type, value.id, id)\n                    }\n                    that.drawInfo.setInfo(value)\n                    value.setDataType = 'number'\n                    value.toolType = that.tooltype\n                    value.layerNumber = layerNumber\n                    value.show = true\n                    value.type = type\n                        //value.sId=that.cornerstoneArray[id].sId\n                    that.sequencelist.addNode(value)\n                    if (!that.nodeInfo) {\n                        that.nodeInfo = {}\n                    }\n                    if (!that.nodeInfo[layerNumber]) {\n                        that.nodeInfo[layerNumber] = []\n                    }\n                    that.nodeInfo[layerNumber].push({\n                        layerNumber: layerNumber,\n                        type: value.tooltype,\n                        nodeInfo: value,\n                        sId: value.sId,\n                        show: true\n                    })\n                    that.event._dispatch('ctcornerstone.addNode', value)\n                    return\n                }\n            }\n            if (value.tooltype) {\n                if ((value.tooltype == \"rectangleRoi\" || value.tooltype == 'ellipticalRoi' || value.tooltype == 'simpleAngle' || value.tooltype == 'length' || value.tooltype == \"alignment\") && value.uuid) {\n                    //console.log(value, 'rectangleRoirectangleRoirectangleRoirectangleRoirectangleRoi', JSON.stringify(value))\n                    that.drawInfo.setInfo(value)\n                    if (value.type == \"cobb\") {\n                        let nowData = that.cornerstoneArray[id].geSiglneState('length')\n                        console.log(nowData)\n                        if (nowData) {\n                            value.lineA = []\n                            nowData.data.map(function(item) {\n                                if (item.uuid == value.uuid) {\n                                    value.lineA.push(item.handles)\n                                }\n                            })\n                            if (value.lineA.length == 2) {\n                                that.dom.find('.ct' + id + ' .cal').html('cobb角:' + Tool.calAngel(value.lineA[0], value.lineA[1]))\n                            }\n                        }\n                    }\n                    value.imageAnnotationId = value.toolType.imageAnnotationId || value.imageAnnotationId\n                    value.imageAnnotationToolId = value.toolType.id || value.imageAnnotationToolId\n                    value.imageAnnotationToolType = value.toolType.type || value.imageAnnotationToolType\n                    value.imageAnnotationType = value.toolType.imageAnnotation || value.imageAnnotationType\n                        ///console.log(value, that.drawInfo.info)\n                    value.setDataType = 'number'\n                    that.event._dispatch('ctcornerstone.editNode', value)\n                }\n            }\n        })\n\n        //bursh移动侦听\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.brushDown', function(value) {\n            if (that.controlename == 'brushFan') {}\n        })\n\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.click', function(value) {\n            console.log(that.controlename, value.e.detail, '=======')\n            if (!that.controlename || that.controlename == \"zoomFan\" || that.controlename == \"wlFan\") {\n                let x = value.e.detail.currentPoints.image.x\n                let y = value.e.detail.currentPoints.image.y\n                let layersNum = that.nowLayNum(id)\n                let nodeA = (that.nodeInfo ? that.nodeInfo[layersNum] : [])\n                nodeA = nodeA ? nodeA : []\n                nodeA = nodeA.filter((item) => {\n                    return item.show\n                })\n                let backId\n                nodeA.map((item1) => {\n                    let nodeInfo = item1.nodeInfo\n                    if (nodeInfo.handles) {\n                        if (nodeInfo.handles.middle&&nodeInfo.handles.middle1) {\n                            let xmax = Math.max(nodeInfo.handles.start.x, nodeInfo.handles.end.x, nodeInfo.handles.middle.x)\n                            let xmin = Math.max(nodeInfo.handles.start.x, nodeInfo.handles.end.x, nodeInfo.handles.middle.x)\n                            let ymax = Math.max(nodeInfo.handles.start.y, nodeInfo.handles.end.y, nodeInfo.handles.middle.y)\n                            let ymin = Math.max(nodeInfo.handles.start.y, nodeInfo.handles.end.y, nodeInfo.handles.middle.y)\n                            if (xmin < x && xmax > x && ymin < y && ymax > y) {\n                                backId = nodeInfo.backId || nodeInfo.uuid\n                                that.sequencelist.clickById({\n                                    uuid: backId\n                                })\n                            }\n                            return\n                        }\n                        if (nodeInfo.handles.start.x < x && nodeInfo.handles.end.x > x && nodeInfo.handles.start.y < y && nodeInfo.handles.end.y > y) {\n                            backId = nodeInfo.backId || nodeInfo.uuid\n                            console.log('aaaaaaaaaaaa')\n                            that.sequencelist.clickById({\n                                uuid: backId\n                            })\n                            return\n                        }\n                    }\n                    if (nodeInfo.pointA) {\n                        let nx = [20000, 0]\n                        let ny = [20000, 0]\n                        nodeInfo.pointA.map((itptem) => {\n                            nx[0] = nx[0] < itptem.start.x ? nx[0] : itptem.start.x\n                            nx[1] = nx[1] > itptem.start.x ? nx[1] : itptem.start.x\n                            ny[0] = ny[0] < itptem.start.y ? ny[0] : itptem.start.y\n                            ny[1] = ny[1] > itptem.start.y ? ny[1] : itptem.start.y\n                        })\n                        console.log(nx, ny)\n                        if (nx[0] < x && nx[1] > x && ny[0] < y && ny[1] > y) {\n                            backId = nodeInfo.backId || nodeInfo.uuid\n                            that.sequencelist.clickById({\n                                uuid: backId\n                            })\n                            return\n                        }\n                        console.log(nodeInfo)\n                    }\n                })\n                if (backId) {\n                    return\n                }\n                let brushInfoAll = that.brushManage.brushInfo[layersNum] ? that.brushManage.brushInfo[layersNum] : {}\n                let brushNodes = {}\n                console.log(brushInfoAll)\n                for (let i in brushInfoAll) {\n                    if (brushInfoAll[i].sId) {\n                        let index = brushInfoAll[i].sId.split('_').lastIndexOf(that.cornerstoneArray[id].sId)\n                        if (index != -1) {\n                            let dataNum = Math.floor(y) * value.e.detail.image.width + Math.floor(x)\n                            console.log(dataNum)\n                            if (brushInfoAll[i].orginimage.includes(dataNum)) {\n                                backId = brushInfoAll[i].backId || brushInfoAll[i].id\n                                that.sequencelist.clickById({\n                                    uuid: backId\n                                })\n                                return\n                            }\n                            // brushInfoAll[i].orginimage\n                        }\n                    }\n                }\n                //console.log(that.nodeInfo, that.nowLayNum(id))\n                return\n            }\n            if (that.controlename != \"zoomFan\" && that.controlename != \"wlFan\" && that.controlename != \"restFan\") {\n                let sid = that.cornerstoneArray[id].sId\n                if (!that.model.seriesInfo[sid].needAnno) {\n                    return\n                }\n            }\n            if (that.controlename == 'magicStickSingleFan') {\n                //console.log(value)\n                value.layerNumber = that.nowLayNum(id)\n                value.toolType = that.tooltype\n                value.id = value.uuid = Tool.guid()\n                value.type = that.controlename.replace('Fan', '')\n                value.imageAnnotationId = value.toolType.imageAnnotationId\n                value.imageAnnotationToolId = value.toolType.id\n                value.imageAnnotationToolType = value.toolType.type\n                value.imageAnnotationType = value.toolType.imageAnnotation\n                value.sId = that.cornerstoneArray[id].sId\n                that.sequencelist.addNode(value)\n                let pianyi = [\n                    [0, 0],\n                    [0, 1],\n                    [1, 0],\n                    [1, 1]\n                ]\n                value.points = []\n                for (let i = 0; i < 4; i++) {\n                    let data = {\n                        image: value.e.detail.image,\n                        currentPoints: {\n                            image: {\n                                x: value.e.detail.currentPoints.image.x + pianyi[i][0],\n                                y: value.e.detail.currentPoints.image.y + pianyi[i][1]\n                            }\n                        }\n                    }\n                    data.currentPoints.image.ct = that.model.getDicomValue(data).hu\n                        //console.log(data.currentPoints.image)\n                    value.points.push(data.currentPoints.image)\n                }\n                value.ct = that.model.getDicomValue(value.e.detail)\n                that.event._dispatch('ctcornerstone.makeMagic', value)\n            }\n            if (that.controlename == \"quickselectFan\") {\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.sId != that.cornerstoneArray[id].sId) {\n                        that.app.alert.show({\n                            title: ' ',\n                            msg: '选择的病灶跟当前选中序列不是同一序列，请取消病灶选中，或者切换序列',\n                            close: true\n                        })\n                        return\n                    }\n                }\n                //let uuid = that.cornerstoneArray[id].moveAllElementData ? that.cornerstoneArray[id].moveAllElementData.uuid : \"\"\n                let uuid = \"\" //that.model.nidusChoose ? that.model.nidusChoose.uuid : uuid\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.toolType.imageAnnotationToolType == 'QSELECT') {\n                        if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                            uuid = that.model.nidusChoose.uuid\n                        }\n                    }\n                }\n                //let points = that.model.floodFill_newRGB32(value.e.detail, that.cornerstoneTools_config.quickselect_config)\n                let points = that.model.makeCiclePoint(value.e.detail, that.cornerstoneTools_config.quickselect_config)\n                    //console.log(value.e.detail.image.width)\n                let brushInfo = that.brushManage.setBrush(that.nowLayNum(id), points, 0, {\n                    w: value.e.detail.image.width,\n                    h: value.e.detail.image.height\n                }, uuid, that.cornerstoneArray[id].sId)\n                brushInfo.toolType = that.tooltype\n                brushInfo.layerNumber = that.nowLayNum(id)\n                brushInfo.type = 'brush'\n                brushInfo.imageAnnotationId = that.tooltype.imageAnnotationId\n                brushInfo.imageAnnotationToolId = that.tooltype.id\n                brushInfo.imageAnnotationToolType = that.tooltype.type\n                brushInfo.imageAnnotationType = that.tooltype.imageAnnotation\n                brushInfo.sId = that.cornerstoneArray[id].sId\n                brushInfo.show = true\n                that.cornerstoneArray[id].moveAllElementData = brushInfo\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.sId != that.cornerstoneArray[id].sId) {\n                        return\n                    }\n                    if (that.model.nidusChoose.toolType.imageAnnotationToolType == 'QSELECT') {\n                        if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                            brushInfo.backId = that.model.nidusChoose.bid\n                            that.updateAllCanvas(that.cornerstoneArray[id].sId)\n                                //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                            that.event._dispatch('ctcornerstone.editBrush', brushInfo)\n                            that.cornerstoneArray[id].moveAllElementData = null\n                            return\n                        }\n                    }\n                }\n                console.log(brushInfo, 'brushInfobrushInfobrushInfobrushInfobrushInfobrushInfobrushInfobrushInfo')\n                that.sequencelist.addNode(brushInfo)\n                that.updateAllCanvas(that.cornerstoneArray[id].sId)\n                    //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                that.event._dispatch('ctcornerstone.addImageResult', brushInfo)\n                that.cornerstoneArray[id].moveAllElementData = null\n                    //console.log(points)\n            }\n            if (that.controlename == 'alignmentFan' && !that.cornerstoneArray[id].moveAllElementData) {\n                //let typeC = that.controlename.replace('Fan', '')\n                return\n                console.log(that.model.nidusChoose, that.tooltype)\n            }\n        })\n\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.mousedown', function(value) {\n            console.log(that.controlename, that.cornerstoneArray[id].moveAllElementData, 'Cornerstone_Class.mousedown')\n            if (that.controlename != \"zoomFan\" && that.controlename != \"wlFan\" && that.controlename != \"restFan\" && that.controlename) {\n                let sid = that.cornerstoneArray[id].sId\n                if (!that.model.seriesInfo[sid].needAnno) {\n                    that.app.alert.show({\n                        title: ' ',\n                        msg: '该序列不能标注',\n                        close: true\n                    })\n                    return\n                }\n            }\n            if (that.cornerstoneArray[id].moveAllElementData) {\n                if (that.cornerstoneArray[id].moveAllElementData.uuid && (that.cornerstoneArray[id].moveAllElementData.tooltype == \"simpleAngle\" || that.cornerstoneArray[id].moveAllElementData.tooltype == \"alignment\")) {\n                    let avalue = that.drawInfo.getInfo(that.cornerstoneArray[id].moveAllElementData)\n                        //console.log(avalue, that.cornerstoneArray[id].moveAllElementData)\n                    if (avalue) {\n                        avalue.handles = that.cornerstoneArray[id].moveAllElementData.handles\n                        avalue.imageAnnotationId = avalue.toolType.imageAnnotationId || avalue.imageAnnotationId\n                        avalue.imageAnnotationToolId = avalue.toolType.id || avalue.imageAnnotationToolId\n                        avalue.imageAnnotationToolType = avalue.toolType.type || avalue.imageAnnotationToolType\n                        avalue.imageAnnotationType = avalue.toolType.imageAnnotation || avalue.imageAnnotationType\n                        avalue.setDataType = 'number'\n                        that.event._dispatch('ctcornerstone.editNode', avalue)\n                        that.cornerstoneArray[id].moveAllElementData = null\n                        return\n                    }\n                }\n                if (!that.cornerstoneArray[id].moveAllElementData.uuid && (that.cornerstoneArray[id].moveAllElementData.tooltype == \"simpleAngle\" || that.cornerstoneArray[id].moveAllElementData.tooltype == \"alignment\")) {\n                    let value = that.cornerstoneArray[id].moveAllElementData\n                    let type = that.controlename.replace('Fan', '')\n                    let layerNumber = that.nowLayNum(id)\n                    that.setSpliceUUID(value, type, value.id, id)\n                    that.drawInfo.setInfo(value)\n                    value.setDataType = 'number'\n                    value.toolType = that.tooltype\n                    value.layerNumber = layerNumber\n                    value.show = true\n                    value.type = type\n                    value.sId = that.cornerstoneArray[id].sId\n                    that.sequencelist.addNode(value)\n                    if (!that.nodeInfo) {\n                        that.nodeInfo = {}\n                    }\n                    if (!that.nodeInfo[layerNumber]) {\n                        that.nodeInfo[layerNumber] = []\n                    }\n                    that.nodeInfo[layerNumber].push({\n                            layerNumber: layerNumber,\n                            type: value.tooltype,\n                            nodeInfo: value,\n                            sId: value.sId,\n                            show: true\n                        })\n                        //that.cornerstoneArray[id].moveAllElementData = moveAllElementData\n                    that.event._dispatch('ctcornerstone.addNode', value)\n                    return\n                }\n            }\n\n            if (that.controlename == 'brushFan' || that.controlename == 'earseFan') {\n                if (!that.model.nidusChoose) {\n                    //console.log(value.tooltype)\n                    if (value.toolType) {\n                        that.sequencelist.addNode(value)\n                    } else {\n                        that.app.alert.show({\n                            title: ' ',\n                            msg: '没有对应的病灶',\n                            close: true\n                        })\n                    }\n                    return\n                }\n            }\n            //console.log(that.cornerstoneTools_config,that.controlename.replace('Fan','_config'),that.controlename)\n\n            if (that.controlename == \"polygonFan\" || that.controlename == \"freehandFan\") {\n                let lineWidth = that.cornerstoneTools_config[that.controlename.replace('Fan', '_config')].lineWidth\n                let e = value.e\n                let wh = {\n                    width: e.detail.image.width,\n                    height: e.detail.image.height\n                }\n                console.log(that.cornerstoneArray[id].moveAllElementData, that.model.nidusChoose)\n                let image\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.sId != that.cornerstoneArray[id].sId) {\n                        that.app.alert.show({\n                            title: ' ',\n                            msg: '选择的病灶跟当前选中序列不是同一序列，请取消病灶选中，或者切换序列',\n                            close: true\n                        })\n                        return\n                    }\n\n                    let nowbackName = that.controlename.replace('Fan', '')\n                    if (that.model.nidusChoose.toolType.imageAnnotationToolType == nowbackName.toUpperCase()) {\n                        if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                            console.log('same')\n                                //if (that.model.nidusChoose.toolType.imageAnnotationToolType == 'POLYGON') {\n                            let data = {\n                                layerNumber: that.nowLayNum(id),\n                                uuid: that.model.nidusChoose.uuid\n                            }\n                            let info = that.brushManage.getInfo(data)\n                            image = info ? that.brushManage.getInfo(data).image : null\n                        } else {\n                            image = null\n                        }\n                    } else {\n                        image = null\n                    }\n                } else {\n                    that.freehand.pointEnd = null\n                    image = that.cornerstoneArray[id].moveAllElementData ? that.cornerstoneArray[id].moveAllElementData.image : null\n                }\n                that.chooseHU = that.model.getDicomValue(value.e.detail)\n                console.log(lineWidth, e.detail)\n                that.freehand.creatPath(e.detail.startPoints.image, wh, image, lineWidth, that.controlename.replace('Fan', ''))\n            }\n        })\n\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MouseDrag', function(value) {\n            //console.log(value.e, 'MeasurementEndMeasurementEndMeasurementEnd', that.controlename)\n            //console.log('aaaaaaaaaaa')\n            if (value.e.mousePos == 2) {\n                return\n            }\n            if (that.controlename != \"zoomFan\" && that.controlename != \"wlFan\" && that.controlename != \"restFan\") {\n                let sid = that.cornerstoneArray[id].sId\n                if (!that.model.seriesInfo[sid].needAnno) {\n                    return\n                }\n            }\n            value.layerNumber = that.nowLayNum(id)\n            let radius = that.cornerstoneTools_config.brush_config.radius // cornerstoneTools.brush.getConfiguration().radius\n            let lineWidth = that.cornerstoneTools_config.brush_config.lineWidth\n                //console.log(cornerstoneTools.brush.getConfiguration())\n            let brushInfo = null\n            let uuid = that.cornerstoneArray[id].moveAllElementData ? that.cornerstoneArray[id].moveAllElementData.uuid : \"\"\n            if (that.controlename == \"polygonFan\" || that.controlename == \"freehandFan\") {\n                if (that.model.nidusChoose) {\n                    if (that.model.nidusChoose.sId != that.cornerstoneArray[id].sId) {\n                        return\n                    }\n                    if (that.model.nidusChoose.toolType.imageAnnotationToolType == that.controlename || that.model.nidusChoose.toolType.imageAnnotationToolType == that.controlename.replace('Fan', '').toUpperCase()) {\n                        //if (that.model.nidusChoose.toolType.imageAnnotationToolType == 'polygonFan' || that.model.nidusChoose.toolType.imageAnnotationToolType == 'POLYGON') {\n                        if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                            uuid = that.model.nidusChoose.uuid\n                        }\n                    }\n                }\n                //console.log(that.findHU(value.e.detail), value.e.detail.currentPoints.image)\n                console.log(value.layerNumber, uuid)\n                let point = value.e.detail.currentPoints.image //that.model.findHU(value.e.detail, that.cornerstoneTools_config.polygon_config, that.chooseHU) || value.e.detail.currentPoints.image\n                console.log(value.e.detail, 'value.e.detailvalue.e.detailvalue.e.detail')\n                    //let imageAll = new Image()\n                    //imageAll.onload = function() {\n                let brushInfo = that.brushManage.creatBrush(value.layerNumber, that.freehand.drawPath(point), uuid, that.cornerstoneArray[id].sId, {\n                    w: value.e.detail.image.width,\n                    h: value.e.detail.image.height\n                })\n                brushInfo.toolType = that.tooltype\n                brushInfo.layerNumber = value.layerNumber\n                brushInfo.type = 'brush'\n                brushInfo.imageAnnotationId = that.tooltype.imageAnnotationId\n                brushInfo.imageAnnotationToolId = that.tooltype.id\n                brushInfo.imageAnnotationToolType = that.tooltype.type\n                brushInfo.imageAnnotationType = that.tooltype.imageAnnotation\n                brushInfo.show = true\n                that.cornerstoneArray[id].moveAllElementData = brushInfo\n                that.updateAllCanvas(that.cornerstoneArray[id].sId)\n                    // }\n                    //imageAll.src = that.freehand.drawPath(point).src\n\n                //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                return\n            }\n\n            if (that.controlename == \"regionpaintFan\") {\n                if (that.model.nidusChoose) {\n                    //console.log(that.model.nidusChoose.toolType.imageAnnotationToolType)\n                    if (that.model.nidusChoose.toolType.imageAnnotationToolType == 'regionpaintFan' || that.model.nidusChoose.toolType.imageAnnotationToolType == 'REGION_PAINT') {\n                        if (that.model.nidusChoose.toolType.imageAnnotation == that.tooltype.imageAnnotation) {\n                            uuid = that.model.nidusChoose.uuid\n                        }\n                    }\n                    if (that.model.nidusChoose.sId != that.cornerstoneArray[id].sId) {\n                        return\n                    }\n                    if (that.model.nidusChoose.sId != that.cornerstoneArray[id].sId) {\n                        return\n                    }\n                }\n                //console.log(that.findHU(value.e.detail), value.e.detail.currentPoints.image)\n                // console.log(value.e.detail.image)\n                let brushInfo = that.brushManage.setBrush(value.layerNumber, value.e.detail.currentPoints.image, radius, {\n                    w: value.e.detail.image.width,\n                    h: value.e.detail.image.height\n                }, uuid, that.cornerstoneArray[id].sId)\n                brushInfo.toolType = that.tooltype\n                brushInfo.layerNumber = value.layerNumber\n                brushInfo.type = 'brush'\n                brushInfo.imageAnnotationId = that.tooltype.imageAnnotationId\n                brushInfo.imageAnnotationToolId = that.tooltype.id\n                brushInfo.imageAnnotationToolType = that.tooltype.type\n                brushInfo.imageAnnotationType = that.tooltype.imageAnnotation\n                brushInfo.show = true\n                that.cornerstoneArray[id].moveAllElementData = brushInfo\n                that.updateAllCanvas(that.cornerstoneArray[id].sId)\n                    //cornerstone.updateImage(that.cornerstoneArray[id].element)\n                return\n            }\n            that.model.controlStauts.delete = true\n            if (that.app.parpam['type'] == 'preview' && that.model.nidusChoose) {\n                that.model.nidusChoose.bid = that.model.nidusChoose.uuid\n            }\n            if (that.controlename == 'brushFan' || that.controlename == 'earseFan') {\n                if (!that.model.nidusChoose) {\n                    return\n                } else {\n                    if (that.model.nidusChoose.sId != that.cornerstoneArray[id].sId) {\n                        return\n                    }\n                }\n            }\n            //console.log('brushFan', that.controlename)\n            if (that.controlename == 'brushFan') {\n                // that.nowImage =\n                uuid = that.model.nidusChoose ? that.model.nidusChoose.uuid : \"\"\n                if (that.model.nidusChoose.toolType.imageAnnotationToolType == \"MAGIC_STICK_SINGLE\") {\n                    uuid = that.model.nidusChoose ? that.model.nidusChoose.bid : \"\"\n                }\n                brushInfo = that.brushManage.setBrush(value.layerNumber, value.e.detail.currentPoints.image, radius, {\n                    w: value.e.detail.image.width,\n                    h: value.e.detail.image.height\n                }, uuid, that.cornerstoneArray[id].sId)\n                that.updateAllCanvas(that.cornerstoneArray[id].sId)\n                    //cornerstone.updateImage(that.cornerstoneArray[id].element)\n\n                //that.gotoLayer(that.nowLayNum())\n                // that.drawInfo.setBrush(value.layerNumber, value.e.detail.currentPoints.image, radius, value.e.detail.image.width)\n            }\n            if (that.controlename == 'earseFan') {\n                console.log('earseFan', '====================', value.layerNumber, uuid)\n                uuid = that.model.nidusChoose ? that.model.nidusChoose.uuid : \"\"\n                if (that.model.nidusChoose.toolType.imageAnnotationToolType == \"MAGIC_STICK_SINGLE\") {\n                    uuid = that.model.nidusChoose ? that.model.nidusChoose.bid : \"\"\n                }\n                brushInfo = that.brushManage.removeBrush(value.layerNumber, value.e.detail.currentPoints.image, radius, {\n                    w: value.e.detail.image.width,\n                    h: value.e.detail.image.height\n                }, uuid)\n                that.updateAllCanvas(that.cornerstoneArray[id].sId)\n                    //cornerstone.updateImage(that.cornerstoneArray[id].element)\n            }\n\n            that.cornerstoneArray[id].moveAllElementData = brushInfo\n        })\n\n        //标注移除\n        this.cornerstoneArray[id].event._addEvent('Cornerstone_Class.MeasurementRemove', function(value) {\n            //console.log(that.model.controlStauts.delete)\n            if (!that.model.controlStauts.delete) {\n                return\n            }\n            console.log(value, 'MeasurementRemoveMeasurementRemoveMeasurementRemoveMeasurementRemove', that.cornerstoneArray[id].moveAllElementData)\n            if (value.id) {\n                that.endDone(value, 0)\n            }\n        })\n        ES.selctorDoc(window).on('mousemove', function(e) {\n            //console.log(that.controlename)\n            let cid = ES.selctorDoc(e.target).parent().attr('id')\n                //console.log(cid)\n            if (cid) {\n                cid = cid.replace('ct', '') * 1\n                if (that.cornerstoneArray[cid]) {\n                    that.mousemoveView = that.cornerstoneArray[cid].getViewport()\n                    that.mousePos = {\n                        x: e.pageX,\n                        y: e.pageY\n                    }\n                } else {\n                    that.mousemoveView = null\n                    that.mousePos = null\n                }\n            }\n            if (that.controlename == 'quickselectFan') {\n                if (cid != null) {\n                    that.makeCicle()\n                }\n            } else if (that.controlename == 'brushFan' || that.controlename == 'earseFan') {\n                if (cid != null) {\n                    console.log('================')\n                    that.makeBrushCicle()\n                }\n            } else {\n                that.dom.find('.cicle').hide()\n            }\n\n        })\n    }\n\n    alignmentAdd(value, id, who) {\n        value.layerNumber = this.nowLayNum(id)\n        this.drawInfo.setInfo(value)\n        value.show = true\n        value.toolType = this.tooltype\n        value.id = value.uuid = Tool.guid()\n        value.type = this.controlename.replace('Fan', '')\n        value.imageAnnotationId = value.toolType.imageAnnotationId\n        value.imageAnnotationToolId = value.toolType.id\n        value.imageAnnotationToolType = value.toolType.type\n        value.imageAnnotationType = value.toolType.imageAnnotation\n        value.sId = this.cornerstoneArray[id].sId\n        if (value.e) {\n            value.pointA = [{\n                start: {\n                    x: value.e.detail.currentPoints.image.x,\n                    y: value.e.detail.currentPoints.image.y\n                }\n            }]\n        } else {\n            value.pointA = [{}]\n        }\n        console.log(value)\n        value.handles = {\n            start: {},\n            end: {}\n        }\n        if (!this.nodeInfo) {\n            this.nodeInfo = {}\n        }\n        if (!this.nodeInfo[value.layerNumber]) {\n            this.nodeInfo[value.layerNumber] = []\n        }\n        this.nodeInfo[value.layerNumber].push({\n            layerNumber: value.layerNumber,\n            type: value.type,\n            nodeInfo: value,\n            sId: value.sId,\n            show: true\n        })\n        this.sequencelist.addNode(value)\n        this.event._dispatch('ctcornerstone.addNode', value)\n    }\n    cobbAdd(value, layerNumber, id) {\n        let typeC = this.controlename.replace('Fan', '')\n        if (!value.uuid) {\n            this.setSpliceUUID(value, 'length', value.id, id)\n        }\n        this.drawInfo.setInfo(value)\n        value.setDataType = 'number'\n        value.toolType = this.tooltype\n        value.layerNumber = layerNumber\n        value.type = typeC\n        value.lineA = [value.handles]\n        value.show = true\n            //value.sId=that.cornerstoneArray[id].sId\n        this.sequencelist.addNode(value)\n        if (!this.nodeInfo) {\n            this.nodeInfo = {}\n        }\n        if (!this.nodeInfo[layerNumber]) {\n            this.nodeInfo[layerNumber] = []\n        }\n        this.nodeInfo[layerNumber].push({\n            layerNumber: layerNumber,\n            type: value.tooltype,\n            nodeInfo: value,\n            sId: value.sId,\n            show: true\n        })\n        this.event._dispatch('ctcornerstone.addNode', value)\n    }\n    makeCicle() {\n        if (!this.mousemoveView) {\n            return\n        }\n        let radius = this.cornerstoneTools_config.quickselect_config.deviation\n        let showRadius = Math.ceil(radius * this.mousemoveView.scale)\n        this.dom.find('.cicle').hide()\n        this.dom.find('.cicle').css({\n            \"width\": showRadius,\n            \"height\": showRadius,\n            'border-radius': showRadius,\n            'broder': '1px dashed #000',\n            \"background\": 'transparent',\n            \"transform\": \"translate(\" + (this.mousePos.x - showRadius / 2) + \"px,\" + (this.mousePos.y - showRadius / 2) + \"px)\",\n            \"display\": \"block\"\n        })\n    }\n    makeBrushCicle() {\n        if (!this.mousemoveView) {\n            return\n        }\n        let radius = this.cornerstoneTools_config.brush_config.radius\n        let showRadius = Math.ceil(radius * this.mousemoveView.scale)\n        this.dom.find('.cicle').hide()\n        this.dom.find('.cicle').css({\n            \"width\": showRadius,\n            \"height\": showRadius,\n            'border-radius': showRadius,\n            'broder': '0',\n            \"background\": '#f00',\n            \"transform\": \"translate(\" + (this.mousePos.x - showRadius / 2) + \"px,\" + (this.mousePos.y - showRadius / 2) + \"px)\",\n            \"display\": \"block\"\n        })\n    }\n\n    //为了快速选择做的玩意\n    updateAllCanvas(sId) {\n        for (let i = 0; i < this.sceen; i++) {\n            if (this.cornerstoneArray[i] && this.cornerstoneArray[i].sId == sId) {\n                //this.gotoLayer(this.nowLayNum(i),sId)\n                cornerstone.updateImage(this.cornerstoneArray[i].element)\n            }\n        }\n    }\n    drawImg(brushInfoAll, value) {\n        let aa = cornerstone.pixelToCanvas(value.element, {\n            x: 0,\n            y: 0\n        })\n        let allmove = cornerstone.getViewport(value.element)\n        for (let bid in brushInfoAll) {\n            if (brushInfoAll[bid].image) {\n\n                let image = brushInfoAll[bid].image\n                    /*if (bid == this.model.nidusChoose.bid) {\n                        imge = this.brushManage.resetColor(brushInfoAll[bid].image)\n                    } else {\n                        imge = brushInfoAll[bid].image\n                    }*/\n                let w = brushInfoAll[bid].image.width\n                let h = brushInfoAll[bid].image.height\n                    /*if (value.image.rows > 1025 || value.image.columns > 1025) {\n                        value.canvasContext.drawImage(image, 0, 0, image.width, image.height, aa.x, aa.y, image.width * allmove.scale, image.height * allmove.scale)\n                    } else {*/\n                value.canvasContext.drawImage(image, 0, 0)\n                    //}\n                    //value.canvasContext.drawImage(imge,0,0)\n                    //console.log(imge,brushInfoAll[bid].image.width,brushInfoAll[bid].image.height,aa,allmove)\n                    //}\n\n            }\n        }\n    }\n    drawNode(nodeA, value) {\n        const { columnPixelSpacing, rowPixelSpacing } = value.image\n        let all = 0\n        for (var i = 0; i < nodeA.length; i++) {\n            //console.log(nodeA[i].type)\n            let ntype = nodeA[i].type\n                //ctx.fillStyle = '#f00'\n            switch (nodeA[i].type) {\n                case \"cobb\":\n                    ntype = 'length'\n                    break\n            }\n            let drawneed = true\n                //  console.log(nodeA[i].type)\n\n            let dataTool = cornerstoneTools.getToolState(value.element, ntype)\n            if (dataTool) {\n                //  console.log(dataTool.data)\n                dataTool.data.map(function(item) {\n                    // console.log(item, 'itemitem')\n                    if (item.uuid == nodeA[i].nodeInfo.uuid) {\n                        drawneed = false\n                        all++\n                    }\n                })\n            }\n            if (this.model.nidusChoose) {\n                if (this.model.nidusChoose.uuid == nodeA[i].nodeInfo.uuid || this.model.nidusChoose.id == nodeA[i].nodeInfo.uuid) {\n                    let handles = nodeA[i].nodeInfo.handles\n                    let ctx = value.canvasContext\n                    ctx.lineWidth = 1\n                    ctx.strokeStyle = '#f00';\n                    ctx.beginPath();\n                    ctx.mozImageSmoothingEnabled = false;\n                    if (nodeA[i].type == 'cobb') {\n                        const tempLineA = nodeA[i].nodeInfo.lineA\n                        if (tempLineA.length == 2) {\n                            const tempHandles = tempLineA[0].handles\n                            const { x: x1, y: y1 } = tempHandles.start\n                            const { x: x2, y: y2 } = tempHandles.end\n                            let spx = (x1 + x2) / 2\n                            let spy = (y1 + y2) / 2\n                            ctx.strokeRect(spx, spy, 2, 2)\n                            this.dom.find('.' + value.element.id + ' .cal').html('cobb角' + Tool.calAngel(tempHandles, tempLineA[1].handles))\n                        }\n                    } else {\n                        console.log(handles, 'handleshandleshandles')\n                        const { x: x3, y: y3 } = handles.start\n                        const { x: x4, y: y4 } = handles.end\n                        ctx.moveTo((x3 * 1 + x4 * 1) / 2, y3 * 1 - 5)\n                        ctx.lineTo((x3 * 1 + x4 * 1) / 2, y3 * 1 - 3)\n                        ctx.lineTo((x3 * 1 + x4 * 1) / 2 + 2, y3 * 1 - 3)\n                        ctx.lineTo((x3 * 1 + x4 * 1) / 2 + 2, y3 * 1 - 5)\n                        ctx.lineTo((x3 * 1 + x4 * 1) / 2, y3 * 1 - 5)\n                        ctx.stroke()\n                        ctx.fillStyle = \"#f00\"\n                        let handlesLen = handles.length\n                        if (!handlesLen) {\n                          const dx = (x3 - x4) * (columnPixelSpacing || 1)\n                          const dy = (y3 - y4) * (rowPixelSpacing || 1)\n                          handlesLen = Math.sqrt(dx * dx + dy * dy).toFixed(2)\n                        }\n                        ctx.fillText(handlesLen, (x3 * 1 + x4 * 1) / 2, y3 * 1 - 5)\n                        if (nodeA[i].type == 'alignment') {\n                            this.drawAlignment(value, nodeA[i], '#f00')\n                        }\n                    }\n                }\n            }\n\n            //console.log(drawneed, all)\n            //onsole.log(nodeA)\n            /*if (nodeA[i].type == 'alignment') {\n                ctx.mozImageSmoothingEnabled = false;\n                nodeA[i].nodeInfo.pointA.map((itemPoint) => {\n                    if (itemPoint.start) {\n                        ctx.strokeRect(itemPoint.start.x, itemPoint.start.y, 3, 3)\n                    }\n                })\n                ctx.stroke();\n            }*/\n            if (drawneed) {\n                //console.log(nodeA[i].nodeInfo)\n                if (nodeA[i].type == 'cobb') {\n                    nodeA[i].nodeInfo.lineA.map((item) => {\n                        //console.log(item)\n                        cornerstoneTools.addToolState(value.element, 'length', item)\n                    })\n                    return\n                }\n                cornerstoneTools.addToolState(value.element, nodeA[i].type, nodeA[i].nodeInfo)\n                cornerstoneTools[nodeA[i].type].activate(value.element, 1);\n                this.defaultFunction(this.controlename)\n            }\n        }\n\n        if (all == 0 && nodeA.length != 0) {\n            this.defaultFunction(this.controlename)\n        }\n    }\n    drawAlignment(value, nodeA, color, textshow) {\n        console.log(nodeA)\n        console.log(this.model.seriesInfo[nodeA.sId].info.data)\n        let ctx = value.canvasContext\n        let fontSize = 8 + Math.floor(Math.max(this.model.seriesInfo[nodeA.sId].info.data.row, this.model.seriesInfo[nodeA.sId].info.data.column) / 256 * 6);\n        fontSize = fontSize > 30 ? 30 : fontSize\n            //fontSize = fontSize < 16 ? 16 : fontSize\n        ctx.font = 'bold ' + fontSize + 'px Arial';\n        let numPos = 1\n        ctx.lineWidth = 1\n        ctx.strokeStyle = color;\n        ctx.mozImageSmoothingEnabled = false;\n        let xA = []\n        let rightA = []\n        for (var i in nodeA.nodeInfo.handles) {\n            if (nodeA.nodeInfo.handles[i].x) {\n                if (xA.length == 0) {\n                    xA.push({\n                        p: nodeA.nodeInfo.handles[i],\n                        key: i\n                    })\n                } else {\n                    let len = xA.length\n                    let aa = []\n                    let done = false\n                    for (var j = 0; j < len; j++) {\n                        if (j == 0 && nodeA.nodeInfo.handles[i].x < xA[j].p.x) {\n                            aa.push({\n                                p: nodeA.nodeInfo.handles[i],\n                                key: i\n                            })\n                            done = true\n                        }\n                        aa.push(xA[j])\n                            //console.log(nodeA.nodeInfo.handles[i])\n                        if (xA[j + 1] && nodeA.nodeInfo.handles[i].x > xA[j].p.x && nodeA.nodeInfo.handles[i].x < xA[j + 1].p.x) {\n                            console.log(i)\n                            if (!done) {\n                                aa.push({\n                                    p: nodeA.nodeInfo.handles[i],\n                                    key: i\n                                })\n                                done = true\n                            }\n                        }\n                        if (!xA[j + 1]) {\n                            if (!done) {\n                                aa.push({\n                                    p: nodeA.nodeInfo.handles[i],\n                                    key: i\n                                })\n                            }\n                        }\n                    }\n                    xA = aa\n                }\n            }\n        }\n        console.log(xA)\n        let num = 0\n        let showNum\n        for (var j = 0; j < 4; j++) {\n            ctx.fillStyle = \"#0f0\"\n            switch (xA[j].key) {\n                case \"start\":\n                    showNum = 1\n                    break\n                case \"middle\":\n                    showNum = 2\n                    break\n                case \"middle1\":\n                    showNum = 3\n                    break\n                case \"end\":\n                    showNum = 4\n                    break\n            }\n            if (j < 2) {\n                ctx.fillText(showNum, xA[j].p.x - fontSize, xA[j].p.y)\n            } else {\n                ctx.fillText(showNum, xA[j].p.x + 5, xA[j].p.y)\n            }\n        }\n        /*for (var j in xA) {\n            num++\n            ctx.fillStyle = \"#0f0\"\n            let showNum\n            console.log(xA[j])\n            switch (xA[j].key) {\n                case \"start\":\n                    showNum = 1\n                    break\n                case \"middle\":\n                    showNum = 2\n                    break\n                case \"middle1\":\n                    showNum = 3\n                    break\n                case \"end\":\n                    showNum = 4\n                    break\n            }\n            if (num <= 2) {\n                ctx.fillText(showNum, xA[j].p.x - fontSize, xA[j].p.y)\n            } else {\n                ctx.fillText(showNum, xA[j].p.x + 5, xA[j].p.y)\n            }\n\n        }*/\n        /*nodeA.nodeInfo.pointA.map((itemPoint) => {\n            if (itemPoint.start) {\n                ctx.strokeRect(itemPoint.start.x, itemPoint.start.y, 3, 3)\n                if (textshow) {\n                    ctx.fillStyle = \"#0f0\"\n                    ctx.fillText(numPos, itemPoint.start.x + 5, itemPoint.start.y)\n                }\n            }\n            numPos++\n        })*/\n\n        //ctx.stroke();\n    }\n}\n\n//原型链一定要有的\nmodule.exports = ctcornerstone;\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/ctcornerstone.js","class freedhand {\n    constructor() {}\n    creatPath(point, wh, img, lw, type) {\n        console.log(wh)\n        wh = wh ? wh : {\n            width: 512,\n            height: 512\n        }\n        this.craetCanvas(wh, lw)\n        if (img) {\n            this.ctx.drawImage(img, 0, 0)\n        }\n        this.type = type\n        this.ctx.beginPath();\n        if (type == \"freehand\") {\n            if (this.pointEnd) {\n                this.ctx.moveTo(this.pointEnd.x, this.pointEnd.y);\n                this.ctx.lineTo(point.x, point.y);\n            } else {\n                this.ctx.moveTo(point.x, point.y);\n            }\n            //let imgData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height)\n            /*let pointChange = []\n            let d = -1\n            for (let i = 0; i < imgData.data.length / 4; i++) {\n                if (imgData.data[i * 4 + 1] + imgData.data[i * 4] + imgData.data[i * 4 + 2] > 128) {\n                    let y1 = Math.floor(i / this.canvas.width)\n                    let x1 = Math.floor(i % this.canvas.width)\n                    let d1 = (x1 - Math.round(point.x)) * (x1 - Math.round(point.x)) + (y1 - Math.round(point.y)) * (y1 - Math.round(point.y))\n                    if (d == -1) {\n                        this.pointChange[0] = {\n                            x: x1,\n                            y: y1\n                        }\n                        d = d1\n                    }\n                    if (d1 < d) {\n                        this.pointChange[0] = {\n                            x: x1,\n                            y: y1\n                        }\n                        d = d1\n                    }\n                }\n            }\n            if (this.pointChange.length == 0) {\n                this.pointChange.push({\n                    x: Math.round(point.x),\n                    y: Math.round(point.y)\n                })\n            }*/\n\n        } else {\n            this.ctx.moveTo(point.x, point.y);\n        }\n    }\n\n    drawPath(point) {\n        let arr = []\n        this.pointEnd = point\n        this.ctx.lineTo(point.x, point.y);\n        this.ctx.stroke();\n\n        let imgData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height)\n        for (let i = 0; i < imgData.data.length / 4; i++) {\n            //imgData.data[i * 4 + 3] = 0\n            let cd = imgData.data[i * 4 + 1] + imgData.data[i * 4] + imgData.data[i * 4 + 2]\n            if (imgData.data[i * 4 + 3] != 0) {\n                if (this.ctx.lineWidth == 1 && this.type != \"polygon\") {\n                    this.donePoint(cd, imgData, i, arr)\n                } else {\n                    if (cd > 128) {\n                        arr.push(i)\n                            // imgData.data[i * 4 + 3] = 128\n                    }\n                }\n            }\n        }\n        console.log()\n        if (this.ctx.lineWidth == 1 && this.type != \"polygon\") {\n            this.arrmove(arr, imgData)\n        }\n        //this.arrmove(arr,imgData)\n        return arr //image\n    }\n    arrmove(arr, imgData) {\n        let newArr = []\n        for (var i = 0; i < arr.length; i++) {\n            let dataIndex = arr[i] - this.canvas.width\n                //console.log(arr.lastIndexOf(dataIndex),dataIndex)\n            if (arr.lastIndexOf(dataIndex) == -1) {} else {\n                newArr.push(arr[i])\n            }\n        }\n        for (var j = 0; j < newArr.length; j++) {\n            let dataIndex = newArr[j] - this.canvas.width\n                //console.log(arr.lastIndexOf(dataIndex),dataIndex)\n            if (newArr.lastIndexOf(dataIndex) == -1) {} else {\n                arr.push(newArr[i])\n            }\n        }\n        newArr = null\n            //arr=[]\n            //arr=newArr\n    }\n    donePoint(data, imgData, i, arr) {\n        if (data > 128 && imgData.data[(i - 1) * 4 + 3] == 0) {\n            arr.push(i)\n        }\n        if (data > 128 && imgData.data[(i - 1) * 4 + 3] != 0 && imgData.data[(i + 1) * 4 + 3] != 0 && imgData.data[(i + this.canvas.width) * 4 + 3] == 0) {\n            arr.push(i)\n        }\n        if (data > 128 && imgData.data[(i + this.canvas.width - 1) * 4 + 3] != 0) {\n            arr.push(i + this.canvas.width-1)\n        }\n    }\n    noneClosePath() {\n        let arr = []\n        let imgData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height)\n        for (let i = 0; i < imgData.data.length / 4; i++) {\n            //imgData.data[i * 4 + 3] = 0\n            let cd = imgData.data[i * 4 + 1] + imgData.data[i * 4] + imgData.data[i * 4 + 2]\n            if (this.ctx.lineWidth == 1) {\n                this.donePoint(cd, imgData, i, arr)\n            } else {\n                if (cd > 128) {\n                    arr.push(i)\n                        // imgData.data[i * 4 + 3] = 128\n                }\n            }\n        }\n        if (this.ctx.lineWidth == 1) {\n            this.arrmove(arr, imgData)\n        }\n        imgData = null\n        return arr //image\n    }\n    endPath() {\n        this.ctx.closePath();\n        this.ctx.fill()\n        this.ctx.stroke();\n        let arr = []\n        let imgData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height)\n        for (let i = 0; i < imgData.data.length / 4; i++) {\n            imgData.data[i * 4 + 3] = 0\n            if (imgData.data[i * 4 + 1] > 128) {\n                arr.push(i)\n                    //imgData.data[i * 4 + 3] = 128\n            }\n        }\n        //this.ctx.putImageData(imgData, 0, 0)\n        //var image = new Image();\n        //image.src = this.canvas.toDataURL(\"image/png\");\n        return arr //image\n    }\n    craetCanvas(wh, lw) {\n        if (this.canvas) {\n            this.ctx = null\n            this.canvas = null\n        }\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.width = wh.width\n        this.canvas.height = wh.height\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.ctx.lineWidth = lw ? lw : 1;\n        this.ctx.strokeStyle = \"rgba(0,200,0,1)\"\n        this.ctx.fillStyle = \"rgba(0,200,0,0.5)\"\n    }\n\n}\n\n//原型链一定要有的\nmodule.exports = new freedhand();\n\n\n// WEBPACK FOOTER //\n// ./app/modules/ctcornerstone/freedhand.js","require(\"./cttool.less\");\nclass ctcornerstone extends ctcornerstone_base {\n    constructor(app, dom, value, addMore) {\n        super(app, dom, value, addMore)\n        this.html = require('./tpl.html')\n        let Model = require(\"./cttool_model.js\")\n        this.model = new Model(this.app)\n        this.drawInfo = require(\"./manager.js\")\n        try {\n            this.hitArea = new createjs.Shape();\n            this.hitArea.graphics.beginFill(\"#000\").drawRect(0, 0, this.model._pathSize, this.model._pathSize);\n        } catch (err) {\n            console.log(err)\n        }\n        this.controlename = 'move'\n        this.freehand = require(\"./freedhand.js\")\n            //console.log(this.freehand)\n    }\n    complete() {\n        this.moduleLoad()\n        this.tpLoad()\n        if (location.href.includes('drapCanvasPro')) {\n            document.getElementById(\"canvas_box\").className = \"drapCanvasPro\"\n            console.log(document.getElementById(\"canvas_box\"), '我是dom')\n        }\n    }\n\n    //加载缩略图和进度条模块\n    tpLoad() {\n        let thumbnailprogress = require(\"../thumbnailprogress/thumbnailprogress.js\")\n        this.tpControl = this.app.loadModule(thumbnailprogress, this.dom.find('#canvas_box .tp'))\n        this.tpControl.model = this.model\n        this.tpControl.event._addEvent('ThumbnailProgress.dragThumbnail', (value) => {\n            this.moveBoX(value)\n        })\n        this.tpControl.event._addEvent('ThumbnailProgress.borClick', (value) => {\n            this.stage.mouseX = this.model._vpCanvasInfo.width / 2\n            this.stage.mouseY = this.model._vpCanvasInfo.height / 2\n            this.scaleCanvas(value.x, value.y)\n        })\n        this.tpControl.event._addEvent('ThumbnailProgress.progress', (e) => {\n            this.stage.mouseX = this.model._vpCanvasInfo.width / 2\n            this.stage.mouseY = this.model._vpCanvasInfo.height / 2\n            this.tpControl.progressPos.call(this, e.pageY)\n        })\n\n        this.tpControl.event._addEvent('ThumbnailProgress.changeImage', (value) => {\n            this.setContainerPos(value.spos)\n            this.model.nowImageLevel = value.level\n            this.model.pathSize = value.pathSize\n            this.handlerImageLoad()\n        })\n        this.tpControl.event._addEvent('ThumbnailProgress.scaleImage', (value) => {\n            this.setContainerPos(value.spos)\n            this.model.pathSize = value.pathSize\n            this.scaleBox()\n        })\n    }\n    initCT(totalImage, imageAddress, data) {\n        this.model.serinfo = data.data\n        this.model.orginImgSizes = data.data.segmentationInfo\n        this.tpControl.initBreviaryImg()\n            //this.initBreviaryImg()\n        this.initImgCanvas()\n        this.ctEvent()\n    }\n\n    //图片加载\n    async loadImage(path, pos, bitmapPos) {\n        if (path.lastIndexOf('undefined') != -1) {\n            return\n        }\n        let image = new Image()\n            // image.src = `proxyImg/images/real/${path}.jpg`\n        image.src = path\n        image.crossOrigin = \"Anonymous\"\n        image.onload = e => {\n            this.makeSingleBitmap(pos, e.target, bitmapPos)\n        }\n\n        image.onerror = e => {\n            console.log('no path')\n        }\n    }\n    makeSingleBitmap(pos, img, bitmapPos) {\n        //console.log(this.model.imagePool[pos],pos,bitmapPos)\n        if (!this.model.imagePool[pos]) {\n            let bitmap = new createjs.Bitmap(img)\n            this.model.imagePool[pos] = bitmap\n            bitmap.hitArea = this.hitArea\n            this.container.addChild(this.model.imagePool[pos])\n        } else {\n            this.model.imagePool[pos].image = img\n        }\n        this.model.imagePool[pos].x = bitmapPos.bitmapNumx * this.model._pathSize\n        this.model.imagePool[pos].y = bitmapPos.bitmapNumy * this.model._pathSize\n        this.model.imagePool[pos].scale = this.model._pathSize / this.model._section\n        this.model.imagePool[pos].bx = bitmapPos.bitmapNumx\n        this.model.imagePool[pos].by = bitmapPos.bitmapNumy\n        this.renderStage()\n            //this.stage.update()\n    }\n    queryImgs() {\n        if (this.model.numberList.length == 0) {\n            return\n        }\n\n        let numberList = []\n        this.model.numberList.forEach(item => {\n            let k = Object.keys(item)[0]\n            if (k != \"blank\") {\n                numberList.push(Number(k))\n            }\n        })\n        let queryImgs = []\n        console.log(this.model.numberList)\n        console.log(numberList)\n        if (numberList.length != 0) {\n            this.event._dispatch('ctcornerstone.loadImage', {\n                seriesInstanceUID: this.model.serinfo.seriesInstanceUID,\n                fileType: \"BIG_IMAGE\",\n                windowType: this.model.nowImageLevel,\n                numberList\n            })\n        } else {\n            this.makeImage({\n                data: {\n                    list: []\n                }\n            })\n        }\n    }\n    makeImage(value) {\n            let queryImgs = []\n\n            for (let i = 0; i < value.data.list.length; i++) {\n                let item = value.data.list[i]\n                    //console.log(item.urlWAN,item.number)\n                queryImgs[item.number] = item.urlWAN //.replace('http://proximadev.cn-sh2.ufileos.com', '/proxyImg') //做了图片代理，可以不做的，主要是觉得那个会增加损耗。所以不高兴用\n            }\n            this.model.numberList.forEach(item => {\n                let k = Object.keys(item)[0]\n                if (k != \"blank\") {\n                    let url = queryImgs[Number(k)]\n                        //console.log(Number(k),url,item)\n                    this.loadImage(url, item[k].i, item[k].bit)\n                } else {\n                    this.makeSingleBitmap(item[k].i, this.model.blank, item[k].bit)\n                }\n            })\n        }\n        //事件\n    ctEvent() {\n        let isScale = true\n        this.stage.addEventListener(\"stagemousedown\", e => {\n            isScale = false\n            if (e.nativeEvent.buttons == 2) {\n                isScale = true\n                return\n            }\n            this.dragOffset.x = this.stage.mouseX\n            this.dragOffset.y = this.stage.mouseY\n            if (this.controlename == \"brushFan\" || this.controlename == \"earseFan\") {\n                if (!this.model.nidusChoose) {\n                    isScale = true\n                    this.app.alert.show({\n                        title: ' ',\n                        msg: '没有对应的病灶',\n                        close: true\n                    })\n                    return\n                }\n            }\n            if (e.nativeEvent.buttons == 1) {\n                this.craetData()\n            }\n        })\n        this.stage.addEventListener(\"stagemousemove\", e => {\n            let moveX = this.stage.mouseX - this.dragOffset.x\n            let moveY = this.stage.mouseY - this.dragOffset.y\n            this.dragOffset.x = this.stage.mouseX\n            this.dragOffset.y = this.stage.mouseY\n            if (e.nativeEvent.buttons == 2) {\n                // console.log('aaaaaaaaaaaa', moveX, moveY)\n                this.moveBoX({\n                    moveX,\n                    moveY\n                })\n            }\n            if (isScale) return\n            if (e.nativeEvent.buttons == 1) {\n                switch (this.controlename.replace('Fan', '')) {\n                    case \"move\":\n                        this.moveBoX({\n                            moveX,\n                            moveY\n                        })\n                        break\n                    case \"freehand\":\n                        this.drawLine()\n                        break\n                    case \"zoom\":\n                        //console.log('aaaaaaaaaaaa', moveX, moveY)\n                        this.scaleCanvas(moveX, moveY)\n                        break\n                    case \"brush\":\n                        this.editLine('add')\n                        break\n                    case \"earse\":\n                        this.editLine('remove')\n                        break\n                }\n            }\n        })\n        this.stage.addEventListener(\"stagemouseup\", e => {\n                isScale = true\n                this.endDraw()\n            })\n            /*this.stage.addEventListener(\"stagemousemove\", e => {\n                if (!isScale) return\n                this.dragOffset.x = this.stage.mouseX\n                this.dragOffset.y = this.stage.mouseY\n            })*/\n    }\n    setSequence(value, childrens) {\n        //let that = this\n        //console.log(childrens)\n        this.nodeInfo = childrens.length != 0 ? {} : null\n        let sData = value // [{ id: 1, imageAddress: this.baseData.imageAddress, totalImage: this.baseData.totalImage, major: 'master' }]\n        console.log(childrens, '我是粗来的值==============', sData)\n        sData.map((item) => {\n            item.id = typeof item.id == 'object' ? item.id.series : item.id\n            item.sequenceName = typeof item.sequenceName == 'object' ? item.sequenceName.series : item.sequenceName\n            item.studyId = typeof item.studyId == 'object' ? item.studyId.series : item.studyId\n        })\n        childrens.map((item) => {\n                //console.log(item)\n                if (!this.nodeInfo[item.layerNumber]) {\n                    this.nodeInfo[item.layerNumber] = []\n                }\n                if (!this.model.nidusComponentData[item.id]) {\n                    this.model.nidusComponentData[item.id] = {}\n                }\n                let daa = {}\n                    //daa.nodeInfo.uuid = item.uuid\n                daa.layerNumber = item.layerNumber\n                    //console.log('+++++++++++++++')\n                daa.sId = item.sId\n                daa.type = item.type\n                daa.uuid = item.uuid\n                daa.show = true\n                daa.nodeInfo = {\n                    uuid: item.uuid,\n                    id: item.id\n                }\n                console.log(item, 'item')\n                this.nodeInfo[item.layerNumber].push(daa)\n                this.drawInfo.setInfo(item)\n                if (item.annotationItemResultList) {\n                    item.annotationItemResultList.map((res) => {\n                        this.model.nidusComponentData[item.id][res.annotationItemId] = res\n                    })\n                }\n                if (item.orginannotationItemResultList) {\n                    this.model.nidusComponentData[item.id].orginannotationItemResultList = item.orginannotationItemResultList\n                }\n                this.model.nidusComponentData[item.id].doctorName = item.doctorName\n                this.model.nidusComponentData[item.id].imageRemark = item.imageRemark\n            })\n            //alert(1)\n        this.sequencelist.setData(sData, childrens)\n        this.drawNode(false)\n        this.renderStage()\n    }\n    creatShape(type, borderColor) {\n        let that = this\n        let shape = new createjs.Shape()\n        shape.graphics.beginStroke(borderColor ? \"#0f0\" : \"#f00\");\n        shape.graphics.setStrokeStyle(this.cornerstoneTools_config['freehand_config'].lineWidth, \"round\", \"round\")\n        shape.x = this.model.imageLeftPoint.x\n        shape.y = this.model.imageLeftPoint.y\n        shape.addEventListener(\"click\", function(evt) {\n            that.sequencelist.clickById({\n                uuid: evt.target.uuid\n            })\n        })\n        if (this.stage) {\n            if (type) {\n                this.stage.addChild(shape)\n            }\n        }\n        console.log(this.stage)\n        return shape\n    }\n    craetData() {\n        switch (this.controlename.replace('Fan', '')) {\n            case \"freehand\":\n                this.drawData = this.model.nidusChoose ? this.drawInfo.getInfo(this.model.nidusChoose) : this.drawInfo.setInfo({\n                    path: {},\n                    uuid: null\n                })\n\n                //this.drawData.path()\n                this.drawData.type = 'freehandline'\n                this.drawData.setDataType = 'number'\n                this.drawData.layerNumber = 1\n                this.drawData.sId = this.model.serinfo.seriesInstanceUID\n                this.drawData.imageAnnotationId = this.tooltype.imageAnnotationId\n                this.drawData.imageAnnotationToolId = this.tooltype.id\n                this.drawData.imageAnnotationToolType = this.tooltype.type\n                this.drawData.imageAnnotationType = this.tooltype.imageAnnotation\n                console.log(this.tooltype)\n                this.drawData.toolType = this.tooltype\n                if (!this.model.nidusChoose) {\n                    let pos = this.model.calSaveXYPos({\n                        x: this.stage.mouseX,\n                        y: this.stage.mouseY\n                    })\n                    pos.father = null\n                    pos.child = null\n                    console.log(pos)\n                    this.drawData.path[pos.x + '_' + pos.y] = pos\n                    this.prePoint = pos\n                        //console.log()\n                    this.drawData.shape = this.creatShape(true, false)\n                    let drawPos = this.model.calXYPos({\n                        x: this.stage.mouseX,\n                        y: this.stage.mouseY\n                    })\n                    this.drawData.shape.graphics.moveTo(drawPos.x, drawPos.y)\n                    this.drawData.shape.uuid = this.drawData.uuid\n                    this.drawData.show = true\n                    this.renderStage(false)\n                } else {\n                    let drawPos = this.model.calSaveXYPos({\n                        x: this.stage.mouseX,\n                        y: this.stage.mouseY\n                    })\n                    this.prePoint = drawPos\n                    let data = this.drawInfo.getInfo(this.model.nidusChoose)\n                    let modelD = this.model.calGetMinDistance(data.path, drawPos)\n                    data.shape.graphics.moveTo(modelD.x, modelD.y)\n                    let drawPoss = this.model.calXYPos({\n                        x: this.stage.mouseX,\n                        y: this.stage.mouseY\n                    })\n                    data.shape.graphics.lineTo(drawPoss.x, drawPoss.y)\n                }\n                break\n            case \"brush\":\n                this.drawData = this.drawInfo.getInfo(this.model.nidusChoose)\n                let drawPos = this.model.calSaveXYPos({\n                    x: this.stage.mouseX,\n                    y: this.stage.mouseY\n                })\n                let modelD = this.model.calGetMinDistance(this.drawData.path, drawPos)\n                this.prePoint = drawPos\n                this.drawData.shape.graphics.moveTo(modelD.x, modelD.y)\n                let drawPoss = this.model.calXYPos({\n                    x: this.stage.mouseX,\n                    y: this.stage.mouseY\n                })\n                this.drawData.shape.graphics.lineTo(drawPoss.x, drawPoss.y)\n                break\n        }\n    }\n    drawLine() {\n        let data = this.drawData\n        let pos = this.model.calSaveXYPos({\n            x: this.stage.mouseX,\n            y: this.stage.mouseY\n        })\n        if (pos.x == this.prePoint.x && pos.y == this.prePoint.y) {\n            return\n        }\n        let key = this.prePoint.x + '_' + this.prePoint.y\n        if (!this.drawData.path[key].child) {\n            this.drawData.path[key].child = pos.x + '_' + pos.y\n            data.path[pos.x + '_' + pos.y] = pos\n            pos.father = key\n            pos.child = null\n        } else {\n            this.drawData.path[key].father = pos.x + '_' + pos.y\n            data.path[pos.x + '_' + pos.y] = pos\n            pos.child = key\n            pos.father = null\n        }\n        /*&pos.father = this.prePoint.x + '_' + this.prePoint.y\n        pos.child = null\n        this.drawData.path[pos.father].child = pos.x + '_' + pos.y\n        data.path[pos.x + '_' + pos.y] = pos*/\n        this.prePoint = pos\n        let drawPos = this.model.calXYPos({\n            x: this.stage.mouseX,\n            y: this.stage.mouseY\n        })\n        data.shape.graphics.lineTo(drawPos.x, drawPos.y)\n        this.renderStage()\n    }\n    endDraw() {\n        if (!this.drawData) {\n            return\n        }\n        let data = {}\n        let aa = this.model.returnNull(this.drawData.path)\n        if (aa) {\n            let drawPos = this.model.calShowXYPos(this.drawData.path[aa])\n            this.drawData.shape.graphics.lineTo(drawPos.x, drawPos.y)\n            this.renderStage()\n        }\n        for (let i in this.drawData) {\n            data[i] = this.drawData[i]\n        }\n        console.log(this.drawData)\n        if (!this.model.nidusChoose && this.drawData) {\n            this.sequencelist.addNode(data)\n            if (!this.nodeInfo) {\n                this.nodeInfo = {}\n            }\n            if (!this.nodeInfo[1]) {\n                this.nodeInfo[1] = []\n            }\n            this.nodeInfo[1].push({\n                layerNumber: 1,\n                type: data.tooltype,\n                nodeInfo: data,\n                sId: this.model.serinfo.seriesInstanceUID,\n                show: true\n            })\n            this.event._dispatch('ctcornerstone.addNode', this.drawData)\n        } else {\n            console.log(this.drawData)\n            this.event._dispatch('ctcornerstone.editNode', this.drawData)\n        }\n        this.drawData = null\n        this.prePoint = null\n    }\n    editLine(type) {\n        //console.log(this.model.nidusChoose.uuid)\n        //console.log(data.shape)\n        if (type == 'add') {\n            this.drawLine()\n        } else {\n            this.drawData = this.drawInfo.getInfo(this.model.nidusChoose)\n            let data = this.drawData\n            this.drawData.shape.graphics.clear()\n            this.drawData.shape.graphics.beginStroke(\"#f00\");\n            this.drawData.shape.graphics.setStrokeStyle(this.cornerstoneTools_config['freehand_config'].lineWidth, \"round\", \"round\")\n            this.model.removeData(this.drawData.path, {\n                x: this.stage.mouseX,\n                y: this.stage.mouseY,\n                d: this.cornerstoneTools_config['earse_config'].radius\n            })\n            this.reDrawShape(this.drawData.path, this.drawData.shape)\n            this.renderStage()\n        }\n    }\n    reDrawShape(path, shape) {\n            for (var i in path) {\n                let item = path[i]\n                if (item.child) {\n                    let p0 = this.model.calShowXYPos(item)\n                    shape.graphics.moveTo(p0.x, p0.y)\n                        //console.log(path[item.child], item.child, item)\n                    if (path[item.child]) {\n                        let p1 = this.model.calShowXYPos(path[item.child])\n                        shape.graphics.lineTo(p1.x, p1.y)\n                    }\n\n                }\n            }\n        }\n        //初始化场景\n    initImgCanvas() {\n        this.canvas = document.getElementById('canvas')\n        let size = this.model.getCanvasSize()\n        this.canvas.width = size.width\n        this.canvas.height = size.height\n        this.stage = new createjs.Stage(canvas)\n        this.container = new createjs.Container();\n        this.container.x = this.model.imageLeftPoint.x\n        this.container.y = this.model.imageLeftPoint.y\n        this.stage.addChild(this.container)\n            //createjs.Ticker.setFPS(60)\n        this.dragOffset = {\n                x: 0,\n                y: 0\n            }\n            //this.dragOffset = new createjs.Point()\n            // 滚轮缩放\n        window.onmousewhee = document.onmousewheel = event => {\n                var delta = 0;\n                if (!event) event = window.event;\n                if (event.wheelDelta) { //IE、chrome浏览器使用的是wheelDelta，并且值为“正负120”\n                    delta = event.wheelDelta / 120;\n                    if (window.opera) delta = -delta; //因为IE、chrome等向下滚动是负值，FF是正值，为了处理一致性，在此取反处理\n                }\n                console.log(delta)\n                if (delta) {\n                    this.scaleCanvas(\"\", delta)\n                }\n            }\n            //console.log('handlerImageLoad')\n        this.handlerImageLoad()\n    }\n    handlerImageLoad() {\n            let leftTopX = Math.floor(-this.model.imageLeftPoint.x / this.model._pathSize) //获取格子的列下标 \n            let leftTopY = Math.floor(-this.model.imageLeftPoint.y / this.model._pathSize) //获取格子的行下标\n            leftTopX = leftTopX < 0 ? 0 : leftTopX\n            leftTopY = leftTopY < 0 ? 0 : leftTopY\n            let sx = Math.floor(this.model.imageLeftPoint.x % this.model._pathSize) //获取格子的x坐标\n            let sy = Math.floor(this.model.imageLeftPoint.x % this.model._pathSize) //获取格子的y坐标\n\n            this.orginImg = this.model._orginImgSizes[this.model.nowImageLevel]\n            console.log(this.orginImg, \"我是最新的倍数\")\n            this.tpControl.orginImg = this.orginImg\n            let colnum = this.model._vpCanvasInfo.colnum\n            let row = this.model._vpCanvasInfo.row\n            let showNum = row * colnum\n            this.model.numberList = []\n                //console.log(this.model._vpCanvasInfo,'this.model._vpCanvasInfo')\n                // this.container.clear()\n                // console.log(leftTopX, leftTopY, this.model.imageLeftPoint.x, this.model.imageLeftPoint.y)\n            for (let i = 0; i < showNum; i++) {\n                let bitmapNumx = leftTopX + (i % colnum)\n                let bitmapNumy = leftTopY + Math.floor(i / colnum)\n                    //用的那张图\n                let back = this.model.backImageNumber({\n                    bitmapNumx,\n                    bitmapNumy\n                })\n                let obj = {}\n                obj[back] = {\n                    i,\n                    bit: {\n                        bitmapNumx,\n                        bitmapNumy\n                    }\n                }\n                this.model.numberList.push(obj)\n            }\n\n            this.queryImgs()\n            setTimeout(() => {\n                this.tpControl.makeShowArea()\n            }, 100)\n\n            //this.makeShowArea()\n            this.tpControl.changProgress()\n        }\n        //设置场景位置\n    setContainerPos(pos) {\n            this.model.imageLeftPoint.x = this.model.imageLeftPoint.x + pos.moveX\n            this.model.imageLeftPoint.y = this.model.imageLeftPoint.y + pos.moveY\n            this.container.x = this.model.imageLeftPoint.x\n            this.container.y = this.model.imageLeftPoint.y\n        }\n        //移动\n    moveBoX(pos) {\n            this.setContainerPos(pos)\n            let length = this.model.imagePool.length\n            this.model.numberList = []\n                //console.log(length)\n            for (let i = 0; i < length; i++) {\n                let changeImage = false\n                let bitmapNumx = Math.round(this.model.imagePool[i].x / this.model._pathSize)\n                let bitmapNumy = Math.round(this.model.imagePool[i].y / this.model._pathSize)\n                if (this.model.imagePool[i].x + this.container.x + this.model._pathSize <= -this.model._pathSize / 2) {\n                    bitmapNumx += this.model._vpCanvasInfo.colnum\n                    changeImage = true\n                }\n                if (this.model.imagePool[i].x + this.container.x >= this.model._vpCanvasInfo.width + this.model._pathSize / 2) {\n                    bitmapNumx -= this.model._vpCanvasInfo.colnum\n                    changeImage = true\n                }\n                if (this.model.imagePool[i].y + this.container.y + this.model._pathSize < -this.model._pathSize / 2) {\n                    bitmapNumy += this.model._vpCanvasInfo.row\n                    changeImage = true\n                }\n                if (this.model.imagePool[i].y + this.container.y >= this.model._vpCanvasInfo.height + this.model._pathSize / 2) {\n                    bitmapNumy -= this.model._vpCanvasInfo.row\n                    changeImage = true\n                }\n\n                if (changeImage) {\n                    let back = this.model.backImageNumber({\n                        bitmapNumx,\n                        bitmapNumy\n                    })\n                    let obj = {}\n                        //console.log({ bitmapNumx, bitmapNumy }, i)\n                    obj[back] = {\n                        i,\n                        bit: {\n                            bitmapNumx,\n                            bitmapNumy\n                        }\n                    }\n                    this.model.numberList.push(obj)\n                }\n            }\n            //console.log('aaaaaaaaaaaaaaa', this.model.numberList)\n            this.queryImgs()\n            this.tpControl.makeShowArea()\n                //this.makeShowArea()\n            this.drawNode(false)\n            this.renderStage()\n                //this.stage.update()\n        }\n        //缩放\n    scaleCanvas(moveX, moveY) {\n        if (!moveY) {\n            return\n        }\n        let changeNum = moveY < 0 ? -2 : 2\n\n        //console.log('aaaaaa')\n        if (this.model.nowImageLevel == '1x' && this.model._pathSize + changeNum < this.model._section - this.model._changeRange) {\n            return\n        }\n        if (this.model.nowImageLevel == this.model._orginImgSizes.length + 'x' && this.model._pathSize + changeNum >= this.model._section + this.model._changeRange) {\n            return\n        }\n        let cr = this.getColRow({\n            x: this.model.imageLeftPoint.x,\n            y: this.model.imageLeftPoint.y\n        }, {\n            x: this.stage.mouseX,\n            y: this.stage.mouseY\n        })\n        let pos = {\n            moveX: -cr.col * changeNum,\n            moveY: -cr.row * changeNum\n        }\n        this.setContainerPos(pos)\n        this.model.pathSize = this.model._pathSize + changeNum\n\n        if (this.model._pathSize > this.model._section + this.model._changeRange) {\n            //console.log('aaaaaaccc')\n            this.model.pathSize = this.model._section - this.model._changeRange\n            this.model.nowImageLevel = (this.model.nowImageLevel.replace('x', '') * 1 + 1) + \"x\"\n            this.drawNode(true)\n            this.handlerImageLoad()\n            return\n        }\n        if (this.model._pathSize < this.model._section - this.model._changeRange) {\n            //console.log('aaaaaaddd')\n            this.model.pathSize = this.model._section + this.model._changeRange\n            this.model.nowImageLevel = (this.model.nowImageLevel.replace('x', '') * 1 - 1) + \"x\"\n            this.drawNode(true)\n            this.handlerImageLoad()\n            return\n        }\n        this.scaleBox()\n    }\n    scaleBox() {\n        for (let i = 0; i < this.model.imagePool.length; i++) {\n            this.model.imagePool[i].scale = this.model._pathSize / this.model._section\n            this.model.imagePool[i].x = this.model._pathSize * this.model.imagePool[i].bx //Math.floor(num % this.orginImg.colnum)\n            this.model.imagePool[i].y = this.model._pathSize * this.model.imagePool[i].by // Math.floor(num / this.orginImg.colnum)\n        }\n        this.tpControl.makeShowArea()\n            //this.makeShowArea()\n        this.tpControl.changProgress()\n            //console.log('wwwwwwwwwwww')\n        this.drawNode(true)\n        console.log('scaleBox2')\n        this.renderStage()\n            //this.stage.update()\n    }\n    getColRow(screen, boxpos) {\n        let col = Math.floor((boxpos.x - screen.x) / this.model._pathSize)\n        let row = Math.floor((boxpos.y - screen.y) / this.model._pathSize)\n        return {\n            col,\n            row\n        }\n    }\n    resize() {\n        let cw = ES.selctorDoc(window).box().clientWidth\n        let ch = ES.selctorDoc(window).box().clientHeight - 60 - 64\n        this.dom.find('.ctcornerstone').css({\n            'width': cw\n        })\n        this.dom.find('.ctcornerstone .slist').css({\n            'width': cw - 290 - 180\n        })\n        this.dom.find('.ctcornerstone .xulielist').css({\n            'height': ch\n        })\n        this.dom.find('.ctcornerstone .info').css({\n            'height': ch\n        })\n        this.dom.find('.ctcornerstone .nidus_content').css({\n            'height': ch\n        })\n        this.dom.find('#canvas_box').css({\n            width: this.model._vpCanvasInfo.width - 1,\n            height: this.model._vpCanvasInfo.height\n        })\n        if (this.nidusControl) {\n            this.nidusControl.resize()\n        }\n        if (this.nidusControlAll) {\n            this.nidusControlAll.resize()\n        }\n    }\n    close() {\n\n    }\n\n    //删除病症\n    doneDelete(key, value) {\n        console.log(key, value)\n        this.stage.removeChild(value.shape)\n        this.drawInfo.removeInfo(value)\n        this.sequencelist.removeNode(value)\n        this.nodeInfo[1] = this.nodeInfo[1].filter((item) => {\n            return item.uuid != value.uuid\n        })\n        this.model.nidusChoose = null\n        this.renderStage()\n        this.event._dispatch('ctcornerstone.deleteNode', {\n            backId: value.backId\n        })\n    }\n\n    renderStage() {\n        //console.log('wwww', this.nodeInfo)\n        //console.log(this.nodeInfo)\n        this.event._dispatch('cttool.renderStage')\n        this.stage.update()\n    }\n\n    //st代表是否要强制重新刷新\n    drawNode(st) {\n        console.log(this.nodeInfo)\n        if (this.nodeInfo) {\n            if (this.nodeInfo[1]) {\n                this.nodeInfo[1].forEach((item) => {\n                    item.uuid = item.uuid || (item.nodeInfo ? item.nodeInfo.uuid : \"\")\n                    let datae = this.drawInfo.getInfo(item)\n                    console.log(datae.shape)\n                    if (datae) {\n                        if (st && datae.shape) {\n                            this.stage.removeChild(datae.shape)\n                            datae.shape = null\n                        }\n                        if (item.show) {\n                            if (!datae.shape) {\n                                if (this.model.nidusChoose && this.model.nidusChoose.uuid == datae.uuid) {\n                                    datae.shape = this.creatShape(true, true)\n                                } else {\n                                    datae.shape = this.creatShape(true, false)\n                                }\n                                datae.shape.uuid = item.uuid\n\n                                // datae.shape = this.creatShape(true, false)\n                                this.reDrawShape(datae.path, datae.shape)\n                            } else {\n                                datae.shape.x = this.model.imageLeftPoint.x\n                                datae.shape.y = this.model.imageLeftPoint.y\n                            }\n                        }\n                    }\n                })\n            }\n        }\n    }\n\n    //tool\n    freehandFan() {\n        this.controlename = 'freehand'\n    }\n    movefun() {\n        this.controlename = 'move'\n    }\n    zoomFan() {\n        this.controlename = 'scale'\n    }\n    brushFan() {\n        this.controlename = 'brush'\n    }\n    earseFan() {\n        this.controlename = 'earse'\n    }\n    restFan() {\n\n    }\n\n}\n\n//原型链一定要有的\nmodule.exports = ctcornerstone;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/cttool/cttool.js","//import {firstName, lastName, year} from 'http://172.16.100.221:44444/footer/footer.js';\n//这边基本上引入需要使用的资源less，api，需要使用的模块等等。\n\nclass MarkBase extends Interstellar.pagesBase {\n    constructor(app, api, dom, model) {\n        super(app, api, dom, model)\n    }\n\n    //初始化\n    complete() {\n            this.useinfo = JSON.parse(this.app.local.get('all'))\n            this.nowTaskOver = false\n            this.type = 'doctor';\n            //this.imageType = \"DCM\"\n            this.imageType = \"JPG\"\n            this.imageDataType = \"orgin\"\n            require(\"../../modules/ctcornerstone/ctcornerstone_base\")\n            this.cornerstoneLoad()\n            this.styleModel(1)\n            this.dicommenuLoad()\n\n            this.modalLoad()\n            this.baseApi()\n            this.btnEvent()\n            this.resize()\n\n\n        }\n        //---------------------------------会自动允许---------------------------------\n        //获取序列结果id之后自动运行的方法\n    series_result_id() {\n        console.log(this.model.series_result_id)\n        this.start_series()\n    }\n\n    //获取项目信息之后自动运行的方法\n    projectInfo() {\n        console.log('projectInfoprojectInfo')\n        this.annotationIteminit()\n        this.setWWC()\n    }\n\n    //设置默认窗宽窗位\n    setWWC() {\n        // console.log(this.model.projectInfo)\n        if (this.model.projectInfo.window) {\n            this.dicommenu.defaultWWC(this.model.projectInfo.window)\n        }\n    }\n\n    //获取序列结果以后自动运行的方法\n    seriesResult() {\n        this.seriesInfo()\n    }\n\n    //数据都准备好了，结果值拿好了，序列对应的信息也拿好了。全部进入这个方法，开始初始化序列，结果什么乱起八糟的东西了\n    seriesInfo() {\n        let seriesInfoNum = 0\n        let seriesResultNum = 0\n        for (let i in this.model.seriesInfo) {\n            if (this.model.seriesInfo[i].imgs) {\n                seriesInfoNum++\n            }\n        }\n        for (let j in this.model.seriesResult) {\n            seriesResultNum++\n        }\n        console.log(seriesResultNum, seriesInfoNum)\n        if (seriesInfoNum == seriesResultNum && seriesResultNum != 0 && seriesInfoNum != 0) {\n            console.log('data ready')\n            this.cornerstoneStart() //cornerstone初始化\n            setTimeout(() => {\n                this.listInit()\n            }, 400)\n        }\n    }\n\n    //---------------------------------后续方法---------------------------------\n    //----------------------------各大模块初始化------------------------------\n    //影像区加载初始化\n    cornerstoneLoad() {\n        let that = this\n        let cornerstoneClass\n        if (window.location.hash.lastIndexOf('markview') != -1 || window.location.hash.lastIndexOf('markaudit') != -1) {\n            cornerstoneClass = require(\"../../modules/ctcornerstone/ctcornerstone_view\")\n        } else {\n            if (window.location.hash.lastIndexOf('drapCanvas') == -1) {\n                cornerstoneClass = require(\"../../modules/ctcornerstone/ctcornerstone\")\n            } else {\n                cornerstoneClass = require(\"../../modules/cttool/cttool\")\n            }\n        }\n        this.cornerstoneContorl = this.app.loadModule(cornerstoneClass, this.dom.find('.mark-content'))\n\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.imgloadError', function(value) {\n            if (that.progress) {\n                that.progress.stopAll()\n                that.progress.close()\n            }\n        })\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.loadingfinish', function(value) {\n                // console.log(value,'aaaaaaaaaaaaaaaaa')\n                that.makeWwC(value.sId)\n                if (that.progress) {\n                    that.progress.stopAll()\n                }\n            })\n            //HU的值显示\n        this.cornerstoneContorl.event._addEvent('ctcornerstone.HUShow', (value) => {\n            //console.log(value)\n            let infoData = this.model.seriesInfo[value.sId].info\n                //console.log(infoData,value)\n            if (infoData.data.fileType == \"DCM\") {\n                if (this.imageDataType != \"orgin\") {\n                    value.hu = (infoData.wwc.hight * 1 - infoData.wwc.low * 1) * value.hu / 255 + infoData.wwc.low * 1\n                }\n            } else {\n                value.hu = \"\"\n            }\n            this.cornerstoneContorl.huValue(value)\n        })\n        this.cornerstoneContorlOther()\n    }\n    cornerstoneContorlOther() {}\n        //************************弹框区*************************\n\n    //菜单加载\n    dicommenuLoad() {\n        let that = this\n        let configTool = require(\"../../../config/toolmenu_config.js\")\n        let tool_user = configTool(1)\n        let dicommenu = require(\"../../modules/dicommenu/dicommenu\")\n        this.dicommenu = this.app.loadModule(dicommenu, this.dom.find('.mark-menu'), tool_user)\n        if (window.location.hash.lastIndexOf('view') != -1) {\n            this.dicommenu.closeYY()\n        }\n\n        this.dicommenu.event._addEvent('dicommenu.choose', function(value) {\n            //if(that.dicommenu.chooseData=='')\n            console.log(that.dicommenu.chooseData)\n            if (JSON.stringify(that.dicommenu.chooseData) == \"{}\") {\n                that.cornerstoneContorl.defaultFunction(null, null)\n                return\n            }\n            let menuChoose = that.dicommenu.chooseData\n            let tooltype = that.dicommenu.chooseData.data\n                //console.log(tooltype)\n            that.cornerstoneContorl.defaultFunction(menuChoose.fun + 'Fan', tooltype)\n        })\n        this.dicommenu.event._addEvent('dicommenu.wlchange', function(value) {\n            let menuChoose = that.dicommenu.chooseData.wl\n                //console.log(menuChoose)\n            let sId = that.cornerstoneContorl.getSid()\n                //that.cornerstoneContorl.changeWWCImage()\n            if (menuChoose.w != null && menuChoose.c != null) {\n                /*let wwc = that.getwwc({\n                    wc: menuChoose.c * 1,\n                    ww: menuChoose.w * 1\n                }, sId)*/\n                let wwc = that.model.projectInfo.seriesImgFileType == 2 ? {\n                    wc: menuChoose.c,\n                    ww: menuChoose.w\n                } : that.getwwc({\n                    wc: menuChoose.c * 1,\n                    ww: menuChoose.w * 1\n                }, sId)\n                console.log(that.getMMCImage(menuChoose.w * 1, sId))\n                that.cornerstoneContorl.lungWindown(wwc.wc * 1, wwc.ww * 1, that.getMMCImage(menuChoose.w * 1, sId))\n            } else {\n                let sinfo = that.model.seriesInfo[sId].info\n                if (sinfo.data.windowCenterUpper && sinfo.data.windowWidthUpper) {\n                    //console.log('aaaaaa', sinfo.data.windowCenterUpper, sinfo.data.windowWidthUpper)\n                    /*let wwc1 = that.getwwc({\n                        wc: sinfo.data.windowCenterUpper * 1,\n                        ww: sinfo.data.windowWidthUpper * 1\n                    }, sId)*/\n                    let wwc1 = that.model.projectInfo.seriesImgFileType == 2 ? {\n                        wc: sinfo.data.firstWindowCenter,\n                        ww: sinfo.data.firstWindowWidth\n                    } : that.getwwc({\n                        wc: sinfo.data.firstWindowCenter * 1,\n                        ww: sinfo.data.firstWindowWidth * 1\n                    }, sId, 'def')\n                    that.cornerstoneContorl.lungWindown(wwc1.wc * 1, wwc1.ww * 1, that.getMMCImage(null, sId))\n                    return\n                }\n                that.cornerstoneContorl.lungWindown(null, null, that.getMMCImage(null, sId))\n            }\n        })\n        this.dicommenu.event._addEvent('dicommenu.splitScreen', function(value) {\n            that.cornerstoneContorl.setScreen(value)\n        })\n\n        // 获取copd的值\n        this.dicommenu.event._addEvent('dicommenu.setCopdVal', async() => {\n            // 由于每个页面都需要调用这个方法，但是api并没有抽出base\n            if (!that.cornerstoneContorl.model.nidusChoose) {\n                that.alerError('请选择病症')\n                that.dom.find(\".dicommenu .fun_btn_copd\").removeClass('choose')\n                that.dom.find('.chooseDate1').hide()\n                return\n            }\n            try {\n                let {\n                    data\n                } = await this.api.HttpRequest.POST('/anno/image_result/getSegThresholdByIarId', {\n                    iarId: that.cornerstoneContorl.model.nidusChoose.bid * 1\n                })\n                that.dom.find('.chooseDate1 input[name=\"copdData\"]').val(data)\n            } catch (err) {\n                console.log(err)\n            }\n\n        })\n        this.dicommenu.event._addEvent('dicommenu.CTData', function(value) {\n            if (value.value > -850) {\n                that.alerError('阈值不能超过-850!')\n                that.dom.find('.chooseDate1 input[name=\"copdData\"]').val(-850)\n                return\n            }\n            if (value.value < -1200) {\n                that.alerError('阈值不能低于-1200!')\n                that.dom.find('.chooseDate1 input[name=\"copdData\"]').val(-1200)\n                return\n            }\n            value.value = value.value * 1\n            if (typeof value.value != 'number' || (value.value) % 1 != 0) {\n                that.alerError('请输入整数')\n                return\n            }\n\n            console.log(that.cornerstoneContorl.model.nidusChoose)\n            let item = JSON.parse(JSON.stringify(that.cornerstoneContorl.model.nidusChoose))\n            item.backId = item.bid\n            if (!that.cornerstoneContorl.model.nidusChoose.bid) {\n                that.alerError('请选择copd类型')\n                return\n            }\n            let data = {\n                segThreshold: value.value * 1,\n                iarId: that.cornerstoneContorl.model.nidusChoose.bid * 1\n            }\n            if (!that.api.alg_sar_reset_mask_image) return\n            that.app.loading.show()\n            that.api.alg_sar_reset_mask_image(data).done(function(res) {\n                that.api.anno_iar_read({\n                    \"id\": data.iarId * 1\n                }).done(function(res) {\n                    that.app.loading.hide()\n                    let data = {\n                            id: item.result,\n                            images: res.data.imageList,\n                            sId: that.cornerstoneContorl.model.nidusChoose.sId\n                        }\n                        //console.log('getAllimageDatagetAllimageDatagetAllimageData', res.data)\n                    that.creatAllPoint(data, item, false, false)\n                })\n            })\n        })\n        this.dicommenu.event._addEvent('dicommenu.done', function() {\n            let clickChoose = that.dicommenu.chooseData\n            if (clickChoose.click.lastIndexOf('del') != -1) {\n                that.cornerstoneContorl.clearData('meas')\n            } else {\n                that.openRemove()\n            }\n        })\n        this.dicommenu.event._addEvent('dicommenu.mpr', function() {\n            if (!that.cornerstoneContorl.mpr) {\n                that.cornerstoneContorl.openmpr()\n                that.cornerstoneContorl.mpr = true\n            }\n        })\n        this.dicommenu.event._addEvent('dicommenu.yinyang', function(value) {\n            that.api.series_result_yayAttributes({\n                sarIdList: that.getSarIds(),\n                yayAttributes: value.data\n            })\n        })\n        this.dicommenu.event._addEvent('dicommenu.reset', function() {\n            that.cornerstoneContorl.defaultFunction('resizeCon')\n        })\n        this.dicommenu.event._addEvent('dicommenu.shc', (value) => {\n            this.cornerstoneContorl.controlNodeShowHide(value)\n        })\n        this.dicommenu.event._addEvent('dicommenu.setData', (value) => {\n            console.log(value, '===========')\n            this.cornerstoneContorl.setConfigByDicommeun(value)\n        })\n        this.dicommenu.event._addEvent('dicommenu.errorMSG', (value) => {\n            this.alerError(value.msg)\n        })\n        this.dicommenu.event._addEvent('dicommenu.baseLine', (value) => {\n            this.cornerstoneContorl.baseLineSt(value.st, 'baseLine')\n        })\n        this.dicommenu.event._addEvent('dicommenu.cross', (value) => {\n            this.cornerstoneContorl.baseLineSt(value.st, 'cross')\n        })\n\n\n    }\n    getMMCImage(ww, sId) {\n        console.log(ww, 'aaaaaaaaaaaaaaaaaaaaa')\n        if (this.imageType == \"DCM\") {\n            return this.model.seriesInfo[sId].imagesAll.default.imgs.toString().split(',')\n        }\n        if (ww != null) {\n            if (ww <= 200) {\n                if (this.model.seriesInfo[sId].imagesAll.SMALL) {\n                    return this.model.seriesInfo[sId].imagesAll.SMALL.imgs.toString().split(',')\n                }\n            }\n            if (ww > 1000) {\n                if (this.model.seriesInfo[sId].imagesAll.LARGE) {\n                    return this.model.seriesInfo[sId].imagesAll.LARGE.imgs.toString().split(',')\n                }\n            }\n            return this.model.seriesInfo[sId].imagesAll.default.imgs.toString().split(',')\n        }\n        return this.model.seriesInfo[sId].imagesAll.default.imgs.toString().split(',')\n    }\n\n    //弹窗加载\n    modalLoad() {\n        let progressClass = require(\"../../modal/progress/progress.js\")\n        this.progress = this.app.loadModal(progressClass, {\n            adv: true\n        })\n        this.progress.hide()\n        let alertS = require(\"../../modal/seriessubmit/seriessubmit.js\")\n\n        this.alertSubmit = this.app.loadModal(alertS, {\n            adv: true\n        })\n        console.log(this.alertSubmit, '哈哈哈')\n        this.alertSubmit.hide()\n    }\n\n    //----------------------------各大模块初始化------------------------------\n    //----------------------------调用接口开始流程------------------------------\n\n    //接口调用，获取信息\n    baseApi() {\n        this.app.loading.show()\n        this.api.project_anno_read({\n            projectId: this.app.parpam['projectId']\n        }).done((value) => {\n            this.app.loading.hide()\n            console.log('projectInfoprojectInfo', value.data)\n            this.model.setData('projectInfo', value.data)\n            this.imageDataType = String(value.data.seriesImgFileType) == \"2\" ? \"orgin\" : \"noneOrgin\"\n                //this.imageType = String(value.data.seriesImgFileType) == 2 ? \"DCM\" : \"JPG\"\n        })\n        this.apiload()\n    }\n    apiload() {}\n\n    //关闭菜单功能，生成病症的选项\n    annotationIteminit() {\n        let projectInfo = this.model.projectInfo\n        let tool = {}\n        projectInfo.imageAnnotationList.map((item) => {\n            item.toolList.map((res) => {\n                if (!tool[res.type]) {\n                    tool[res.type] = []\n                }\n                let tempD = JSON.parse(JSON.stringify(res))\n                tempD.imageAnnotation = item.type\n                tempD.imageAnnotationId = item.id\n                tool[res.type].push(tempD)\n            })\n        })\n        this.model.toolInfo = tool\n        for (let i in tool) {\n            switch (i) {\n                case \"ELLIPSE\":\n                    this.dicommenu.openadd(tool[i], \"ellipticalRoi\")\n                    break\n                case \"RECTANGLE\":\n                    this.dicommenu.openadd(tool[i], \"rectangleRoi\")\n                        //this.dicommenu.openadd(tool[i], \"simpleAngle\")\n                    break\n                case \"COBB\":\n                    this.dicommenu.openadd(tool[i], \"cobb\")\n                    break\n                case \"ALIGNMENT\":\n                    this.dicommenu.openadd(tool[i], \"alignment\")\n                    break\n                case \"PEN\":\n                    this.dicommenu.openadd(tool[i], \"brush\")\n                    this.dicommenu.openadd(tool[i], \"earse\")\n                    break\n                case \"POINT\":\n                    this.dicommenu.openadd(tool[i], \"brush\")\n                    this.dicommenu.openadd(tool[i], \"earse\")\n                    break\n                case \"ANGLE\":\n                    this.dicommenu.openadd(tool[i], \"simpleAngle\")\n                    break\n                case \"LINE\":\n                    this.dicommenu.openadd(tool[i], \"length\")\n                    break\n                case \"MAGIC_STICK_SINGLE\":\n                    this.dicommenu.openadd(tool[i], \"magicStickSingle\")\n                    this.dicommenu.openadd(tool[i], \"brush\")\n                    this.dicommenu.openadd(tool[i], \"earse\")\n                    break\n                case \"FREEHAND\":\n                    this.dicommenu.openadd(tool[i], \"freehand\")\n                    this.dicommenu.openadd(tool[i], \"brush\")\n                    this.dicommenu.openadd(tool[i], \"earse\")\n                    break\n                case \"FREEHANDLINE\":\n                    this.dicommenu.openadd(tool[i], \"freehand\")\n                    this.dicommenu.openadd(tool[i], \"brush\")\n                    this.dicommenu.openadd(tool[i], \"earse\")\n                    break\n                case \"POLYGON\":\n                    this.dicommenu.openadd(tool[i], \"polygon\")\n                    this.dicommenu.openadd(tool[i], \"brush\")\n                    this.dicommenu.openadd(tool[i], \"earse\")\n                    break\n                case \"QSELECT\":\n                    this.dicommenu.openadd(tool[i], \"quickselect\")\n                    this.dicommenu.openadd(tool[i], \"brush\")\n                    this.dicommenu.openadd(tool[i], \"earse\")\n                    break\n                case \"REGION_PAINT\":\n                    this.dicommenu.openadd(tool[i], \"regionpaint\")\n                    this.dicommenu.openadd(tool[i], \"brush\")\n                    this.dicommenu.openadd(tool[i], \"earse\")\n                    break\n            }\n        }\n        //翻译所有的标注组件信息\n        let nidusinfo = {\n            all: {}\n        }\n        console.log(projectInfo.annotationItemList, '我是哈啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊')\n        nidusinfo.all = this.translateData(projectInfo.annotationItemList)\n        for (let i = 0; i < projectInfo.imageAnnotationList.length; i++) {\n            let teampData = projectInfo.imageAnnotationList[i].annotationItemList\n            if (teampData.length != 0) {\n                nidusinfo[projectInfo.imageAnnotationList[i].type] = this.translateData(projectInfo.imageAnnotationList[i].annotationItemList)\n            }\n        }\n        //console.log(this.model.taskInfo.studyAnno,'this.model.taskInfo.studyAnnothis.model.taskInfo.studyAnnothis.model.taskInfo.studyAnno')\n\n        console.log(nidusinfo, '===============')\n        this.cornerstoneContorl.model.nidusComponentInfo = Tool.clone(nidusinfo)\n        nidusinfo = null\n        console.log(nidusinfo)\n        this.series_get()\n\n        //this.cornerstoneContorl.makeAllInfo()\n    }\n\n    //************************标注相关*************************\n    //获取需要标注的序列\n    series_get() {}\n\n    //标注基础信息准备完成，进入这一轮标注的起始点\n    start_series() {\n        let data = this.model.series_result_id\n        console.log(data, 'data')\n        for (let i = 0; i < data.seriesInstanceUids.length; i++) {\n            //  console.log(data.seriesInstanceUids[i])\n            this.getSeriesAllImage(data.seriesInstanceUids[i])\n        }\n        this.result_get_fromback()\n    }\n    async getSeriesAllImage(data) {\n\n        let seriesInstanceUID = typeof data.seriesInstanceUid == \"object\" ? data.seriesInstanceUid.series : data.seriesInstanceUid\n        this.model.seriesInfo[seriesInstanceUID] = {}\n        this.model.seriesInfo[seriesInstanceUID].needAnno = typeof data.seriesInstanceUid == \"object\" ? data.seriesInstanceUid.needAnno : data.needAnno\n        this.app.loading.show()\n        console.log(data)\n\n        console.log(seriesInstanceUID, typeof data.seriesInstanceUid)\n        if (seriesInstanceUID.lastIndexOf('-') != -1) {\n            seriesInstanceUID = seriesInstanceUID.split('-')[0]\n        }\n        let value = await this.api.sys_transfer({\n            service: \"DR\",\n            method: '/v1/series/read',\n            params: JSON.stringify({\n                \"seriesInstanceUID\": seriesInstanceUID\n            })\n        })\n        this.app.loading.hide()\n        this.model.seriesInfo[seriesInstanceUID].info = value\n        if (value.data.fileType == 'DCM' && value.data.modality != 'DR' && value.data.modality != 'CX' && value.data.modality != 'CR' && value.data.modality != 'DX') {\n            this.dicommenu.openadd([], \"mpr\")\n            this.dicommenu.openadd([], \"add\")\n            this.dicommenu.openadd([], \"sub\")\n            this.dicommenu.openadd([], \"copd\")\n        }\n        //this.imageType = value.data.fileType\n        switch (value.data.fileType) {\n            case \"DCM\":\n                if (this.imageDataType == 'noneOrgin') {\n                    this.imageType = \"JPG\"\n                } else {\n                    this.imageType = \"DCM\"\n                }\n                break\n            case \"NII\":\n                this.imageType = \"JPG\"\n                break\n            case \"JPG\":\n                if (this.imageDataType == 'noneOrgin') {\n                    this.imageType = \"JPG_COMPRESS\"\n                } else {\n                    this.imageType = \"JPG\"\n                }\n                break\n            default:\n                this.imageType = \"JPG\"\n                break\n        }\n        /* if (this.imageDataType == 'noneOrgin') {\n             if (value.data.fileType == \"JPG\") {\n                 this.imageType = \"JPG_COMPRESS\"\n             } else {\n                 this.imageType = \"JPG\"\n             }\n         } else {\n             this.imageType = value.data.fileType\n         }\n         if (value.data.fileType == \"JPG\") {\n             this.imageType = \"JPG\"\n         }*/\n        if (!value.data.jpgInfo && value.data.fileType == \"DCM\" && !this.model.taskInfo) {\n            this.app.alert.show({\n                title: ' ',\n                msg: '数据异常,点击确认进入下一个序列',\n                close: false,\n                sure: function() {\n                    that.discaseToDone({\n                        type: 98,\n                        des: '序列加载异常'\n                    })\n                }\n            })\n            return\n        }\n        let tdata = JSON.parse(value.data.jpgInfo)\n        this.model.seriesInfo[seriesInstanceUID].info.wwc = value.data.jpgInfo ? tdata : {\n            low: 0,\n            hight: 255,\n            flag: 0\n        }\n        this.model.series_result_id.conclusion = value.data.conclusion\n        this.model.series_result_id.finding = value.data.finding\n        let temp = this.model.seriesInfo[seriesInstanceUID].info.data.pixelSpacing ? this.model.seriesInfo[seriesInstanceUID].info.data.pixelSpacing.split('\\\\') : [1, 1]\n        this.model.seriesInfo[seriesInstanceUID].info.data.pixelSpacing = temp // this.model.seriesInfo[seriesInstanceUID].info.data.pixelSpacing ? temp[0] * 1 : 1\n        this.model.seriesInfo[seriesInstanceUID].info.data.columnPixelSpacing = temp[0]\n        this.model.seriesInfo[seriesInstanceUID].info.data.rowPixelSpacing = temp[1]\n        this.model.setData('seriesInfo', this.model.seriesInfo)\n\n        let res = await this.api.sys_transfer({\n            service: \"DR\",\n            method: '/v1/image/query',\n            params: JSON.stringify({\n                \"seriesInstanceUID\": seriesInstanceUID,\n                \"fileType\": this.imageType\n            })\n        })\n\n        //console.log('image_queryimage_query', res.data, JSON.parse(res.data.jpgInfoLarge), JSON.parse(res.data.jpgInfoSmall), JSON.parse(res.data.jpgInfo))\n        //this.model.seriesInfo[data.seriesInstanceUid].imgs = []\n        console.log(seriesInstanceUID)\n        if (!this.model.seriesInfo[seriesInstanceUID]) {\n            this.model.seriesInfo[seriesInstanceUID] = {}\n        }\n        this.model.seriesInfo[seriesInstanceUID].imagesAll = {}\n        let imagesAll = this.model.seriesInfo[seriesInstanceUID].imagesAll\n        if (this.imageType != \"DCM\") {\n            this.model.seriesInfo[seriesInstanceUID].infoAll = {}\n            this.model.seriesInfo[seriesInstanceUID].infoAll.large = res.data.jpgInfoLarge ? res.data.jpgInfoLarge : null\n            this.model.seriesInfo[seriesInstanceUID].infoAll.small = res.data.jpgInfoSmall ? res.data.jpgInfoSmall : null\n            this.model.seriesInfo[seriesInstanceUID].infoAll.default = res.data.jpgInfo ? res.data.jpgInfo : '{\"low\": 0,\"hight\": 255,\"flag\": 0}'\n            if (!this.model.seriesInfo[seriesInstanceUID].info) {\n                this.model.seriesInfo[seriesInstanceUID].info = {}\n            }\n            this.model.seriesInfo[seriesInstanceUID].info.wwc = JSON.parse(this.model.seriesInfo[seriesInstanceUID].infoAll.default)\n        }\n\n        // console.log('aaa', res.data.list)\n        await this.getPeoplePostion(seriesInstanceUID, data.imageList) // 执行完这个在执行下边的吗\n        this.model.seriesInfo[seriesInstanceUID].imgsTotal = null\n        if (res.data.list) {\n            for (var j = 0; j < res.data.list.length; j++) {\n\n                let urlPath\n                let item = res.data.list[j]\n                    //console.log('aaa', res.data.list[j], item)\n                if (this.imageType != \"DCM\") {\n                    urlPath = 'myImageLoader:' + item.urlWAN //.replace('proximatest.cn-sh2.ufileos.com', window.location.host + '/img')\n                } else {\n                    urlPath = 'wadouri:' + item.urlWAN //.replace('proximatest.cn-sh2.ufileos.com', window.location.host + '/img')\n                }\n                //let posArr = item.path.split('/')\n                let posNum = item.number // Tool.changeToName(item.path) //posArr[posArr.length - 1].replace('.' + this.imageType.toLowerCase(), '') * 1 - 1\n                if (!this.model.seriesInfo[seriesInstanceUID].imgsTotal) {\n                    this.model.seriesInfo[seriesInstanceUID].imgsTotal = 1 // item.number * 1\n                } else if (this.model.seriesInfo[seriesInstanceUID].imgsTotal < item.number * 1) {\n                    this.model.seriesInfo[seriesInstanceUID].imgsTotal = item.number * 1\n                }\n                if (item.windowType) {\n                    if (!imagesAll[item.windowType]) {\n                        imagesAll[item.windowType] = {}\n                        imagesAll[item.windowType].imgs = []\n                    }\n                    imagesAll[item.windowType].imgs[posNum] = urlPath\n                } else {\n                    if (!imagesAll['default']) {\n                        imagesAll['default'] = {}\n                        imagesAll['default'].imgs = []\n                    }\n                    imagesAll['default'].imgs[posNum] = urlPath\n                }\n            }\n        }\n\n        if ((!res.data.list) || res.data.list.length == 0) {\n            imagesAll['default'] = {}\n            imagesAll['default'].imgs = []\n        }\n        for (let i in imagesAll) {\n            if (data.imageList) {\n                let aa = []\n                for (let w = 0; w < data.imageList.length; w++) {\n                    let imageId = data.imageList[w]\n                    let url = imagesAll[i].imgs[imageId] ? imagesAll[i].imgs[imageId] : null\n                        //console.log(url)\n                    aa.push(url)\n                }\n                imagesAll[i].imgs = JSON.parse(JSON.stringify(aa))\n                aa = null\n            }\n            imagesAll[i].imgs = imagesAll[i].imgs.filter((item) => {\n                return item\n            })\n        }\n        this.model.seriesInfo[seriesInstanceUID].imgs = this.model.seriesInfo[seriesInstanceUID].imagesAll['default'].imgs.toString().split(',')\n        this.model.seriesInfo[seriesInstanceUID].imgs = this.model.seriesInfo[seriesInstanceUID].imgs.filter((item) => {\n            return item\n        })\n        this.model.setData('seriesInfo', this.model.seriesInfo)\n\n    }\n    async getPeoplePostion(seriesInstanceUID, imglist) {\n        let res = await this.api.sys_transfer({\n            service: \"DR\",\n            method: '/v1/image/query',\n            params: JSON.stringify({\n                \"seriesInstanceUID\": seriesInstanceUID,\n                \"fileType\": \"DCM\"\n            }),\n            /*this.api.image_query({\n                group: data.seriesInstanceUid,\n                'fileType': this.imageType*/\n        })\n        if (!this.model.seriesInfo[seriesInstanceUID].people) {\n            this.model.seriesInfo[seriesInstanceUID].people = []\n        }\n        for (var j = 0; j < res.data.list.length; j++) {\n            let item = res.data.list[j]\n                //console.log(item, 'item.ImageOrientationPatientitem.ImageOrientationPatientitem.ImageOrientationPatient')\n            if (item.imageOrientationPatient || item.imagePositionPatient) {\n                //console.log('daskjkdlajkl')\n                item.info = item.info ? item.info : {}\n                item.info.imagePositionPatient = item.imagePositionPatient.split('\\\\')\n                item.info.ImageOrientationPatient = item.imageOrientationPatient.split('\\\\')\n                    //console.log(item.imagePositionPatient)\n                this.model.seriesInfo[seriesInstanceUID].people[item.number] = {\n                    imagePositionPatient: item.info.imagePositionPatient,\n                    ImageOrientationPatient: item.info.ImageOrientationPatient\n                }\n            } else {\n                this.model.seriesInfo[seriesInstanceUID].people.push(null)\n            }\n        }\n        if (imglist) {\n            let aa = []\n            for (let w = 0; w < imglist.length; w++) {\n                let imageId = imglist[w]\n                let url = this.model.seriesInfo[seriesInstanceUID].people[imageId] ? this.model.seriesInfo[seriesInstanceUID].people[imageId] : null\n                aa.push(url)\n            }\n            this.model.seriesInfo[seriesInstanceUID].people = JSON.parse(JSON.stringify(aa))\n            aa = null\n        }\n\n    }\n    result_get_fromback() {\n        if (window.location.hash.lastIndexOf('markaudit') != -1 || window.location.hash.lastIndexOf('drapCanvasAud') != -1 || window.location.hash.lastIndexOf('drapCanvsPro') != -1) {\n            this.audito_result_get_fromback()\n        }\n    }\n    audito_result_get_fromback() {\n        if (this.model.taskInfo) {\n            if (this.model.taskInfo.hasYay * 1 == 1) {\n                this.dicommenu.openYY()\n            }\n        }\n        let need = 'all'\n        if (this.model.taskInfo.studyAnno) {\n            need = 'study'\n        }\n        for (let i = 0; i < this.model.series_result_id.seriesInstanceUids.length; i++) {\n            this.api.series_result_read({\n                sarId: this.model.series_result_id.seriesInstanceUids[i].seriesAnnotationResultId //this.model.series_result_id.seriesAnnotationResultId\n            }).done((value) => {\n                this.model.translateBackData(value, this.model.projectInfo.annotationItemList)\n                let sIdcon = this.model.series_result_id.seriesInstanceUids[i].seriesInstanceUid\n                let seriesInstanceUID = typeof sIdcon == \"object\" ? sIdcon.series : sIdcon.seriesInstanceUid\n                value.data.seriesInstanceUid = value.data.seriesUid //seriesInstanceUID\n                this.model.seriesResult[value.data.seriesUid] = value\n                this.model.series_result_id.remark = value.data.remark\n                if (need == 'all' || need == 'study') {\n                    console.log(value.data.annoResultList, 'value.data.annoResultList')\n                    for (let w = 0; w < value.data.annoResultList.length; w++) {\n                        this.dicommenu.addDoctorSocre(value.data.annoResultList[w].doctorName, value.data.annoResultList[w].hasYay ? value.data.annoResultList[w].yayAttributes : \"无\")\n                    }\n                    if (need == 'study') {\n                        need = 'close'\n                    }\n                }\n\n                if (value.data.yayAttributes) {\n                    this.dicommenu.openYY()\n                    this.dicommenu.setYY(value.data.yayAttributes)\n                }\n                this.model.setData('seriesResult', this.model.seriesResult)\n                if (window.location.hash.lastIndexOf('view') != -1) {\n                    this.dicommenu.closeYY()\n                    return\n                }\n                if (i == this.model.series_result_id.seriesInstanceUids.length - 1) {\n                    this.api.audit_annoitem_update({\n                        sarIdList: this.getSarIds(), //value.data.sarId,\n                        type: \"ANNOITEM\",\n                        resultList: this.model.changeItemDataToBackendCheck(value.data.annotationItemResultList)\n                    }).done(() => {})\n                }\n            })\n        }\n    }\n\n    //************************标注相关*************************\n\n    //************************影像数据列表************************\n    //影像信息获得数据后进行加载内容\n    cornerstoneStart() {\n        if (this.model.projectInfo.isYayAttributes) {\n            this.dicommenu.openYY()\n        }\n        //console.log(this.model.seriesResult,this.model.taskInfo,this.model.projectInfo)\n        this.dicommenu.setYY(this.model.seriesResult)\n        for (let i in this.model.seriesInfo) {\n            let data = this.model.seriesInfo[i]\n                //console.log(data)\n            window.fileTypeName = data.info.data.fileType\n            this.cornerstoneContorl.imageType = this.imageType\n            if (this.model.taskInfo.studyAnno) {\n                this.dicommenu.openadd([], \"screen\")\n            }\n            console.log('cornerstone准备初始化')\n                //console.log(data.imgsTotal, data.imgs, data.info)\n            this.cornerstoneContorl.penRealy = false\n            this.cornerstoneContorl.initCT(data.imgsTotal, data.imgs, data.info)\n            this.cornerstoneContorl.event._addEvent('ctcornerstone.wlChange', value => {\n                let menuChoose = {\n                    c: value.wwc.c,\n                    w: value.wwc.w\n                }\n                let wwc = this.model.projectInfo.seriesImgFileType == 2 ? {\n                    wc: menuChoose.c,\n                    ww: menuChoose.w\n                } : this.getwwc({\n                    wc: menuChoose.c * 1,\n                    ww: menuChoose.w * 1\n                }, value.sId)\n                console.log(wwc, value)\n                this.cornerstoneContorl.lungWindown(wwc.wc * 1, wwc.ww * 1, this.getMMCImage(wwc.ww * 1, value.sId))\n            })\n            console.log('cornerstone初始化')\n            return\n        }\n    }\n    getWidth(url) {\n        return new Promise(function(resolve, reject) {\n            let images = new Image()\n            images.src = url\n            images.onload = function() {\n                if (this.width > 2000 || this.height > 2000) {\n                    resolve(true)\n                } else {\n                    resolve(false)\n                }\n            }\n        });\n    }\n\n    //初始化标注结果，当前序列\n    async listInit() {\n            //let seriesInfo = this.model.seriesInfo.info.data\n        let seriesResult = this.model.seriesResult\n        let studyInfo = this.model.series_result_id\n        let data = {\n            studyId: studyInfo.studyInstanceUid,\n            sequenceName: studyInfo.studyInstanceUid,\n            major: \"major\",\n            id: studyInfo.studyInstanceUid\n        }\n        let reslutData = []\n        let annotationItemResultList = null\n            //console.log(seriesResult)\n            //console.log(this.model.seriesInfo,seriesResult)\n        for (let i in seriesResult) {\n            let seriesUid = seriesResult[i].data.seriesInstanceUid || seriesResult[i].data.seriesUid\n            let seriesInfo = this.model.seriesInfo[seriesUid] ? this.model.seriesInfo[seriesUid].info.data : {\n                modality: null,\n                fileType: \"JPG\"\n            }\n            let nee = false\n            if (seriesInfo.fileType == \"DCM\" && (seriesInfo.modality == 'DX' || seriesInfo.modality == 'DR' || seriesInfo.modality == 'CR')) {\n                //nee = true\n            }\n            const tempImageAnnotationResultList = seriesResult[i].data.imageAnnotationResultList\n            this.model.translateDataReslut(tempImageAnnotationResultList, seriesUid, nee)\n\n            reslutData = reslutData.concat(tempImageAnnotationResultList)\n            this.model.seriesInfo[seriesUid].sarId = i\n            this.model.seriesInfo[seriesUid].hasMarked = !!tempImageAnnotationResultList.length\n            if (!annotationItemResultList) {\n                annotationItemResultList = seriesResult[i].data.annotationItemResultList\n            }\n            this.cornerstoneContorl.fileTypeName = seriesInfo.fileType\n        }\n        //console.log(reslutData, this.model.taskInfo.studyAnno, data, this.model.seriesInfo)\n        this.cornerstoneContorl.model.seriesInfo = this.model.seriesInfo\n            //console.log(this.model.seriesInfo)\n        if (this.model.taskInfo.studyAnno && !this.model.projectInfo.largeFigure) {\n            this.cornerstoneContorl.setSequenceLists(this.model.seriesInfo, this.imageType)\n        } else {\n            this.cornerstoneContorl.closeSequenceLists()\n        }\n        this.cornerstoneContorl.setSequence([data], reslutData)\n        studyInfo.showReport = this.model.projectInfo.showReport //doctorNidduleAll\n\n        this.cornerstoneContorl.setSeriesNidusData(annotationItemResultList, studyInfo, seriesResult)\n        this.getAllimageData(reslutData)\n    }\n    getAllimageData(imageAnnotationResultList) {\n        let seriesResultData = imageAnnotationResultList // this.model.seriesResult.data.imageAnnotationResultList\n        let that = this\n        let open = false\n        this.model.loadData = {\n            total: 0,\n            num: 0\n        }\n        seriesResultData.map(async(item) => {\n            let anId = String(item.id).lastIndexOf('_') != -1 ? item.id.split('_')[1] : item.id\n            if (item.imageAnnotationToolType == \"MAGIC_STICK_SINGLE\") {\n                // open = true\n                console.log(item)\n                item.brush = true\n                let resRead = await that.api.magicToolRead({\n                    id: anId\n                })\n                that.baseMagicTranData(item.id, resRead, item, false)\n                this.model.loadData.total++\n            }\n            //console.log(item.imageAnnotationToolType, '======================')\n            if (item.imageAnnotationToolType == \"POLYGON\" || item.imageAnnotationToolType == \"QSELECT\" || item.imageAnnotationToolType == \"REGION_PAINT\" || item.imageAnnotationToolType == \"FREEHAND\") {\n                this.model.loadData.total++\n                    item.brush = true\n                    //let anId = String(item.id).lastIndexOf('_') != -1 ? item.id.split('_')[1] : item.id\n                this.api.anno_iar_read({\n                    \"id\": anId * 1\n                }).done(function(res) {\n                    if (!res.data) {\n                        that.model.loadData.total--\n                    }\n                    let data = {\n                        id: item.result,\n                        images: res.data.imageList,\n                        sId: item.sId\n                    }\n                    let LESION = Tool.configxlkformat(that.app.constmap.LESION)\n\n                    let who = LESION.find((res) => {\n                        return res.idx == item.imageAnnotationType\n                    })\n                    let needFlag = false\n\n                    if (who && who.val == '心脏分割') {\n                        needFlag = true\n                        console.log(res.data.imageList[0])\n                        let numPos = res.data.imageList[0].urlWan.split('?')[0].split('/')\n                        console.log(numPos)\n                        that.cornerstoneContorl.setNname(anId * 1, numPos[numPos.length - 2] * 1)\n                        console.log(anId * 1, res.data.imageList[0])\n                    }\n                    let cloneData = false\n                    if (who && who.val == 'MCA供血分区') {\n                        cloneData = true\n                    }\n                    that.creatAllPoint(data, item, false, needFlag, cloneData)\n                        //console.log('getAllimageDatagetAllimageDatagetAllimageData', res.data)\n                        //that.creatAllPoint(data, item, false, needFlag)\n                })\n            }\n        })\n        if (open) {\n            this.cornerstoneContorl.updataSequencelist(seriesResultData[0])\n            let magicloadingClass = require(\"../../modal/magicloading/magicloading.js\")\n            that.magicloading = that.app.loadModal(magicloadingClass, {\n                adv: true,\n                title: '正在加载标注过的病症数据，请耐心等待'\n            })\n        }\n    }\n\n    //接口统一由标注平台封包的结果\n    creatAllPoint(imgs, data, apineed, whichModel, cloneData) {\n        let postData = {}\n        postData.result = imgs.id\n        let rid\n        let otherSid\n        for (let i in this.model.seriesResult) {\n            if (this.model.seriesResult[i].data.seriesInstanceUid == data.sId) {\n                rid = i\n            } else {\n                otherSid = this.model.seriesResult[i].data.seriesInstanceUid\n            }\n        }\n\n        postData.seriesAnnotationResultId = rid // this.model.seriesResult.data.id //.info.data.seriesInstanceUID\n        postData.imageAnnotationId = data.toolType.imageAnnotationId\n        postData.imageAnnotationToolId = data.toolType.id\n        let serInfo = this.model.seriesInfo[data.sId]\n        let newdata = {\n            imglist: this.model.getImagesBack(imgs.images, serInfo.info.wwc.flag, serInfo.imgsTotal),\n            id: data.backId,\n            rid: data.backId,\n            sId: data.sId\n        }\n        if (cloneData) {\n            //let newdataClone = Tool.clone(newdata)\n            newdata.sId += \"_\" + otherSid\n            this.cornerstoneContorl.updateSequencelistSid(newdata)\n                //this.needApiAll(data, apineed, newdataClone, postData)\n        }\n\n        if (whichModel) {\n            newdata.imglist = this.model.getImages(imgs.images, serInfo.info.wwc.flag, serInfo.imgsTotal)\n        }\n        newdata.needScale = this.model.judgeX(serInfo.info.data.fileType, serInfo.info.data.modality)\n        this.needApiAll(data, apineed, newdata, postData)\n    }\n\n    //创造一个钙化灶\n    creatOnePoint(imgs, data, apineed) {\n        //console.log(this.model.seriesResult)\n        let seriesResultId\n        for (var i in this.model.seriesResult) {\n            if (this.model.seriesResult[i].data.seriesInstanceUid == data.sId) {\n                seriesResultId = i\n            }\n        }\n        let postData = {}\n        postData.result = imgs.id\n        postData.seriesAnnotationResultId = seriesResultId\n        postData.imageAnnotationId = data.toolType.imageAnnotationId\n        postData.imageAnnotationToolId = data.toolType.id\n        let serInfo = this.model.seriesInfo[data.sId]\n        let newdata = {\n            imglist: this.model.getImages(imgs.images, serInfo.info.wwc.flag, serInfo.imgsTotal),\n            id: data.backId,\n            rid: imgs.id,\n            sId: data.sId\n        }\n        newdata.needScale = this.model.judgeX(this.model.seriesInfo[data.sId].info.data.fileType, this.model.seriesInfo[data.sId].info.data.modality)\n            /*if (this.model.seriesInfo[data.sId].info.data.fileType == \"DCM\" && (this.model.seriesInfo[data.sId].info.data.modality == 'DX' || this.model.seriesInfo[data.sId].info.data.modality == 'DR' || this.model.seriesInfo[data.sId].info.data.modality == 'CR')) {\n                //true\n            }*/\n        this.needApiAll(data, apineed, newdata, postData)\n    }\n\n    /**\n     * 魔法棒 数据转换\n     * @param createId 创建返回的id\n     * @param resRead 读取创建返回的数据\n     * @param data 选择的数据\n     * @param apineed 布尔值\n     */\n    baseMagicTranData(createId, resRead, data, apineed, seriesResultId) {\n        let serInfo = this.model.seriesInfo[data.sId]\n        let newdata = {\n            imglist: this.model.getImages(resRead.data.imageList, serInfo.info.wwc.flag, serInfo.imgsTotal),\n            id: createId,\n            rid: createId,\n            sId: data.sId,\n            needScale: this.model.judgeX(serInfo.info.data.fileType, serInfo.info.data.modality)\n        }\n        data.id = createId\n        data.backId = createId\n        if (apineed) {\n            data.brush = true\n            this.cornerstoneContorl.updataSequencelist(data)\n        }\n        this.cornerstoneContorl.setbrush(newdata)\n            // this.needApiAll(data, apineed, newdata, postData)\n    }\n\n\n    needApiAll(data, apineed, newdata, postData) {}\n\n    //---------------------------------------\n    //获取窗宽窗位\n    getwwc(orignwc, sId, def) {\n        let all = [orignwc.wc - orignwc.ww / 2, orignwc.ww / 2 + orignwc.wc]\n        console.log(orignwc, this.model.seriesInfo[sId].info.wwc, def)\n        if (this.imageType != \"DCM\") {\n            this.model.seriesInfo[sId].info.wwc = JSON.parse(this.model.seriesInfo[sId].infoAll.default)\n            if (!def) {\n                if (orignwc.ww <= 200) {\n                    if (this.model.seriesInfo[sId].infoAll.small) {\n                        this.model.seriesInfo[sId].info.wwc = JSON.parse(this.model.seriesInfo[sId].infoAll.small)\n                    }\n                }\n                if (orignwc.ww > 1000) {\n                    if (this.model.seriesInfo[sId].infoAll.large) {\n                        this.model.seriesInfo[sId].info.wwc = JSON.parse(this.model.seriesInfo[sId].infoAll.large)\n                    }\n                }\n            }\n        } else {\n            return orignwc\n        }\n        if (this.model.seriesInfo[sId].info.wwc) {\n            let mindata = this.model.seriesInfo[sId].info.wwc.low * 1\n            let range = this.model.seriesInfo[sId].info.wwc.hight * 1 - this.model.seriesInfo[sId].info.wwc.low * 1\n                //console.log(mindata, range, all)\n            let minS = 255 * (all[0] - mindata) / range\n            let maxS = 255 * (all[1] - mindata) / range\n                //minS = minS < 0 ? 0 : minS\n                //maxS = maxS > 255 ? 255 : maxS\n                //console.log(maxS, minS)\n            return {\n                wc: (minS + maxS) / 2,\n                ww: (maxS - minS)\n            }\n        } else {\n            return orignwc\n        }\n    }\n\n\n    makeWwC(sId) {\n        //sId为序列号\n        if (this.dicommenu.chooseData) {\n            let menuChoose = this.dicommenu.chooseData.wl ? this.dicommenu.chooseData.wl : {\n                c: null,\n                w: null\n            }\n            if (menuChoose.c == null && menuChoose.w == null) {\n                console.log(this.model.seriesInfo, sId, '')\n                let sinfo = this.model.seriesInfo[sId].info\n                    //if(menuChoose.w)\n                if (sinfo.data.firstWindowCenter && sinfo.data.firstWindowWidth && sinfo.data.jpgInfo != \"{}\") {\n                    /*let wwc1 = this.getwwc({\n                        wc: sinfo.data.windowCenterUpper * 1,\n                        ww: sinfo.data.windowWidthUpper * 1\n                    }, sId)*/\n                    let wwc1 = this.model.projectInfo.seriesImgFileType == 2 ? {\n                        wc: sinfo.data.firstWindowCenter,\n                        ww: sinfo.data.firstWindowWidth\n                    } : this.getwwc({\n                        wc: sinfo.data.firstWindowCenter * 1,\n                        ww: sinfo.data.firstWindowWidth * 1\n                    }, sId, 'def')\n                    this.cornerstoneContorl.lungWindown(wwc1.wc * 1, wwc1.ww * 1, this.getMMCImage(wwc1.ww, sId))\n                } else if (sinfo.data.firstWindowCenter && sinfo.data.firstWindowWidth && this.imageType == \"DCM\") {\n                    let wwc1 = this.model.projectInfo.seriesImgFileType == 2 ? {\n                        wc: sinfo.data.firstWindowCenter,\n                        ww: sinfo.data.firstWindowWidth\n                    } : this.getwwc({\n                        wc: sinfo.data.firstWindowCenter * 1,\n                        ww: sinfo.data.firstWindowWidth * 1\n                    }, sId, 'def')\n                    console.log(wwc1)\n                    this.cornerstoneContorl.lungWindown(wwc1.wc * 1, wwc1.ww * 1, this.getMMCImage(wwc1.ww, sId))\n                } else {\n                    this.cornerstoneContorl.lungWindown(null, null, this.getMMCImage(null, sId))\n                }\n            } else {\n                /*let wwc = this.getwwc({\n                    wc: menuChoose.c * 1,\n                    ww: menuChoose.w * 1\n                }, sId)*/\n                let wwc = this.model.projectInfo.seriesImgFileType == 2 ? {\n                    wc: menuChoose.c,\n                    ww: menuChoose.w\n                } : this.getwwc({\n                    wc: menuChoose.c * 1,\n                    ww: menuChoose.w * 1\n                }, sId)\n                this.cornerstoneContorl.lungWindown(wwc.wc * 1, wwc.ww * 1, this.getMMCImage(menuChoose.w * 1, sId))\n            }\n        } else {\n            this.cornerstoneContorl.lungWindown(null, null, this.getMMCImage(null, sId))\n        }\n    }\n\n    //--------------------------废片处理\n    openRemove() {\n            let removeseries = require(\"../../modal/removeseries/removeseries.js\")\n            let discardList = this.model.projectInfo.discardList ? this.model.projectInfo.discardList : null\n            let remove_s = this.app.loadModal(removeseries, {\n                adv: false,\n                class: \"xs\",\n                title: \"请选择该序列标为废片的原因\",\n                data: discardList\n            })\n            remove_s.event._addEvent('modal.confirm', () => {\n                //console.log(remove_s.res, 'remove_s.resremove_s.resremove_s.res')\n                let sorce = JSON.parse(JSON.stringify(remove_s.res))\n                if (JSON.stringify(remove_s.res) == \"{}\") {\n                    remove_s.showError(0)\n                    return\n                }\n                if (remove_s.res.type = \"99\" && !remove_s.res.des) {\n                    remove_s.showError(1)\n                    return\n                }\n\n                this.discaseToDone(sorce, remove_s)\n                remove_s.close()\n            })\n        }\n        //----------------------------------------一些通用方法不牵扯流程---------------------------------\n        //翻译组件的信息为渲染和扩展准备\n    translateData(list) {\n\n            let obj = {}\n            for (let i = 0; i < list.length; i++) {\n                let teampData = list[i]\n                let key = teampData.id //teampData.componentName\n                obj[key] = list[i]\n                obj[key].id = teampData.id\n                obj[key].type = teampData.componentType\n                obj[key].name = teampData.componentName\n                if (teampData.componentParameter) {\n                    if (typeof JSON.parse(teampData.componentParameter) == 'object') {\n                        if (JSON.parse(teampData.componentParameter).hasnull) {\n                            teampData.type = \"checkbox-sp\"\n                        }\n                    } else {\n                        teampData.componentParameter = null\n                    }\n                }\n                //console.log(teampData.componentData, 'teampData.componentData')\n                if (teampData.componentData) {\n                    obj[key].data = {}\n                    if (teampData.type == \"checkbox-sp\") {\n                        obj[key].data[\"-1\"] = \"无\"\n                    }\n                    if (typeof JSON.parse(teampData.componentParameter) == 'object') {\n                        JSON.parse(teampData.componentData).map((item) => {\n                            obj[key].data[item.code] = item.text\n                        })\n                    } else {\n                        teampData.componentData = null\n                    }\n                }\n            }\n            return obj\n        }\n        //获取的序列的总张数\n    getSericesTotal(array) {\n        //sid为序列sericesId\n        let len = array.length - 1\n            //let len = this.model.seriesInfo[sId].imgs.length - 1\n        let total = Tool.changeToName(array[len])\n        return total\n    }\n\n    //************************废片区*************************\n    discaseToDone(value, dom) {}\n        //************************废片区*************************\n\n    //************************弹框区*************************\n    //提交整个序列事件\n    btnEvent() {}\n\n    //提交当前在标注的序列\n    submitSeries() {}\n\n    //经过检查能够进行提交了\n    series_submit() {}\n\n    //检查报错部分并且要显示的部分\n    errorShow(item, node) {}\n    alerError(msg) {\n        this.app.alert.show({\n            title: ' ',\n            msg: msg,\n            close: true\n        })\n    }\n\n    //缓存里面的序列用完了以后的事情\n    submitFinish(data) {}\n\n    //页面切换的需要清空的\n    dispose() {\n        if (this.cornerstoneContorl) {\n            this.cornerstoneContorl.close()\n        }\n        if (this.progress) {\n            this.progress.close()\n        }\n        if (this.alertSubmit) {\n            this.alertSubmit.close()\n        }\n        ES.selctorDoc(window).off('keydown')\n        ES.selctorDoc(window).off('mousemove')\n        this.app.alert.hide()\n    }\n\n    //系统自适应\n    resize() {\n        if (this.cornerstoneContorl) {\n            this.cornerstoneContorl.resize()\n        }\n    }\n    getSarIds() {\n        let ids = []\n        for (let i in this.model.seriesResult) {\n            ids.push(i)\n        }\n        return ids.toString()\n    }\n\n}\nwindow.MarkBase = window.MarkBase || MarkBase\nmodule.exports = MarkBase;\n\n\n\n// WEBPACK FOOTER //\n// ./app/pages/base/mark_base.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./cttool.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./cttool.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./cttool.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/cttool/cttool.less\n// module id = 700\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ctcornerstone {\\n  width: 100%;\\n  position: relative;\\n}\\n.ctcornerstone .drapCanvasPro {\\n  margin-right: 174px;\\n}\\n.ctcornerstone #canvas_box {\\n  position: relative;\\n  overflow: hidden;\\n  float: left;\\n}\\n.ctcornerstone .cicle {\\n  position: fixed;\\n  border: 1px dashed #000;\\n  display: none;\\n  background: transparent;\\n  top: 0;\\n  left: 0;\\n  z-index: 1000;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  pointer-events: none;\\n}\\n.ctcornerstone .xulielist {\\n  float: left;\\n  width: 180px;\\n  background: #0a2634;\\n}\\n.ctcornerstone .info {\\n  float: left;\\n  width: 290px;\\n  background: #0a2634;\\n}\\n.ctcornerstone .nidus_content {\\n  position: absolute;\\n  width: 290px;\\n  top: 0;\\n  right: 0;\\n  display: none;\\n  z-index: 20;\\n}\\n.ctcornerstone .allcornerstone {\\n  position: relative;\\n}\\n.ctcornerstone .slist {\\n  position: absolute;\\n  left: 180px;\\n  bottom: 0;\\n  height: 100px;\\n}\\n.ctcornerstone .submit_data {\\n  width: 200px;\\n  height: 30px;\\n  position: absolute;\\n  left: 50%;\\n  margin-left: -100px;\\n  background: #0a2634;\\n  border-radius: 5px;\\n  display: none;\\n}\\n.ctcornerstone .submit_data span {\\n  font-size: 14px;\\n  line-height: 30px;\\n  color: #d2effc;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/cttool/cttool.less\n// module id = 701\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=ctcornerstone> <div class=xulielist></div> <div id=canvas_box> <canvas id=canvas oncontextmenu=return!1 unselectable=on onselectstart=return!1 onmousedown=return!1></canvas> <div class=tp></div> </div> <div class=info></div> <div class=nidus_content></div> <div style=clear:both></div> <div class=slist></div> <div class=cicle unselectable=on onselectstart=return!1 onmousedown=return!1 onmouseover=return!1 onmousemove=return!1></div> </div> <div style=clear:both></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/cttool/tpl.html\n// module id = 702\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","//这边基本上引入需要使用的资源less，api，需要使用的模块等等。\n//存放在里面用的一些静态信息。这些都是由接口获取的，然后由页面直接传入\n/*\nnidusComponentInfo 保存所有组件信息。组件信息分为两块，一块是整体序列的信息，key值为all\n另外一块是病症的组件信息。分别以病症的命名来保存的\n\nnidusComponentData 保存每个被标注出来的病症的组件数据是什么\n\nnidusChoose 选择了的病灶信息\n*/\n\nclass ctmanage extends Interstellar.modelBase {\n  constructor(app) {\n    super(app)\n    this.nidusComponentInfo = {}\n    this.nidusComponentData = {}\n    this.nidusChoose = null\n    this.seriesInfo = {}\n    this.controlStauts = {\n      delete: true\n    }\n    this.allresult = null\n    let wh = this.getCanvasSize()\n\n    this._pathSize = 254\n    this._section = 254\n    this._changeRange = Math.round(this._section / 3)\n    let crl = this.viewPortColRow({ w: wh.width, h: wh.height })\n    this.blank = \"\"\n    this.seriesNext = []\n    this.getBlankImg()\n    this._vpCanvasInfo = {\n      width: wh.width,\n      height: wh.height,\n      colnum: crl.col,\n      row: crl.row,\n      length: crl.length\n    }\n    this._orginImgSizes = {\n\n    }\n\n    this.sequence = {} // 图片信息\n    this.numberList = []\n    this.breviaryImg = {\n      width: 600,\n      height: 225,\n      top: 0,\n      left: 0\n    }\n    this._breviaryImgBorder = {\n      width: 148,\n      height: 148\n    }\n    this.imageLeftPoint = { x: 0, y: 0 }\n    this.imagePool = []\n    this.beforeImages = []\n    this.afterImages = []\n    this.nowImageLevel = \"1x\"\n  }\n  get pathSize() {\n    return this._pathSize\n  }\n  set pathSize(value) {\n    this.setPrivate(this, { _pathSize: value })\n  }\n  set orginImgSizes(value) {\n    this.setPrivate(this, { _orginImgSizes: value })\n  }\n  viewPortColRow(wh) {\n    return {\n      col: Math.ceil(1.5 * wh.w / this._pathSize) + 2,\n      row: Math.ceil(1.5 * wh.h / this._pathSize) + 2,\n      length: (Math.ceil(1.5 * wh.w / this._pathSize) + 2) * (Math.ceil(1.5 * wh.h / this._pathSize) + 2)\n    }\n  }\n  changeViewPort(vp) {\n    this.setPrivate(this._vpCanvasInfo, vp)\n    //this._vpCanvasInfo = value\n  }\n  backImageNumber(cr) {\n    if (cr.bitmapNumx >= this._orginImgSizes[this.nowImageLevel].colnum || cr.bitmapNumy >= this._orginImgSizes[this.nowImageLevel].row) {\n      return 'blank'\n    }\n    if (cr.bitmapNumy < 0 || cr.bitmapNumx < 0) {\n      return 'blank'\n    }\n    return (cr.bitmapNumx + cr.bitmapNumy * this._orginImgSizes[this.nowImageLevel].colnum) + 1\n  }\n\n  getCanvasSize() {\n    let width = window.innerWidth - 180 - 289\n    let height = window.innerHeight - 60 - 60\n    if (location.href.includes('drapCanvasPro')) {\n      width -= 174\n    }\n    return {\n      width,\n      height\n    }\n  }\n\n  getBlankImg() {\n    let image = new Image()\n    image.onload = e => {\n      this.blank = e.target\n    }\n    image.src = '/images/blank.jpg'\n    image.crossOrigin = \"Anonymous\"\n  }\n  returnRate() {\n    let nowwidth = this._orginImgSizes[this.nowImageLevel].width * (this._pathSize / this._section)\n    let maxWidth = this._orginImgSizes[this._orginImgSizes.length + 'x'].width\n    return maxWidth / nowwidth\n  }\n  calSaveXYPos(data) {\n    let rate = this.returnRate()\n    let xd = Math.round((data.x - this.imageLeftPoint.x) * rate)\n    let yd = Math.round((data.y - this.imageLeftPoint.y) * rate)\n    return { x: xd, y: yd }\n  }\n  calXYPos(data) {\n    let xd = Math.round(data.x - this.imageLeftPoint.x)\n    let yd = Math.round(data.y - this.imageLeftPoint.y)\n    return { x: xd, y: yd }\n  }\n  calShowXYPos(data) {\n    let rate = 1 / this.returnRate()\n    let xd = data.x * rate\n    let yd = data.y * rate\n    return { x: xd, y: yd }\n  }\n  returnNull(data) {\n    let arr = []\n    for (let i in data) {\n      if (!data[i].father || !data[i].child) {\n        arr.push(i)\n      }\n    }\n    let rate = 1 / this.returnRate()\n    if (arr[0] && arr[1]) {\n      let a = data[arr[0]]\n      let b = data[arr[1]]\n      let d = (a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y)\n      d = d * rate * rate\n      if (d < 300) {\n        if (!data[arr[0]].child) {\n          data[arr[0]].child = data[arr[1]].x + '_' + data[arr[1]].y\n          data[arr[1]].father = data[arr[0]].x + '_' + data[arr[0]].y\n          return arr[1]\n        } else {\n          data[arr[1]].child = data[arr[0]].x + '_' + data[arr[0]].y\n          data[arr[0]].father = data[arr[1]].x + '_' + data[arr[1]].y\n          return arr[0]\n        }\n      }\n    }\n\n    return false\n  }\n  removeData(data, now) {\n    let rate = this.returnRate()\n    let xy = this.calXYPos({ x: now.x, y: now.y })\n    let rangeX = [(xy.x - now.d) * rate, (xy.x + now.d) * rate]\n    let rangeY = [(xy.y - now.y) * rate, (xy.y + now.d) * rate]\n    for (let i in data) {\n      if (data[i].x >= rangeX[0] && data[i].x <= rangeX[1] && data[i].y >= rangeY[0] && data[i].y <= rangeY[1]) {\n        let f = data[i].father\n        let c = data[i].child\n        //console.log(i, f, c)\n        delete data[i]\n        if (data[f]) {\n          data[f].child = null\n        }\n        if (data[c]) {\n          data[c].father = null\n        }\n      }\n    }\n  }\n  calGetMinDistance(data, point) {\n    let who\n    let d = null\n\n    for (let i in data) {\n      if (!data[i].father || !data[i].child) {\n        let now = (data[i].x - point.x) * (data[i].x - point.x) + (data[i].y - point.y) * (data[i].y - point.y)\n        //console.log(now,data[i])\n        if (d == null) {\n          d = now\n          who = i\n        } else {\n          if (now < d) {\n            who = i\n          }\n        }\n      }\n    }\n    //console.log(data[who],this.calShowXYPos(data[who].x, data[who].y))\n    if (who) {\n      if (!data[who].father || !data[who].child) {\n        data[point.x + '_' + point.y] = { x: point.x, y: point.y }\n        if (data[who].father) {\n          data[point.x + '_' + point.y].father = who\n          data[who].child = point.x + '_' + point.y\n        } else {\n          data[point.x + '_' + point.y].child = who\n          data[who].father = point.x + '_' + point.y\n        }\n        return this.calShowXYPos({ x: data[who].x, y: data[who].y })\n      } else {\n        data[point.x + '_' + point.y] = { x: point.x, y: point.y, father: null, child: null }\n        return this.calShowXYPos({ x: point.x, y: point.y })\n      }\n    } else {\n      data[point.x + '_' + point.y] = { x: point.x, y: point.y, father: null, child: null }\n      return this.calShowXYPos({ x: point.x, y: point.y })\n    }\n  }\n\n}\nmodule.exports = ctmanage;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/cttool/cttool_model.js","//该类是对于基本的画圆什么的一些信息的管理\nclass manager {\n    constructor() {\n        this.init()\n    }\n    init() {\n        this.info = {}\n        this.singelId = Tool.getSigleId()\n        this.brushInfo = {}\n    }\n    setInfo(value) {\n        if (!value.uuid) {\n            value.uuid = Tool.getSigleId()\n        }\n        this.info[value.uuid] = value\n        return this.info[value.uuid]\n    }\n    getInfo(value) {\n        return this.info[value.uuid]\n    }\n    getAll(){\n        return this.info\n    }\n    removeInfo(value) {\n        delete this.info[value.uuid]\n    }\n\n\n    removeAll() {\n        this.info = {}\n    }\n}\n\n//原型链一定要有的\nmodule.exports = new manager();\n\n\n// WEBPACK FOOTER //\n// ./app/modules/cttool/manager.js","class freedhand {\n    constructor() {\n        \n    }\n    creatPath(){\n\n    }\n\n}\n\n//原型链一定要有的\nmodule.exports = new freedhand();\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/cttool/freedhand.js","/*\nmodel为外面的数据同步\n\n事件\n1.ThumbnailProgress.borClick 进度条的上下按钮\n2.ThumbnailProgress.changeImage 缩放的时候需要换图\n3.ThumbnailProgress.scaleImage 缩放的时候只缩放图片\n4.ThumbnailProgress.dragThumbnail 拖动缩略图的红框\n*/\nlet nowRange = 132\nvar value = ''\nclass ThumbnailProgress extends Interstellar.moduleBase {\n  constructor(app, dom, value, addMore) {\n    super(app, dom, value, addMore)\n    require(\"./thumbnailprogress.less\");\n    this.html = require(\"./tpl.html\");\n    this.name = \"ThumbnailProgress\"\n    this.model = {}\n    value = value\n  }\n  complete() {\n    //   this.initBreviaryImg()\n    if (window.location.hash.lastIndexOf('/drapCanvasAud/') != -1 || window.location.hash.lastIndexOf('/drapCanvasAudEdit/') != -1) {\n      this.dom.find('.breviary').css({ 'right': 180 })\n      this.dom.find('.progress').css({ 'right': 200 })\n    }\n  }\n  //缩略图\n  initBreviaryImg() {\n    let imageSrc = new Image()\n    let that = this\n    imageSrc.id = \"bre_img\"\n    imageSrc.onload = function () {\n      that.dom.find('#bre_img').attr('src', this.src)\n      let posObect = { width: 0, height: 0, top: 0, left: 0 }\n      if (this.width / this.height < that.model._breviaryImgBorder.width / that.model._breviaryImgBorder.height) {\n        posObect.height = that.model._breviaryImgBorder.height\n        posObect.top = 0\n        posObect.width = this.width * that.model._breviaryImgBorder.height / this.height\n        posObect.left = (that.model._breviaryImgBorder.width - posObect.width) / 2\n      } else {\n        posObect.width = that.model._breviaryImgBorder.width\n        posObect.left = 0\n        posObect.height = this.height * that.model._breviaryImgBorder.width / this.width\n        posObect.top = (that.model._breviaryImgBorder.height - posObect.height) / 2\n      }\n      that.model.breviaryImg = JSON.parse(JSON.stringify(posObect))\n      that.dom.find('#bre_img').css(posObect)\n      //that.dragDivPos({ changeX:0, changeY:0 })\n      that.makeShowArea()\n    }\n    //console.log(this.model._orginImgSizes.thumbnail, \"我是缩略图啊 \")\n    imageSrc.src = this.model._orginImgSizes.thumbnail\n    imageSrc.crossOrigin = \"Anonymous\"\n    let pos = {}\n    this.dom.find('#drag_div').on('mousedown', (e) => {\n      pos = { x: e.pageX, y: e.pageY }\n      this.rate = this.model.breviaryImg.width / (this.orginImg.colnum * this.model._pathSize)\n      this.dom.find('#breviary').on('mousemove', (ev) => {\n        let changeX = ev.pageX - pos.x\n        let changeY = ev.pageY - pos.y\n        this.dragDivPos({ changeX, changeY })\n        pos = { x: ev.pageX, y: ev.pageY }\n      })\n      this.dom.find('#breviary').on('mouseup', (ev) => {\n        this.dom.find('#breviary').off(\"mousemove\")\n      })\n    })\n    this.dom.find('#bre_img').on('click', (e) => {\n      this.rate = this.model.breviaryImg.width / (this.orginImg.colnum * this.model._pathSize)\n      let box = document.querySelector(\"#breviary\").getClientRects()[0]\n      let px = e.pageX - box.left\n      let py = e.pageY - box.top\n      let xyA = this.returnXY()\n      let changeX = Math.floor(px - this.dom.find('#drag_div').dom[0].dom.style.width.replace('px', '') * 1 / 2 - xyA[0] * 1)\n      let changeY = Math.floor(py - this.dom.find('#drag_div').dom[0].dom.style.height.replace('px', '') * 1 / 2 - xyA[1] * 1)\n      //console.log(changeX, changeY)\n      this.dragDivPos({ changeX, changeY })\n    })\n    this.dom.find('.bor').on('click', (e) => {\n      this.event._dispatch('ThumbnailProgress.borClick', { x: 0, y: (e.target.innerHTML == '-' ? -1 : 1) })\n      //this.scaleCanvas(0, (e.target.innerHTML == '-' ? -1 : 1))\n    })\n\n    this.dom.find('#myProgress').on('click', (e) => {\n    \n      this.event._dispatch('ThumbnailProgress.progress', e)\n      // this.progressPos(e.pageY)\n    })\n  }\n  //进度条\n  progressPos(posY) {\n    console.log(posY, '我是哈哈哈')\n    let pos = posY - document.getElementById(\"myProgress\").getClientRects()[0].top\n    let levelFenduan = nowRange / this.model._orginImgSizes.length\n    let level = Math.floor(((nowRange - pos) / levelFenduan))\n    level = level > this.model._orginImgSizes.length ? level - 1 + \"x\" : level + 1 + \"x\"\n    //console.log(this.model._sectio, (192 - pos) % levelFenduan, this.model._changeRange / 100)\n    let pathSize = this.model._section + Math.floor(((nowRange - pos) % levelFenduan) * (this.model._changeRange / 100))\n    let spos\n    console.log(level, '我是层级')\n    if (level != this.model.nowImageLevel) {\n      let rate = 1 - (this.model._orginImgSizes[level].colnum * pathSize / (this.model._orginImgSizes[this.model.nowImageLevel].colnum * this.model._pathSize))\n      spos = {\n        moveX: (this.stage.mouseX - this.model.imageLeftPoint.x) * rate,\n        moveY: (this.stage.mouseY - this.model.imageLeftPoint.y) * rate\n      }\n      // this.event._dispatch('ThumbnailProgress.changeImage', { spos, level, pathSize })\n      this.setContainerPos(spos)\n      this.model.nowImageLevel = level\n      this.model.pathSize = pathSize\n      this.handlerImageLoad()\n    } else {\n      let cr = this.getColRow({ x: this.model.imageLeftPoint.x, y: this.model.imageLeftPoint.y }, { x: this.stage.mouseX, y: this.stage.mouseY })\n      spos = { moveX: -cr.col * (pathSize - this.model.pathSize), moveY: -cr.row * (pathSize - this.model.pathSize) }\n      // this.event._dispatch('ThumbnailProgress.scaleImage', { spos, pathSize })\n      console.log(spos, '我说哈啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊')\n      this.setContainerPos(spos)\n      this.model.pathSize = pathSize\n      this.scaleBox()\n    }\n  }\n  changProgress() {\n    let levelFenduan = nowRange / this.model._orginImgSizes.length\n    let jg = 0.5 * levelFenduan * (this.model.pathSize - this.model._section + this.model._changeRange) / this.model._changeRange\n    let h = (this.model.nowImageLevel.replace('x', '') * 1 - 1) * levelFenduan + jg\n    h += 'px'\n    // this.dom.find('#').css({ height: h })\n    this.dom.find(\".progress_val\").css({ height: h })\n    //document.querySelector(\".progress_val\").style.height = h\n    //document.querySelector(\".select_size\").style.bottom = h\n\n  }\n  //缩略图\n  dragDivPos(pos) {\n    let xyA = this.returnXY()\n    let dx = Math.floor(xyA[0] * 1 + pos.changeX)\n    let dy = Math.floor(xyA[1] * 1 + pos.changeY)\n    let translates = \"translate(\" + dx + \"px,\" + dy + \"px)\"\n    this.dom.find('#drag_div').css({ transform: translates })\n    let moveX = -pos.changeX / this.rate\n    let moveY = -pos.changeY / this.rate\n    this.event._dispatch('ThumbnailProgress.dragThumbnail', { moveX, moveY })\n    //this.moveBoX({ moveX, moveY })\n  }\n  returnXY() {\n    let transform = this.dom.find('#drag_div').dom[0].dom.style.transform\n    let x = transform.split(\",\")[0].split(\"(\")[1].split(\"px\")[0]\n    let y = transform.split(\",\")[1].split(\")\")[0].split(\"px\")[0]\n    return [x, y]\n  }\n  makeShowArea() {\n    //console.log(this.model._vpCanvasInfo, this.model.breviaryImg,this.orginImg)\n    let nowscale = this.model._pathSize / this.model._section\n    let rate = this.model.breviaryImg.width / (this.orginImg.width * nowscale) //(this.orginImg.colnum * this.model._pathSize)\n    let ratex = this.model._vpCanvasInfo.width > this.orginImg.width * nowscale ? 1 : (this.model._vpCanvasInfo.width / (this.orginImg.width * nowscale))\n    let ratey = this.model._vpCanvasInfo.height > this.orginImg.height * nowscale ? 1 : (this.model._vpCanvasInfo.height / (this.orginImg.height * nowscale))\n    console.log(rate, ratey, this.orginImg,nowscale)\n    console.log(this.model._vpCanvasInfo.height)\n    let dragDivCss = {}\n    let dx = this.model.breviaryImg.left - (ratex == 1 ? 0 : this.model.imageLeftPoint.x * rate)\n    let dy = this.model.breviaryImg.top - (ratey == 1 ? 0 : this.model.imageLeftPoint.y * rate)\n    console.log(this.model.imageLeftPoint.x,this.model.imageLeftPoint.y)\n    dragDivCss.width = this.model.breviaryImg.width * ratex\n    dragDivCss.height = this.model.breviaryImg.height * ratey\n    dragDivCss.transform = \"translate(\" + dx + \"px,\" + dy + \"px)\"\n    this.dom.find('#drag_div').css(dragDivCss)\n  }\n  getColRow(screen, boxpos) {\n    let col = Math.floor((boxpos.x - screen.x) / this.model._pathSize)\n    let row = Math.floor((boxpos.y - screen.y) / this.model._pathSize)\n    return { col, row }\n  }\n\n}\n\n//原型链一定要有的\nmodule.exports = ThumbnailProgress;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/thumbnailprogress/thumbnailprogress.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./thumbnailprogress.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./thumbnailprogress.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./thumbnailprogress.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/thumbnailprogress/thumbnailprogress.less\n// module id = 707\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".thumbnailprogress .progress {\\n  position: absolute;\\n  display: flex;\\n  flex-direction: column;\\n  width: 10px;\\n  height: 200px;\\n  right: 23px;\\n  top: 158px;\\n  left: auto;\\n  margin: 0;\\n  background: transparent;\\n}\\n.thumbnailprogress .progress #myProgress {\\n  border-radius: 6px;\\n  width: 6px;\\n  height: 192px;\\n  background: #01111E;\\n  margin-left: 4px;\\n  position: relative;\\n}\\n.thumbnailprogress .progress .select_size {\\n  width: 14px;\\n  height: 14px;\\n  border: 2px solid #448E97;\\n  background: white;\\n  position: absolute;\\n  bottom: 0;\\n  border-radius: 14px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  z-index: 9999;\\n  box-sizing: border-box;\\n}\\n.thumbnailprogress .progress .progress_val {\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  border-radius: 14px;\\n  height: 0;\\n  width: 6px;\\n  background: #448E97;\\n}\\n.thumbnailprogress .progress .bor {\\n  border: 1px solid #448E97;\\n  color: #448E97;\\n  height: 12px;\\n  width: 12px;\\n  font-size: 14px;\\n  text-align: center;\\n  line-height: 12px;\\n  background: white;\\n  margin: 10px 0;\\n}\\n.thumbnailprogress .btn_opear {\\n  position: fixed;\\n  top: 20px;\\n  right: 20px;\\n}\\n.thumbnailprogress .breviary {\\n  border: 1px solid #01111E;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  width: 148px;\\n  height: 148px;\\n  background: #fff;\\n  overflow: hidden;\\n}\\n.thumbnailprogress .breviary .breviary_conter {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n.thumbnailprogress .breviary .drag_div {\\n  border: 1px solid red;\\n  box-sizing: border-box;\\n  position: absolute;\\n  z-index: 99999999;\\n  top: 0;\\n  left: 0;\\n}\\n.thumbnailprogress .breviary #bre_img {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/thumbnailprogress/thumbnailprogress.less\n// module id = 708\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=thumbnailprogress> <div id=breviary class=breviary> <div class=breviary_conter> <img src=xxxHTMLLINKxxx0.374122261312577640.739330103465123xxx id=bre_img alt=\\\"\\\" draggable=false onmousedown=return!1 onmousemove=return!1> <div id=drag_div class=drag_div></div> </div> </div> <div class=progress> <div class=\\\"reduce bor\\\">-</div> <div id=myProgress value=10> <div class=progress_val></div> </div> <div class=\\\"add bor\\\">+</div> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/thumbnailprogress/tpl.html\n// module id = 709\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","function marktool_config(type) {\n    //type 为1的时候代表审核，为false的时候代表代表标注\n\n\n\n    //每一个key值代表工具名称\n    //t代表是互斥操作，还是独立操作，m代表是互斥操作。s代表是独立操作\n    //c代表是否可以操作\n    /*cobb颈椎病的特殊角,alignment脊椎顺列\n     */\n    let normal = {\n        brush: { t: 'm', c: true },\n        ellipticalRoi: { t: 'm', c: true },\n        rectangleRoi: { t: 'm', c: true },\n        length: { t: 'm', c: true },\n        earse: { t: 'm', c: true },\n        simpleAngle: { t: 'm', c: true },\n        magicStickSingle: { t: 'm', c: true },\n        polygon: { t: 'm', c: true },\n        freehand: { t: 'm', c: true },\n        quickselect: { t: 'm', c: true },\n        regionpaint: { t: 'm', c: true },\n        copd: { t: 'm', c: true },\n        screen: { t: 'm', c: true },\n        mpr: { t: 'm', c: true },\n        add: { t: 'm', c: false },\n        sub: { t: 'm', c: false },\n        cobb: { t: 'm', c: false },\n        alignment: { t: 'm', c: false },\n        //ct_text:{ t: 'm', c: true },\n        upstep: { t: 's', c: true },\n        nextstep: { t: 's', c: true },\n        line: { t: 'm', c: true },\n        zoom: { t: 'm', c: true },\n        pan: { t: 'm', c: true },\n        magnify: { t: 'm', c: true },\n        rest: { t: 'm', c: true },\n        proe: { t: 'm', c: true },\n        rectangle_text: { t: 'm', c: true },\n        light: { t: 'm', c: true },\n        wl: { t: 'm', c: true },\n        wl_text: { t: 's', c: true },\n        del: { t: 's', c: true },\n        layer_del: { t: 's', c: true },\n        all_del: { t: 's', c: true },\n        yinyang: { t: 's', c: true },\n        next_task: { t: 's', c: true }\n    }\n    if (type == '1') {\n        normal = {\n            screen: { t: 'm', c: false },\n            mpr: { t: 'm', c: false },\n            add: { t: 'm', c: false },\n            sub: { t: 'm', c: false },\n            cobb: { t: 'm', c: false },\n            copd: { t: 'm', c: false},\n            alignment: { t: 'm', c: false },\n            brush: { t: 'm', c: false },\n            ellipticalRoi: { t: 'm', c: false },\n            rectangleRoi: { t: 'm', c: false },\n            length: { t: 'm', c: false },\n            earse: { t: 'm', c: false },\n            simpleAngle: { t: 'm', c: false },\n            magicStickSingle: { t: 'm', c: false },\n            polygon: { t: 'm', c: false },\n            freehand: { t: 'm', c: false },\n            quickselect: { t: 'm', c: false },\n            regionpaint: { t: 'm', c: false },\n            //ct_text:{ t: 'm', c: false },\n            upstep: { t: 's', c: true },\n            nextstep: { t: 's', c: true },\n            line: { t: 'm', c: true },\n            zoom: { t: 'm', c: true },\n            pan: { t: 'm', c: true },\n            magnify: { t: 'm', c: true },\n            rest: { t: 'm', c: true },\n            proe: { t: 'm', c: true },\n            rectangle_text: { t: 'm', c: true },\n            light: { t: 'm', c: true },\n            wl: { t: 'm', c: true },\n            wl_text: { t: 's', c: true },\n            del: { t: 's', c: true },\n            layer_del: { t: 's', c: true },\n            all_del: { t: 's', c: true },\n            yinyang: { t: 's', c: true },\n            next_task: { t: 's', c: true }\n        }\n    }\n    return normal\n}\nmodule.exports = marktool_config;\n\n\n// WEBPACK FOOTER //\n// ./config/toolmenu_config.js","require(\"./dicommenu.less\");\n/*\n获取配置参数，根据不同页面可以调用不同的内容\n入参格式：\n{\n  xxx: { t: 'm', c: false }\n}\nxxx代表工具名称，\nt为工具跟其他工具是否关联，m为关联，s为单独\nc代表当前是开还是关，false为关，true为开\n\nevent有如下几个\ndicommenu.wlchange 窗宽窗位改变\ndicommenu.choose 工具改变\ndicommenu.done 为工具当中的按钮事件,单层删除，标位废片等\ndicommenu.setData 为工具设置一些工具配置参数，如画笔大小，画笔范围等\n返回值：{type:xxxx,value:123}\ndicommenu.errorMSG 为工具出现的错误信息\n返回值：{msg:xxx}\n\nthis.chooseData.wl获取窗宽窗位值\nthis.chooseData.click获取当前点击了那个按钮\nthis.chooseData.fun获取当前是那个工具被激活\n*/\nclass dicommenu extends Interstellar.moduleBase {\n    constructor(app, dom, value, addMode) {\n        super(app, dom, value, addMode)\n        this.html = require(\"./tpl.html\");\n        this.name = \"dicommenu\"\n        this.chooseData = {\n            ctVal: 200\n        }\n        this.tool = {\n            data: {}\n        }\n    }\n    complete() {\n        let that = this\n        let woptions = []\n        this.app.constmap.WINDOW.children.map((item) => {\n            woptions.push({\n                optionname: item.name,\n                val: item.name,\n                idx: item.remark\n            })\n        })\n\n        //下拉框\n        require.ensure(\"../../moduleslibs/dropdown1/drop\", function() {\n            let dropdown = that.dropdown = require('../../moduleslibs/dropdown1/drop')\n            let guojihua = that.app.loadModule(dropdown, that.dom.find('.wl'), {\n                className: \"ctdrop\",\n                firstSelect: {\n                    optionname: '选择窗位',\n                    val: '选择窗位',\n                    idx: ''\n                },\n                data: woptions\n            })\n            guojihua.event._addEvent('option.click', function(value) {\n                let data = value.idx.split('*')\n                that.chooseData.wl = {\n                    w: data[1],\n                    c: data[0]\n                }\n                that.event._dispatch('dicommenu.wlchange')\n            })\n            guojihua.event._addEvent('dropDown.clear', function(value) {\n                //that.set_wl('', '')\n                //that.dom.find('.wl_text input').val('')\n                that.chooseData.wl = {\n                    w: null,\n                    c: null\n                }\n                that.event._dispatch('dicommenu.wlchange')\n                    //console.log(value)\n            })\n        })\n\n        //范围选择\n        this.initRange()\n            //初始化菜单打开关闭\n        for (var i in this.initDate) {\n            if (!this.initDate[i].c) {\n                let dom = this.dom.find('.dicommenu li[fun=' + i + ']')\n                dom.attr('close', 'close')\n                let name = dom.attr('title')\n                dom.attr('title', name + ' 已禁用')\n                    //console.log('=============')\n                dom.css({\n                        'cursor': 'auto',\n                        'background': '#01111e',\n                        'color': '#706F6F'\n                    })\n                    //console.log(dom.find('input').dom)datava\n                let inputName = dom.find('input').attr('name')\n                if (dom.find('input').dom && inputName != 'copdData' && inputName != 'datava') {\n                    dom.find('input').attr('readonly', 'readonly')\n                }\n            }\n        }\n        this.btn_event()\n    }\n\n    //范围选择器初始化\n    initRange() {\n        let rangechoose = require('../../modules/rangetextchoose/rangetextchoose')\n        let configArr = [{\n            name: \"半径\",\n            type: \"bradius\",\n            value: 4,\n            max: 30,\n            min: 1\n        }, {\n            name: \"粗细\",\n            type: \"lineWidth\",\n            value: 1,\n            max: 10,\n            min: 1\n        }, {\n            name: \"半径\",\n            type: \"bradius\",\n            value: 4,\n            max: 30,\n            min: 1\n        }, {\n            name: \"半径\",\n            type: \"bradius\",\n            value: 3,\n            max: 80,\n            min: 1\n        }]\n        for (let i = 0, len = configArr.length; i < len; i++) {\n            let temprangechoose = this.app.loadModule(rangechoose, this.dom.find('.chooseDate').eq(i), configArr[i])\n            temprangechoose.event._addEvent('rangetextchoose.change', (value) => {\n                //console.log(value)\n                this.synchronization(configArr, value)\n                this.event._dispatch('dicommenu.setData', value)\n            })\n            temprangechoose.event._addEvent('rangetextchoose.errorMSG', (value) => {\n                this.event._dispatch('dicommenu.errorMSG', value)\n            })\n            configArr[i].classObject = temprangechoose\n        }\n        this.dom.find('.chooseDate1 .sure-btn').on('click', () => {\n                let copdVal = this.dom.find('.chooseDate1 input[name=\"copdData\"]').val()\n                localStorage.setItem(\"copdVal\", copdVal)\n                let data = {\n                    value: copdVal\n                }\n                this.event._dispatch('dicommenu.CTData', data)\n            })\n            /*let temprangeC = this.app.loadModule(rangechoose, this.dom.find('.chooseDate1'), {\n                name: \"阈值\",\n                type: \"bradius\",\n                value: -920,\n                max: 0,\n                min: -1024\n            })\n            temprangeC.event._addEvent('rangetextchoose.change', (value) => {\n                //console.log(value)\n                //this.synchronization(configArr, value)\n                this.event._dispatch('dicommenu.CTData', value)\n            })\n            temprangeC.event._addEvent('rangetextchoose.errorMSG', (value) => {\n                this.event._dispatch('dicommenu.errorMSG', value)\n            })*/\n    }\n    synchronization(allClass, value) {\n        for (let i = 0, len = allClass.length; i < len; i++) {\n            if (allClass[i].type == value.type) {\n                allClass[i].classObject.setAllData(value.value)\n                    //allClass[i].classObject.setDragPos(value.value)\n            }\n        }\n    }\n\n    //鼠标事件\n    btn_event() {\n        let that = this\n        this.dom.find('.dicommenu .mask').on('click', function() {\n            ES.selctorDoc(this).hide()\n            that.dom.find('.chooseDate').hide()\n            that.dom.find(\".dicommenu .hover_vp\").hide()\n        })\n\n        /*-----------------------华丽的分割线-----------------------------*/\n        /*无范围选择的工具*/\n        this.dom.find('.dicommenu .fun_btn .iconfont').on('click', function() {\n            let dom = ES.selctorDoc(this).parent()\n            that.dom.find('.chooseDate').hide()\n            that.dom.find(\".dicommenu .hover_vp\").hide()\n            switch (dom.attr('fun')) {\n                case \"rest\":\n                    //重置按钮\n\n                    that.event._dispatch('dicommenu.reset')\n                    break\n                case \"mpr\":\n                    //mpr切换按钮\n\n                    that.event._dispatch('dicommenu.mpr')\n                    break\n                default:\n                    if (that.toBtn_choose(dom)) {\n                        console.log(dom.attr('fun'), 'funfufnf')\n                        that.chooseData.fun = dom.attr('fun')\n                    }\n                    that.event._dispatch('dicommenu.choose')\n                    break\n            }\n        })\n\n        /*-----------------------华丽的分割线-----------------------------*/\n        /*有范围选择的工具*/\n        this.dom.find('.dicommenu .fun_btn_spice .iconfont').on('click', function(e) {\n            let dom = ES.selctorDoc(this).parent()\n            that.dom.find('.chooseDate').hide()\n            that.dom.find(\".dicommenu .hover_vp\").hide()\n                //console.log(dom.find('i').attr('enable'))\n           \n            let st = that.toBtn_choose(dom)\n\n            console.log(st)\n            if (st || st == null) {\n                dom.find('.chooseDate').show()\n            }\n            if (st) {\n                //console.log('pppppppppppp')\n                that.chooseData.fun = dom.attr('fun')\n            }\n            that.event._dispatch('dicommenu.choose')\n        })\n\n\n\n        /*this.dom.find('.ct_text input').on('blur', function() {\n            that.chooseData.ctVal = that.dom.find('.ct_text input').val()\n        })*/\n\n        /*-----------------------华丽的分割线-----------------------------*/\n        /*按钮类型，非icon样子的操作 ，标为废片，单层删除等*/\n        this.dom.find('.btn-c').on('click', function() {\n            let dom = ES.selctorDoc(this)\n            that.toBtn_choose(dom)\n            that.chooseData.click = dom.attr('fun')\n            that.event._dispatch('dicommenu.done')\n        })\n        this.dom.find('.btn-yy').on('click', function() {\n            let dom = ES.selctorDoc(this)\n            if (that.toBtn_choose(dom)) {\n                that.dom.find('.btn-yy .btn').removeClass('light')\n                dom.find('.btn').addClass('light')\n                that.event._dispatch('dicommenu.yinyang', {\n                    data: dom.attr('data')\n                })\n            }\n        })\n        this.dom.find('.opende').on('click', function() {\n            let dom = ES.selctorDoc(this).find('div')\n            let st = true\n            if (dom.html() == \"隐藏标注\") {\n                st = false\n                dom.html(\"显示标注\")\n            } else {\n                st = true\n                dom.html(\"隐藏标注\")\n            }\n            that.event._dispatch('dicommenu.shc', {\n                stauts: st\n            })\n        })\n\n        /*-----------------------华丽的分割线-----------------------------*/\n        /*多视窗*/\n        this.dom.find('.dicommenu .screen').on('click', e => {\n            if (this.dom.find('.dicommenu .screen').attr('close') == 'close') {\n                return false\n            }\n            let screen = document.querySelector(\".dicommenu .screen\")\n            this.dom.find('.chooseDate').hide()\n            if (screen.children[1].style.display == 'block') {\n                this.dom.find(\".dicommenu .hover_vp\").hide()\n            } else {\n                this.dom.find(\".dicommenu .hover_vp\").show()\n            }\n        })\n\n        this.dom.find(\".dicommenu .vp_item\").on('click', function(e) {\n            let dom = ES.selctorDoc(this)\n            let screen = that.dom.find(\".dicommenu .screen\").firstchildren('i')\n            screen.removeAttr('class')\n            screen.attr('class', dom.find('i').attr('class'))\n            that.event._dispatch('dicommenu.splitScreen', dom.attr('code') * 1)\n        })\n\n        /*-----------------------华丽的分割线-----------------------------*/\n\n        /*基准线和十字瞄准线*/\n        this.dom.find('.dicommenu .fun_btn_single').on('click', function() {\n            if (that.dom.find('.dicommenu .fun_btn_single').attr('close') == 'close') {\n                return false\n            }\n            that.dom.find('.dicommenu .fun_btn_single1').removeClass('choose')\n            let dom = ES.selctorDoc(this)\n            that.dom.find('.chooseDate').hide()\n            that.dom.find(\".dicommenu .hover_vp\").hide()\n            if (dom.hasClass('choose')) {\n                dom.removeClass('choose')\n                that.event._dispatch('dicommenu.baseLine', {\n                    st: false\n                })\n            } else {\n                dom.addClass('choose')\n                that.event._dispatch('dicommenu.baseLine', {\n                    st: true\n                })\n            }\n        })\n        this.dom.find('.dicommenu .fun_btn_single1').on('click', function() {\n            if (that.dom.find('.dicommenu .fun_btn_single').attr('close') == 'close') {\n                return false\n            }\n            that.dom.find('.dicommenu .fun_btn_single').removeClass('choose')\n            let dom = ES.selctorDoc(this)\n            that.dom.find('.chooseDate').hide()\n            that.dom.find(\".dicommenu .hover_vp\").hide()\n            dom.addClass('choose')\n            that.event._dispatch('dicommenu.cross', {\n                st: true\n            })\n        })\n\n\n        /*-----------------------华丽的分割线-----------------------------*/\n        /*copd*/\n        this.dom.find('.dicommenu .chooseDate1').on('click', () => {\n            console.log(\"我是点击了 希望能阻止\")\n            return\n        })\n        this.dom.find('.dicommenu .icon-bianji1').on('click', function() {\n            let dom = that.dom.find(\".dicommenu .fun_btn_copd\")\n            if (dom.hasClass('choose')) {\n                dom.removeClass('choose')\n                that.dom.find('.chooseDate1').hide()\n            } else {\n                dom.addClass('choose')\n                that.dom.find('.chooseDate1').show()\n                that.event._dispatch(\"dicommenu.setCopdVal\")\n            }\n            that.dom.find(\".dicommenu .hover_vp\").hide()\n        })\n\n        /*当前页面的情况*/\n        if (this.app.parpam['type']) {\n            if (this.app.parpam['type'].lastIndexOf('viewer') != -1) {\n                this.dom.find('li[fun=\"remove_xu\"]').remove()\n            }\n        }\n\n    }\n    openYY() {\n        this.dom.find('.btn-yy').show()\n    }\n    closeYY() {\n        this.dom.find('.btn-yy').attr('close', 'close')\n    }\n    addDoctorSocre(name, sorce) {\n        console.log(sorce, name)\n        if (sorce == '无') return\n\n        this.dom.find('.yyshow').append('<p>' + name + ':' + (sorce == 1 ? '阴' : '阳') + '</p>')\n    }\n    setYY(value) {\n        let yayAttributes = null\n        for (var i in value) {\n            yayAttributes = value[i].data.yayAttributes\n        }\n        if (yayAttributes == 1) {\n            this.dom.find('.btn-yy .btn').eq(0).addClass('light')\n        } else if (yayAttributes == 2) {\n            this.dom.find('.btn-yy .btn').eq(1).addClass('light')\n        }\n    }\n    defaultWWC(value) {\n        //console.log(value, 'defaultWWCdefaultWWCdefaultWWCdefaultWWC')\n        this.dom.find('.ctdrop input').val(value.name)\n        this.dom.find('.ctdrop input').attr('data-idx', value.remark)\n        this.chooseData.wl = {\n            w: value.remark.split('*')[1] * 1,\n            c: value.remark.split('*')[0] * 1\n        }\n    }\n\n    //魔法棒初期设置最大和最小值\n    makeValueRange(dom, value) {\n        let data = value\n        let setyz = require('../../modal/setyz/setyz')\n        let setyzControl = this.app.loadModal(setyz, {\n            adv: false,\n            class: \"sm\",\n            data: data.property\n        })\n        setyzControl.event._addEvent('modal.confirm', () => {\n            let mm = JSON.parse(data.property)\n                //console.log(mm, setyzControl.data)\n            if (setyzControl.data.yzmin * 1 > setyzControl.data.yzmax * 1) {\n                setyzControl.showError('最小值大于最大值')\n                return\n            }\n            if (setyzControl.data.yzmin * 1 < mm.yzmin * 1 || setyzControl.data.yzmax * 1 > mm.yzmax * 1) {\n                setyzControl.showError('填写的值不在预设值范围内')\n                return\n            }\n            if (this.toBtn_choose(dom)) {\n                this.chooseData.fun = dom.attr('fun')\n                this.chooseData.data.userChoose = setyzControl.data\n                setyzControl.close()\n                this.event._dispatch('dicommenu.choose')\n            }\n        })\n    }\n\n    //工具栏的选择状态\n    toBtn_choose(dom) {\n        if (dom.attr('close') == 'close') {\n            return \"false\"\n        }\n        this.dom.find('.dropNid').hide()\n            //console.log(this.tool.data)\n        let btnStauts = \"\"\n        if (dom.find('.iconfont').attr('enable') == 'enable') {\n            let hasClass = dom.hasClass('choose')\n            this.dom.find('.dicommenu .fun_btn').removeClass('choose')\n            this.dom.find('.dicommenu .fun_btn_spice').removeClass('choose')\n            if (!hasClass) {\n                dom.addClass('choose')\n                btnStauts = \"choose\"\n            } else {\n                btnStauts = \"cancel\"\n            }\n            //this.dom.find('.dicommenu .fun_btn').removeClass('choose')\n            //this.dom.find('.dicommenu .fun_btn_spice').removeClass('choose')\n\n        }\n        //console.log(this.tool.data)\n        if (dom.find('.chooseDate').dom) {\n            dom.find('.dropNid').css({\n                'margin-top': 50\n            })\n        }\n        if (dom.attr('fun') == \"brush\" || dom.attr('fun') == \"earse\") {\n            if (btnStauts == \"choose\") {\n                this.chooseData.data = this.tool.data[dom.attr('fun')][0]\n            } else {\n                this.chooseData = {}\n                return false\n            }\n            return true\n        }\n        if (this.tool.data[dom.attr('fun')]) {\n            if (this.tool.data[dom.attr('fun')].length > 1) {\n                if (btnStauts == \"choose\") {\n                    dom.find('.dropNid').show()\n                    return null\n                } else {\n                    dom.find('.dropNid').hide()\n                    return false\n                }\n            }\n            if (btnStauts == \"choose\") {\n                this.chooseData.data = this.tool.data[dom.attr('fun')][0]\n            } else {\n                this.chooseData = {}\n                return false\n            }\n        }\n        return true\n    }\n    resetAll() {\n            this.dom.find('.dicommenu .fun_btn').removeClass('choose')\n        }\n        //设置窗宽窗位值\n    set_wl(w, c) {\n            //this.dom.find('.wl_text input').eq(0).val(w)\n            //this.dom.find('.wl_text input').eq(1).val(c)\n            this.chooseData.wl = {\n                w: w ? w : null,\n                c: c ? c : null\n            }\n        }\n        //控制菜单开关，决定那个菜单打开\n    openadd(data, value) {\n        //console.log(data)\n        let dom = this.dom.find('.dicommenu li[fun=' + value + ']')\n        dom.removeAttr('close')\n        dom.removeAttr('style')\n        dom.attr('title', dom.attr('title').split(' ')[0])\n            //console.log(data, 'dataaaaaaaaaaaaaaaa', value, this.tool.data[value], this.tool.data)\n        if (this.tool.data[value]) {\n            //this.tool.data[value]\n        } else {\n            this.tool.data[value] = data\n            if (this.tool.data[value].length > 1 && value != 'brush' && value != 'earse' && value != 'screen' && value != 'mpr') {\n                //console.log('aaaa')\n                this.dom.find('li[fun=\"' + value + '\"] .dropNid').remove()\n                this.dom.find('li[fun=\"' + value + '\"]').append('<div class=\"dropNid\"></div>')\n                let htmlS = ''\n                let LESION = Tool.configxlkformat(this.app.constmap.LESION)\n                for (let i = 0; i < this.tool.data[value].length; i++) {\n                    let who = LESION.find((res) => {\n                        return res.idx == this.tool.data[value][i].imageAnnotation\n                    })\n                    who.optionname = who.name\n                    htmlS += '<li data=\"' + i + '\" funName=\"' + value + '\">' + who.val + '</li>'\n                }\n                this.dom.find('li[fun=\"' + value + '\"] .dropNid').html(htmlS)\n                let that = this\n                this.dom.find('li[fun=\"' + value + '\"] .dropNid li').on('click', function() {\n                    let dom = ES.selctorDoc(this)\n                    that.chooseData.fun = dom.attr('funName')\n                    that.chooseData.data = that.tool.data[dom.attr('funName')][dom.attr('data')]\n                    console.log('==============')\n                    that.dom.find('.dropNid').hide()\n                    that.event._dispatch('dicommenu.choose')\n                })\n            }\n        }\n        //console.log('aaaa,bb')\n        /*if (dom.find('input').dom) {\n            dom.find('input').removeAttr('readonly')\n        }*/\n    }\n}\nmodule.exports = dicommenu;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/dicommenu/dicommenu.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./dicommenu.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./dicommenu.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./dicommenu.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/dicommenu/dicommenu.less\n// module id = 712\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".dicommenu {\\n  height: 100%;\\n  position: relative;\\n}\\n.dicommenu .mask {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  position: relative;\\n}\\n.dicommenu .mask .mask {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  width: 100%;\\n  display: none;\\n  background: transparent;\\n  border: 1px solid #d2effc;\\n  padding: 0 5px;\\n  border-radius: 4px;\\n  margin-left: 2px;\\n  height: 25px;\\n}\\n.dicommenu .ct_text {\\n  width: auto;\\n  margin: 0 12px;\\n}\\n.dicommenu .ct_text span {\\n  margin-right: 3px;\\n  color: #d2effc;\\n}\\n.dicommenu .ct_text input {\\n  width: 45px;\\n  color: #d2effc;\\n  background: transparent;\\n  border: 1px solid #d2effc;\\n  padding: 0 5px;\\n  border-radius: 4px;\\n  margin-left: 2px;\\n  height: 25px;\\n}\\n.dicommenu .wl {\\n  width: 100px !important;\\n  margin-top: 5px;\\n}\\n.dicommenu .textshow {\\n  width: auto;\\n  float: right;\\n  margin-right: 5px;\\n}\\n.dicommenu .textshow span {\\n  font-size: 16px;\\n  letter-spacing: 3px;\\n}\\n.dicommenu .textshow span i {\\n  color: #f00;\\n  font-size: 16px;\\n  font-style: normal;\\n}\\n.dicommenu .line-d {\\n  width: 1px;\\n  height: 36px;\\n  background: #d2effc;\\n}\\n.dicommenu .btn-c {\\n  width: auto;\\n  margin-left: 5px;\\n  cursor: pointer;\\n}\\n.dicommenu .btn-c .btn {\\n  border: 1px solid #fff;\\n  padding: 0 5px;\\n  line-height: 25px;\\n  width: auto !important;\\n  border-radius: 4px;\\n  height: 25px;\\n  margin-top: 5px;\\n}\\n.dicommenu .luan {\\n  position: absolute;\\n  top: -5px;\\n  left: 681px;\\n  width: 80px;\\n  text-align: center;\\n}\\n.dicommenu .luan span {\\n  color: #d2effc;\\n}\\n.dicommenu .luan .zou {\\n  display: inline-block;\\n  border-top: 1px dashed #d2effc;\\n  border-left: 1px dashed #d2effc;\\n  width: 20px;\\n  height: 10px;\\n  position: relative;\\n  top: 4px;\\n}\\n.dicommenu .luan .you {\\n  display: inline-block;\\n  border-top: 1px dashed #d2effc;\\n  border-right: 1px dashed #d2effc;\\n  width: 20px;\\n  height: 10px;\\n  position: relative;\\n  top: 4px;\\n}\\n.dicommenu .toolsImg {\\n  background: #000;\\n  width: 100%;\\n  padding-left: 5px;\\n  margin-top: 12px;\\n  font-size: 12px;\\n}\\n.dicommenu .toolsImg #makeimg_id.disabled {\\n  pointer-events: none;\\n}\\n.dicommenu .toolsImg .wl_text {\\n  width: auto;\\n  margin: 0 12px;\\n}\\n.dicommenu .toolsImg .wl_text span {\\n  margin-right: 3px;\\n  color: #d2effc;\\n}\\n.dicommenu .toolsImg .wl_text input {\\n  width: 45px;\\n  color: #d2effc;\\n  background: transparent;\\n  border: 1px solid #d2effc;\\n  padding: 0 5px;\\n  border-radius: 4px;\\n  margin-left: 2px;\\n  height: 25px;\\n}\\n.dicommenu .toolsImg .ct_text {\\n  width: auto;\\n  margin: 0 12px;\\n}\\n.dicommenu .toolsImg .ct_text span {\\n  margin-right: 3px;\\n  color: #d2effc;\\n}\\n.dicommenu .toolsImg .ct_text input {\\n  width: 45px;\\n  color: #d2effc;\\n  background: transparent;\\n  border: 1px solid #d2effc;\\n  padding: 0 5px;\\n  border-radius: 4px;\\n  margin-left: 2px;\\n  height: 25px;\\n}\\n.dicommenu .toolsImg .wl {\\n  width: 92px !important;\\n  margin-top: 5px;\\n}\\n.dicommenu .toolsImg .textshow {\\n  width: auto;\\n  float: right;\\n  margin-right: 5px;\\n}\\n.dicommenu .toolsImg .textshow span {\\n  font-size: 16px;\\n  letter-spacing: 3px;\\n}\\n.dicommenu .toolsImg .textshow span i {\\n  color: #f00;\\n  font-size: 16px;\\n  font-style: normal;\\n}\\n.dicommenu .toolsImg .line-d {\\n  width: 1px;\\n  height: 36px;\\n  background: #d2effc;\\n}\\n.dicommenu .toolsImg .btn-c {\\n  width: auto;\\n  margin-right: 5px;\\n  cursor: pointer;\\n}\\n.dicommenu .toolsImg .btn-c .btn {\\n  border: 1px solid #fff;\\n  padding: 0 5px;\\n  line-height: 25px;\\n  width: auto !important;\\n  border-radius: 4px;\\n  height: 25px;\\n  margin-top: 5px;\\n}\\n.dicommenu .toolsImg .btn-yy {\\n  width: auto;\\n  margin-right: 5px;\\n  cursor: pointer;\\n  display: none;\\n}\\n.dicommenu .toolsImg .btn-yy .btn {\\n  border: 1px solid #fff;\\n  padding: 0 5px;\\n  line-height: 25px;\\n  width: auto !important;\\n  border-radius: 4px;\\n  height: 25px;\\n  margin-top: 5px;\\n}\\n.dicommenu .toolsImg .btn-yy .light {\\n  color: #000;\\n  background: #fff;\\n}\\n.dicommenu .toolsImg .red .btn {\\n  color: #f00;\\n}\\n.dicommenu .toolsImg .opende {\\n  width: auto;\\n  margin-right: 5px;\\n  cursor: pointer;\\n}\\n.dicommenu .toolsImg .opende .btn {\\n  border: 1px solid #fff;\\n  padding: 0 5px;\\n  line-height: 25px;\\n  width: auto !important;\\n  border-radius: 4px;\\n  height: 25px;\\n  margin-top: 5px;\\n}\\n.dicommenu .toolsImg .yinyang {\\n  width: 110px;\\n  margin-right: 15px;\\n}\\n.dicommenu .toolsImg .radiobox {\\n  width: 10px;\\n  height: 10px;\\n  border-radius: 6px;\\n  margin: -1px 5px;\\n  cursor: pointer;\\n  border: 1px solid #d2effc;\\n  position: relative;\\n}\\n.dicommenu .toolsImg .radiobox.choose:before {\\n  width: 6px;\\n  height: 6px;\\n  content: \\\"\\\";\\n  position: absolute;\\n  border-radius: 4px;\\n  border: 0;\\n  left: 2px;\\n  top: 2px;\\n  background: #d2effc;\\n}\\n.dicommenu .toolsImg .spice {\\n  color: #89de03;\\n}\\n.dicommenu .toolsImg .spice i {\\n  font-size: 16px;\\n}\\n.dicommenu .toolsImg > li {\\n  width: 36px;\\n  height: 36px;\\n  position: relative;\\n  float: left;\\n  text-align: center;\\n  line-height: 36px;\\n  color: #d2effc;\\n  border-radius: 4px;\\n}\\n.dicommenu .toolsImg .fun_btn,\\n.dicommenu .toolsImg .fun_btn_single,\\n.dicommenu .toolsImg .fun_btn_copd,\\n.dicommenu .toolsImg .fun_btn_spice,\\n.dicommenu .toolsImg .fun_btn_single1 {\\n  cursor: pointer;\\n  background: #01111e;\\n}\\n.dicommenu .toolsImg .fun_btn .dropNid,\\n.dicommenu .toolsImg .fun_btn_single .dropNid,\\n.dicommenu .toolsImg .fun_btn_copd .dropNid,\\n.dicommenu .toolsImg .fun_btn_spice .dropNid,\\n.dicommenu .toolsImg .fun_btn_single1 .dropNid {\\n  width: 60px;\\n  text-align: left;\\n  position: absolute;\\n  z-index: 100;\\n  background: #01111e;\\n  color: #fff;\\n  margin-top: 15px;\\n  display: none;\\n}\\n.dicommenu .toolsImg .fun_btn .dropNid li,\\n.dicommenu .toolsImg .fun_btn_single .dropNid li,\\n.dicommenu .toolsImg .fun_btn_copd .dropNid li,\\n.dicommenu .toolsImg .fun_btn_spice .dropNid li,\\n.dicommenu .toolsImg .fun_btn_single1 .dropNid li {\\n  padding-left: 5px;\\n}\\n.dicommenu .toolsImg .fun_btn .dropNid li:hover,\\n.dicommenu .toolsImg .fun_btn_single .dropNid li:hover,\\n.dicommenu .toolsImg .fun_btn_copd .dropNid li:hover,\\n.dicommenu .toolsImg .fun_btn_spice .dropNid li:hover,\\n.dicommenu .toolsImg .fun_btn_single1 .dropNid li:hover {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .toolsImg .fun_btn.choose {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .toolsImg .fun_btn_spice.choose {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .toolsImg .fun_btn:hover {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .toolsImg .fun_btn_spice {\\n  position: relative;\\n}\\n.dicommenu .toolsImg .fun_btn_spice .chooseDate {\\n  display: none;\\n  position: absolute;\\n  top: 50px;\\n  left: 0;\\n  z-index: 20000;\\n  width: 200px;\\n}\\n.dicommenu .toolsImg .aaaawewuoew {\\n  display: none;\\n}\\n.dicommenu .toolsImg .fun_btn_copd {\\n  position: relative;\\n}\\n.dicommenu .toolsImg .fun_btn_copd .chooseDate1 {\\n  display: none;\\n  position: absolute;\\n  top: 50px;\\n  left: 0;\\n  z-index: 20000;\\n  width: 200px;\\n  background: #01111e;\\n  color: #d2effc;\\n}\\n.dicommenu .toolsImg .fun_btn_spice:hover {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .toolsImg .fun_btn_single:hover {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .toolsImg .fun_btn_single.choose {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .toolsImg .fun_btn_single1:hover {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .toolsImg .fun_btn_single1.choose {\\n  background: #fbfbfb;\\n  color: #000;\\n}\\n.dicommenu .choose {\\n  background: #fbfbfb !important;\\n  color: #000 !important;\\n}\\n.dicommenu .hover_vp {\\n  display: none;\\n  position: absolute;\\n  z-index: 9999;\\n  width: 200px;\\n  background: #0c1e21;\\n  border-radius: 8px;\\n}\\n.dicommenu .hover_vp .vp_item {\\n  display: flex;\\n  align-items: center;\\n  color: #fff;\\n  font-size: 14px;\\n  justify-content: space-around;\\n  margin-top: 10px;\\n}\\n.dicommenu .hover_vp .vp_item:hover {\\n  background: white;\\n  color: black !important;\\n}\\n.dicommenu .yyshow {\\n  position: absolute;\\n  top: 2px;\\n  right: 165px;\\n  color: #fff;\\n  line-height: 16px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/dicommenu/dicommenu.less\n// module id = 713\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=dicommenu> <ul class=\\\"tc mt15 toolsImg\\\"> <li class=\\\"mb20 fun_btn\\\" fun=zoom title=缩放> <div class=\\\"iconfont icon-fangda\\\" enable=enable></div> </li> <li class=\\\"mb20 screen\\\" title=多视窗 fun=screen> <div class=\\\"iconfont icon-fenping\\\" enable=enable></div> <div class=hover_vp> <div class=vp_item code=1> <i class=\\\"iconfont icon-fenping\\\"></i> <div>1*1</div> </div> <div class=vp_item code=2> <i class=\\\"iconfont icon-liangfenping\\\"></i> <div>2*1</div> </div> <div class=vp_item code=3> <i class=\\\"iconfont icon-shusanping\\\"></i> <div>3*1</div> </div> <div class=vp_item code=4> <i class=\\\"iconfont icon-sifenping\\\"></i> <div>2*2</div> </div> <div class=vp_item code=6> <i class=\\\"iconfont icon-fenping1\\\"></i> <div>3*2</div> </div> <div class=vp_item code=8> <i class=\\\"iconfont icon-fenpingcopy\\\"></i> <div>4*2</div> </div> </div> </li> <li class=\\\"mb20 fun_btn\\\" fun=wl title=窗位> <div class=\\\"iconfont icon-tiaochuang\\\" enable=enable style=font-size:19px></div> </li> <li class=\\\"mb20 wl\\\" fun=light title=自动调节窗高窗位> <div class=\\\"iconfont icon-chizi\\\" enable=enable></div> </li><li class=\\\"mb20 fun_btn\\\" fun=mpr title=MPR> <div class=\\\"iconfont icon-mpr\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn_single\\\" fun=add title=基准线> <div class=\\\"iconfont icon-jizhunxian\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn_single1\\\" fun=sub title=十字瞄准线> <div class=\\\"iconfont icon-shizixian\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn_copd\\\" fun=copd title=copd阈值筛选> <div class=\\\"iconfont icon-bianji1\\\" enable=enable></div> <div class=chooseDate1> <input type=text name=copdData> <span class=\\\"btn sure-btn\\\">确认</span> </div> </li> <li class=\\\"mb20 fun_btn\\\" fun=rest title=刷新> <div class=\\\"iconfont icon-shuaxin\\\" enable=enable></div> </li> <li class=\\\"mb20 line-d\\\"></li> <li class=\\\"mb20 fun_btn_spice\\\" fun=regionpaint title=区域勾面> <div class=\\\"iconfont icon-danxinggoumian\\\" enable=enable></div> <div class=chooseDate></div> </li> <li class=\\\"mb20 fun_btn_spice\\\" fun=freehand title=自由画笔> <div class=\\\"iconfont icon-huabi\\\" enable=enable></div> <div class=chooseDate></div> </li> <li class=\\\"mb20 fun_btn_spice\\\" fun=polygon title=多边形> <div class=\\\"iconfont icon-duobianxing-zhanshi\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn_spice\\\" fun=quickselect title=快速选择> <div class=\\\"iconfont icon-caozuoxing-kuaisuxua\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn aaaawewuoew\\\" fun=magicStickSingle title=单点魔法棒 style=width:0> <div class=\\\"iconfont icon-moshu\\\" enable=enable style=font-size:20px;display:none></div> </li> <li class=\\\"mb20 fun_btn\\\" fun=ellipticalRoi title=圆形> <div class=\\\"iconfont icon-yuanxing\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn\\\" fun=rectangleRoi title=矩形> <div class=\\\"iconfont icon-juxing\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn\\\" fun=cobb title=Cobb角> <div class=\\\"iconfont icon-ShapeCopy\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn\\\" fun=alignment title=椎体定位> <div class=\\\"iconfont icon-guke\\\" enable=enable></div> </li>  <li class=\\\"mb20 fun_btn\\\" fun=length title=直线> <div class=\\\"iconfont icon-Rectangle\\\" enable=enable></div> </li> <li class=\\\"mb20 fun_btn\\\" fun=simpleAngle title=角度> <div class=\\\"iconfont icon-jiaodu\\\" enable=enable></div> </li> <li class=\\\"mb20 line-d\\\"></li> <li class=\\\"mb20 spice fun_btn\\\" fun=line title=尺子> <div class=\\\"iconfont icon-chizi\\\" enable=enable style=font-size:18px></div> </li> <li class=\\\"mb20 line-d\\\"></li> <li class=\\\"mb20 fun_btn_spice\\\" fun=brush title=画笔> <div class=\\\"iconfont icon-huabi\\\" enable=enable></div> <div class=chooseDate></div> </li> <li class=\\\"mb20 fun_btn_spice\\\" fun=earse title=橡皮擦> <div class=\\\"iconfont icon-xiangpica\\\" enable=enable></div> <div class=chooseDate></div> </li> <li class=\\\"mb20 line-d\\\"></li> <li class=\\\"mb20 btn-c\\\" fun=layer_del> <div class=btn title=单层清除测量数据>单层删除</div> </li> <li class=\\\"mb20 opende\\\" fun=openmark> <div class=btn>隐藏标注</div> </li> <li class=\\\"mb20 btn-c\\\" style=float:right;margin-right:20px fun=remove_xu> <div class=btn>标为废片</div> </li> <li class=\\\"mb20 btn-yy\\\" data=1 style=float:right;margin-right:5px> <div class=btn>标为阴性</div> </li> <li class=\\\"mb20 btn-yy red\\\" data=2 style=float:right;margin-right:5px> <div class=btn>标为阳性</div> </li> </ul> <div class=yyshow></div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/dicommenu/tpl.html\n// module id = 714\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","/*\n入参\n{name: \"半径\",type: \"bradius\",value: 5,max: 30,min:1}\nname:代表在范围选择器前面的名字\ntype:代表是什么类型\nvalue:代表当前值是多少\nmax:代表范围的最大值\nmin:代表范围的最小值\n\n事件\nrangetextchoose.errorMSG 错误信息事件\n返回值为{msg:xxx}\n\nrangetextchoose.change 当范围选择有变化的时候做的处理\n返回值为{type:xxxx,value:123}\ntype为入参的时候给到的当前选择器所要的类型\nvalue为当前选择器的值\n\n数据\nthis.moveDis = 可以移动的距离\nthis.max = 允许选择的最大值\nthis.min = 允许选择的最小值\nthis.startPos = 拖动按钮的最小位置\nthis.nowPos=拖动按钮当前在的位置信息\n*/\nrequire(\"./rangetextchoose.less\");\nclass ctlist extends Interstellar.moduleBase {\n    constructor(app, dom, value, addMode) {\n        super(app, dom, value, addMode)\n        this.name = \"rangetextchoose\"\n        this.html = require('./tpl.html')\n\n    }\n    complete() {\n        this.moveDis = 94\n        this.max = this.nowParam.max ? this.nowParam.max : 100\n        this.min = (this.nowParam.min != null || this.nowParam.min != undefined) ? this.nowParam.min : 1\n        this.startPos = -2\n        this.dom.find('.range-text .name').html(this.nowParam.name + ':')\n        this.nowPos = this.startPos + this.moveDis * (this.nowParam.value - this.min) / (this.max - this.min)\n        this.setInputVal(this.nowParam.value)\n        this.initAll()\n    }\n\n    //设置input框的值和拖动器的位置,\n    /*\n    value为number类型,作用为当前数值是多少，\n    whoIn为boolean true的时候更新位置，false为更新输入框\n    */\n    setInputVal(value, whoIn) {\n        if (whoIn) {\n            this.nowPos = this.startPos + this.moveDis * (value - this.min) / (this.max - this.min)\n            this.dom.find('.controlbar .controlR').css({\n                'left': this.nowPos\n            })\n        }\n        if (!whoIn) {\n            this.dom.find('input[name=datava]').val(value)\n        }\n    }\n\n    //input 和拖拽同时更新\n    setAllData(value) {\n        this.nowPos = this.startPos + this.moveDis * (value - this.min) / (this.max - this.min)\n        this.dom.find('input[name=datava]').val(this.calReturnValue())\n        this.dom.find('.controlbar .controlR').css({\n            'left': this.nowPos\n        })\n    }\n\n    //初始化整个模块\n    initAll() {\n        let st = false\n        let that = this\n        let max = this.nowParam.max\n        let downpagex\n        this.dom.find('.range-mask').on('click', function() {\n            that.dom.find('.range-mask').hide()\n            that.dom.find('.control-content').hide()\n        })\n        this.dom.find('.controlbar .barbg').on('click', (e) => {\n            e.stopPropagation()\n            that.nowPos = e.offsetX\n            that.setInputVal(that.calReturnValue())\n            that.changeEvent()\n        })\n\n        this.dom.find('input[name=datava]').change(() => {\n            //this.setDragPos(this.dom.find('input[name=datava]').val())\n            this.setInputVal(this.dom.find('input[name=datava]').val(), true)\n            this.changeEvent()\n        })\n        this.dom.find('input[name=datava]').on('input', () => {\n            //this.setDragPos(this.dom.find('input[name=datava]').val())\n            this.setInputVal(this.dom.find('input[name=datava]').val(), true)\n            this.changeEvent()\n        })\n\n        /*this.dom.find('input[name=datava]').blur(() => {\n            this.setInputVal(this.dom.find('input[name=datava]').val())\n            this.changeEvent()\n        })*/\n        this.dom.find('.controlbar .controlR').on('mousedown', function(e) {\n            st = true\n            downpagex = e.pageX\n        })\n        this.dom.on('mousemove', function(e) {\n            if (st) {\n                let chaju = e.pageX - downpagex\n                that.nowPos = that.nowPos + chaju\n                that.setInputVal(that.calReturnValue())\n                that.changeEvent()\n                downpagex = e.pageX\n            }\n        })\n\n        /*this.dom.on('mouseup', function(e) {\n            e.stopPropagation()\n            st = false\n                //  console.log(e)\n        })*/\n        this.dom.find('.controlbar').on('mouseup', function(e) {\n            e.stopPropagation()\n            st = false\n        })\n        this.dom.find('.controlbar').on('mouseleave', function(e) {\n            e.stopPropagation()\n            st = false\n        })\n    }\n\n    //将位置值转换成数值\n    calReturnValue() {\n        this.nowPos = this.nowPos < this.startPos ? this.startPos : this.nowPos\n        this.nowPos = this.nowPos > (this.moveDis + this.startPos) ? (this.moveDis + this.startPos) : this.nowPos\n        let nowData = this.min + Math.round((this.nowPos - this.startPos) * (this.max - this.min) / this.moveDis)\n        nowData = nowData > this.max ? this.max : nowData\n        nowData = nowData < this.min ? this.min : nowData\n        return nowData\n    }\n    changeEvent() {\n        let type = this.nowParam.type\n        if (this.dom.find('input[name=datava]').val() * 1 > this.max) {\n            this.event._dispatch('rangetextchoose.errorMSG', {\n                msg: \"超过边界\"\n            })\n            this.dom.find('input[name=datava]').val(this.max)\n        }\n        this.event._dispatch('rangetextchoose.change', {\n            'type': type,\n            'value': this.dom.find('input[name=datava]').val()\n        })\n    }\n}\nmodule.exports = ctlist;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/rangetextchoose/rangetextchoose.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./rangetextchoose.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./rangetextchoose.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./rangetextchoose.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/rangetextchoose/rangetextchoose.less\n// module id = 716\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".rangetextchoose {\\n  width: 100%;\\n  min-width: 180px;\\n  position: relative;\\n  background: #0c1e21;\\n  height: 40px;\\n  border-radius: 8px;\\n  text-align: left;\\n}\\n.rangetextchoose .range-text {\\n  color: #fff;\\n  padding: 0 10px;\\n  height: 24px;\\n  line-height: 24px;\\n  margin-top: 7px;\\n  font-size: 14px;\\n  float: left;\\n  z-index: 5;\\n}\\n.rangetextchoose .range-text span {\\n  -webkit-touch-callout: none;\\n  /* iOS Safari */\\n  -webkit-user-select: none;\\n  /* Chrome/Safari/Opera */\\n  -khtml-user-select: none;\\n  /* Konqueror */\\n  -moz-user-select: none;\\n  /* Firefox */\\n  -ms-user-select: none;\\n  /* Internet Explorer/Edge */\\n  user-select: none;\\n}\\n.rangetextchoose .range-mask {\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n  background: transparent;\\n  display: none;\\n  top: -86px;\\n  left: 0;\\n}\\n.rangetextchoose .controlbar {\\n  float: left;\\n  width: 100px;\\n  height: 40px;\\n  z-index: 10;\\n  position: relative;\\n}\\n.rangetextchoose .controlbar .barbg {\\n  width: 100%;\\n  height: 6px;\\n  background: #fff;\\n  border-radius: 3px;\\n  margin-top: 16px;\\n}\\n.rangetextchoose .controlbar .controlR {\\n  width: 12px;\\n  height: 12px;\\n  border-radius: 10px;\\n  background: #448e97;\\n  position: absolute;\\n  top: 13px;\\n  left: -2px;\\n}\\n.rangetextchoose .new {\\n  float: right;\\n  width: 25px;\\n  margin-right: 10px;\\n}\\n.rangetextchoose .new input {\\n  width: 100%;\\n  text-align: center;\\n  background: transparent;\\n  border: 1px solid #ccc;\\n  border-radius: 3px;\\n  height: 20px;\\n  line-height: 20px;\\n  font-size: 12px;\\n  margin-top: 8px;\\n  color: #fff;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modules/rangetextchoose/rangetextchoose.less\n// module id = 717\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=rangetextchoose> <div class=range-text> <span class=name></span> </div> <div class=range-mask></div> <div class=controlbar> <div class=barbg></div> <div class=controlR></div> </div> <div class=new> <input type=text name=datava> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/rangetextchoose/tpl.html\n// module id = 718\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","require(\"./setyz.less\")\nclass progress extends Interstellar.modalBase {\n    constructor(app, value, api, addMode) {\n        super(app, value, api, addMode)\n        this.html = require('./tpl.html')\n        this.name = 'setyz'\n    }\n    complete() {\n        console.log(this.initDate.data)\n        if (this.initDate.data) {\n            let ran = this.data = this.initDate.data ? JSON.parse(this.initDate.data) : { yzmin: \"\", yzmax: \"\" }\n            this.dom.find('.setyz_content').html('请填写该影像标注的CT值，确认后进入影像标注的位置标注。<span class=\"yz\">(预设值范围为' + ran.yzmin + '-' + ran.yzmax + ')</span>')\n            this.dom.find('.setyz_set input[name=\"yzmin\"]').val(ran.yzmin)\n            this.dom.find('.setyz_set input[name=\"yzmax\"]').val(ran.yzmax)\n        } else {\n            this.dom.find('.error-info').html('')\n        }\n        this.dom.find('.setyz_set input').on('focus', () => {\n            this.dom.find('.error-info').addClass('hide')\n        })\n        this.dom.find('.setyz_set input').on('blur', () => {\n            this.data = {\n                yzmin: this.dom.find('.setyz_set input[name=\"yzmin\"]').val(),\n                yzmax: this.dom.find('.setyz_set input[name=\"yzmax\"]').val()\n            }\n            this.dom.find('.error-info').addClass('hide')\n        })\n    }\n    showError(msg) {\n        this.dom.find('.error-info').html(msg)\n        this.dom.find('.error-info').removeClass('hide')\n    }\n\n}\nmodule.exports = progress;\n\n\n// WEBPACK FOOTER //\n// ./app/modal/setyz/setyz.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./setyz.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./setyz.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./setyz.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/setyz/setyz.less\n// module id = 720\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".setyz {\\n  background: #fff;\\n}\\n.setyz .setyz_content {\\n  font-size: 20px;\\n  text-align: left;\\n  padding: 0 10px 10px 10px;\\n}\\n.setyz .setyz_content .yz {\\n  font-size: 14px;\\n  color: #f00;\\n}\\n.setyz .setyz_set {\\n  text-align: center;\\n  margin: 10px 0;\\n}\\n.setyz .setyz_set input {\\n  width: 90px;\\n  height: 30px;\\n  margin: 0 10px;\\n  font-size: 16px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  line-height: 30px;\\n  padding-left: 5px;\\n}\\n.setyz .error-info {\\n  color: #f00;\\n  font-size: 12px;\\n  top: -7px;\\n  left: 20px;\\n  position: absolute;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modal/setyz/setyz.less\n// module id = 721\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=setyz> <span class=\\\"error-info hide\\\"></span> <div class=setyz_content>请填写该影像标注的CT值，确认后进入影像标注的位置标注。</div> <div class=setyz_set><input name=yzmin type=text><span>——</span><input name=yzmax type=text></div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/setyz/tpl.html\n// module id = 722\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./progress.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./progress.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./progress.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/progress/progress.less\n// module id = 723\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".progress {\\n  width: 480px;\\n  height: 240px;\\n  background: #0a2634;\\n  border: 0;\\n  border-radius: 10px;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -240px;\\n  margin-top: -120px;\\n}\\n.progress .line {\\n  width: 400px;\\n  height: 20px;\\n  border: 0;\\n  border-radius: 10px;\\n  position: absolute;\\n  top: 120px;\\n  left: 40px;\\n  background: #fff;\\n}\\n.progress .blue {\\n  background: #448E97;\\n  width: 10px;\\n}\\n.progress .p-title {\\n  font-size: 14px;\\n  position: absolute;\\n  top: 80px;\\n  left: 40px;\\n  color: #fff;\\n  text-align: left;\\n}\\n.progress .p-name {\\n  position: absolute;\\n  top: 80px;\\n  right: 25px;\\n  font-size: 16px;\\n  color: #fff;\\n  text-align: left;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modal/progress/progress.less\n// module id = 724\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=progress> <p class=p-title>下载进度</p> <div class=line></div> <div class=\\\"line blue\\\"></div> <p class=p-name></p> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/progress/tpl.html\n// module id = 725\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","require(\"./seriessubmit.less\");\nclass alert extends Interstellar.modalBase {\n    constructor(app, value, api, addMode) {\n        super(app, value, api, addMode)\n        this.html = require('./tpl.html')\n        this.name = 'seriessubmit';\n        this.footer = false;\n        this.body = '';\n    }\n    sure(value) {\n        this.hide()\n    }\n    complete() {\n        let that = this\n        that.resize();\n        that.body = that.dom.find('.modal-body');\n        this.dom.find('.modal-close').on('click', function() {\n            that.hide();\n        });\n        that.dom.find('.btn-cancel').on('click', function() {\n            that.hide();\n            that.closeSure()\n        });\n        that.dom.find('.btn-confirm').on('click', function() {\n            that.hide()\n            that.sure();\n        })\n    }\n    resize(){\n        let that=this;\n        //that.dom.find('.modal-sm').css({'margin-left':-(that.dom.find('.modal-sm').box().clientWidth/2)+'px'})\n    }\n    show(value) {\n        let that = this\n        var code;\n        var hint = '';\n        if (value.msg) {\n            hint = value.msg;\n            that.dom.find('.modal-title').html(value.title ? value.title : '错误提示');\n            that.dom.find('.modal-body').html('<p style=\"width:320px;text-align:left;margin:0 auto;\">' + hint + '</p>');\n        } else {\n            that.dom.find('.modal-title').html(value.title || '');\n            that.dom.find('.modal-body').html(value.template || '');\n        }\n        \n        if (value.sure && value.sure instanceof Function) {\n            this.sure = value.sure;\n        } else {\n            this.sure = function() {\n                that.hide();\n            }\n        }\n        if (value.closeSure && value.closeSure instanceof Function) {\n            that.closeSure = value.closeSure\n        } else {\n            that.closeSure = function() {}\n        }\n        if (value.noshadow) {\n            that.dom.find('.modal').addClass('noshadow')\n        } else {\n            that.dom.find('.modal').removeClass('noshadow')\n        }\n        if (value.resetbody) {\n            that.dom.find('.showalert').css({ 'padding': value.resetbody.padding })\n        }\n        that.dom.show();\n    }\n    hide() {\n        this.dom.hide();\n    }\n}\n//原型链一定要有的\nmodule.exports = alert;\n\n\n// WEBPACK FOOTER //\n// ./app/modal/seriessubmit/seriessubmit.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./seriessubmit.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./seriessubmit.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./seriessubmit.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/seriessubmit/seriessubmit.less\n// module id = 727\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".seriessubmit .modal-footer {\\n  text-align: center;\\n}\\n.seriessubmit .modal-footer .btn-confirm {\\n  color: #fff;\\n  height: 40px;\\n  width: 90px;\\n  background: #4c9fa9;\\n  display: inline-block;\\n  line-height: 40px;\\n  border-radius: 4px;\\n  margin-right: 30px;\\n  font-size: 12px;\\n}\\n.seriessubmit .modal-footer .btn-cancel {\\n  border: 1px solid #4c9fa9;\\n  color: #333333;\\n  height: 40px;\\n  width: 90px;\\n  display: inline-block;\\n  line-height: 40px;\\n  border-radius: 4px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modal/seriessubmit/seriessubmit.less\n// module id = 728\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=\\\"modal modal-sm seriessubmit\\\"> <div class=modal-header> <p class=modal-title></p> <i class=\\\"modal-close icon-guanbi iconfont\\\"></i> </div> <div class=\\\"modal-body showalert\\\" style=\\\"padding:20px 10px 40px 10px\\\"></div> <div class=modal-footer> <a class=\\\"btn btn-confirm\\\">提交获取新序列</a> <a class=\\\"btn btn-cancel\\\">提交返回首页</a> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/seriessubmit/tpl.html\n// module id = 729\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./magicloading.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./magicloading.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./magicloading.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/magicloading/magicloading.less\n// module id = 730\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".magicloading {\\n  width: 480px;\\n  height: 240px;\\n  background: #0a2634;\\n  border: 0;\\n  border-radius: 10px;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -240px;\\n  margin-top: -120px;\\n}\\n.magicloading .content {\\n  width: 100px;\\n  color: #FFF;\\n  border-radius: 10px;\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  margin-left: -50px;\\n  margin-top: -50px;\\n  height: 100px;\\n}\\n.magicloading .content .pic {\\n  background: url(/images/loading1.gif);\\n  height: 100%;\\n  width: 100%;\\n}\\n.magicloading .p-name {\\n  width: 100%;\\n  font-size: 16px;\\n  color: #fff;\\n  text-align: center;\\n  position: absolute;\\n  bottom: 50px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modal/magicloading/magicloading.less\n// module id = 731\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=magicloading> <div class=content> <div class=pic> </div> </div> <p class=p-name>正在努力运算中，请耐心等待</p> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/magicloading/tpl.html\n// module id = 732\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","require(\"./removeseries.less\")\nclass progress extends Interstellar.modalBase {\n    constructor(app, value, api, addMode) {\n        super(app, value, api, addMode)\n        this.html = require('./tpl.html')\n        this.res = {}\n    }\n    complete() {\n        let that = this\n        this.render()\n        this.dom.find('.radio-box').on('click', function(e) {\n            that.dom.find('.radio-box').removeClass('choose')\n            let dom = ES.selctorDoc(this)\n            that.dom.find('.error-info').addClass('hide')\n            dom.addClass('choose')\n            that.res.type = dom.parent().find('.name-des').attr('code')\n            if (that.res.type == '99') {\n                that.dom.find('.reason').show()\n                that.res.des = that.dom.find('.reason textarea').val()\n            } else {\n                that.dom.find('.reason').hide()\n                that.dom.find('.reason textarea').val('')\n                that.res.des = dom.parent().find('.name-des').html()\n            }\n            console.log(that.res.type ,'that.res.type that.res.type that.res.type that.res.type ')\n        })\n        this.dom.find('.reason textarea').on('blur', function() {\n            console.log(that.dom.find('.reason textarea').val())\n            that.res.des = that.dom.find('.reason textarea').val()\n        })\n    }\n    render() {\n        console.log(this.initDate.data)\n        if (this.initDate.data) {\n            let str = ''\n            this.initDate.data.map((item) => {\n                if (item.value * 1 != 98 && item.value * 1 != 99) {\n                    str += '<li><span class=\"radio-box\"></span><span class=\"name-des\" code=\"' + item.value + '\">' + item.name + '</span></li>'\n                }\n            })\n            str += ` <li><span class=\"radio-box\"></span><span class=\"name-des\" code=\"98\">序列加载异常</span></li>\n        <li><span class=\"radio-box\"></span><span class=\"name-des\" code=\"99\">其他</span></li>\n        <li class=\"reason\" style='display: none;clear:both;'><span >备注</span><textarea ></textarea></li>`\n            this.dom.find('.removeseries ul').html(str)\n        }\n    }\n    showError(code) {\n        switch (code) {\n            case 0:\n                this.dom.find('.error-info').html('必须选择原因')\n                break\n            case 1:\n                this.dom.find('.error-info').html('请填写备注信息')\n                break\n        }\n        this.dom.find('.error-info').removeClass('hide')\n    }\n}\nmodule.exports = progress;\n\n\n// WEBPACK FOOTER //\n// ./app/modal/removeseries/removeseries.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./removeseries.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./removeseries.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./removeseries.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/removeseries/removeseries.less\n// module id = 734\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".removeseries {\\n  background: #fff;\\n}\\n.removeseries ul li {\\n  width: 45%;\\n  float: left;\\n  margin-left: 10px;\\n}\\n.removeseries ul li .radio-box {\\n  position: absolute;\\n}\\n.removeseries ul li .name-des {\\n  margin-left: 20px;\\n  margin-bottom: 15px;\\n}\\n.removeseries ul li textarea {\\n  width: 190%;\\n  resize: none;\\n}\\n.removeseries .error-info {\\n  color: #f00;\\n  font-size: 12px;\\n  top: -7px;\\n  left: 20px;\\n  position: absolute;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/modal/removeseries/removeseries.less\n// module id = 735\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","module.exports = \"<div class=removeseries> <span class=\\\"error-info hide\\\">必须选择原因</span> <ul> <li><span class=radio-box></span><span class=name-des data=1>背景复杂</span></li> <li><span class=radio-box></span><span class=name-des data=2>部位不匹配</span></li> <li><span class=radio-box></span><span class=name-des data=4>肿块直径>3cm</span></li> <li><span class=radio-box></span><span class=name-des data=3>结节大于10个</span></li> <li><span class=radio-box></span><span class=name-des data=98>序列加载异常</span></li> <li><span class=radio-box></span><span class=name-des data=99>其他</span></li> <li class=reason style=display:none><span>备注</span><textarea></textarea></li> </ul> <div style=clear:both></div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modal/removeseries/tpl.html\n// module id = 736\n// module chunks = 7 8 9 10 11 12 13 14 15 16 17 18 19 20","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#mark-content-fade {\\n  width: 100%;\\n}\\n#mark-content-fade .mark {\\n  width: 100%;\\n  background: #000;\\n}\\n#mark-content-fade .mark .mark-header {\\n  width: 100%;\\n  height: 60px;\\n  background-image: linear-gradient(-180deg, #0c1e21, #041d32 98%);\\n  color: #d2effc;\\n}\\n#mark-content-fade .mark .mark-header .back-icon {\\n  margin-left: 10px;\\n}\\n#mark-content-fade .mark .mark-header .lefta {\\n  transform: rotate(-90deg);\\n}\\n#mark-content-fade .mark .mark-header i {\\n  width: 16px;\\n  line-height: 60px;\\n}\\n#mark-content-fade .mark .mark-header span {\\n  font-size: 16px;\\n  height: 60px;\\n  line-height: 60px;\\n  float: left;\\n  margin-right: 10px;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n#mark-content-fade .mark .mark-header .cotrol-btn {\\n  display: flex;\\n  margin-top: 8px;\\n}\\n#mark-content-fade .mark .mark-header .cotrol-btn .btn {\\n  width: 100px;\\n  height: 40px;\\n  color: #fff;\\n  background: #448e97;\\n  border-radius: 5px;\\n  margin-right: 35px;\\n  font-size: 16px;\\n  text-align: center;\\n  line-height: 40px;\\n  border: 1px solid #448e97;\\n  cursor: pointer;\\n}\\n#mark-content-fade .mark .mark-header .cotrol-btn .btn:hover {\\n  background: #3bcbdc;\\n  border: 1px solid #3bcbdc;\\n  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n}\\n#mark-content-fade .mark .mark-menu {\\n  clear: both;\\n  height: 60px;\\n  width: 100%;\\n  background: #01111e;\\n  border-bottom: 2px solid #0a2634!important;\\n  border-top: 2px solid #0a2634!important;\\n}\\n#mark-content-fade .mark .mark-content {\\n  clear: both;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./app/less/mark.less\n// module id = 887\n// module chunks = 13"],"sourceRoot":""}