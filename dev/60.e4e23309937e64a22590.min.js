webpackJsonp([60],{1501:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1502),o=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);e.default=o.a},1502:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SysNotice",inject:["sysNotice"],data:function(){return{visible:!1,content:""}},created:function(){if(this.sysNotice){var t=(this.sysNotice.children[0]||{}).remark,e=JSON.parse(t).content;e&&(this.content=e,this.visible=!0)}}}},1777:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(240)),o=n(75);var a=n(165),i=r.default.create({baseURL:"/",timeout:1e4});i.interceptors.request.use(function(t){return t.headers.accessToken=window.localStorage.accessToken,t},function(t){return o.Message.closeAll(),o.Message.error(t.msg||"系统开小差，请稍后重试"),Promise.reject(t)}),i.interceptors.response.use(function(t){var e=t.data||{},n=e.code,r=e.data,i=e.msg;return 0===n?r:void 0===n?e:(o.Message.closeAll(),function(t,e){switch(t){case 503:o.Message.error("账户已被冻结");break;case 501:a.changePage&&a.changePage("login");break;default:o.Message.error(e)}}(n,i),Promise.reject(e))},function(t){return o.Message.closeAll(),o.Message.error(t.msg||"系统开小差，请稍后重试"),Promise.reject(t)}),e.default=i},1782:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1783),o=n(1501);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n(1785);var i=n(921),s=Object(i.a)(o.default,r.a,r.b,!1,null,null,null);s.options.__file="app/components/sys-notice/index.vue",e.default=s.exports},1783:function(t,e,n){"use strict";var r=n(1784);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b})},1784:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{appear:"",name:"slide"}},[t.visible?n("div",{staticClass:"sys-notice-container"},[n("i",{staticClass:"iconfont icon-bingzaotishi"}),t._v(" "),n("span",{staticClass:"content",attrs:{title:t.content}},[t._v(t._s(t.content))]),t._v(" "),n("i",{staticClass:"el-icon-close",on:{click:function(e){t.visible=!1}}})]):t._e()])},o=[];r._withStripped=!0},1785:function(t,e,n){"use strict";var r=n(1786);n.n(r)},1786:function(t,e,n){var r=n(1787);"string"==typeof r&&(r=[[t.i,r,""]]);var o={transform:void 0};n(705)(r,o);r.locals&&(t.exports=r.locals)},1787:function(t,e,n){(t.exports=n(704)(!1)).push([t.i,".slide-enter-active,\n.slide-leave-active {\n  transition: all 0.3s;\n}\n.slide-enter,\n.slide-leave-to {\n  transform: translate3d(100%, 0, 0);\n}\n.sys-notice-container {\n  height: 40px;\n  background-color: #FFFBE6;\n  border: 1px solid #FFE58F;\n  border-radius: 4px;\n  padding: 10px 10px 10px 16px;\n}\n.sys-notice-container .icon-bingzaotishi {\n  vertical-align: 4px;\n  font-size: 14px;\n  color: #FAAD14;\n}\n.sys-notice-container .content {\n  max-width: 1170px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  color: rgba(0, 0, 0, 0.65);\n}\n.sys-notice-container .el-icon-close {\n  float: right;\n  cursor: pointer;\n  padding-top: 2px;\n}\n",""])},1861:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.permissionsShow=e.permissions=void 0;var r=function(){var t=s(regeneratorRuntime.mark(function t(){var e,n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=localStorage.resourceList)){t.next=3;break}return t.abrupt("return",JSON.parse(e));case 3:return n={id:localStorage.all?JSON.parse(localStorage.all).userId:""},t.next=6,(0,i.permissionsResource)(n);case 6:return r=t.sent,(o=r.pageResourceList)&&(localStorage.resourceList=o),t.abrupt("return",o||[]);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),o=function(){var t=s(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:if(n=t.sent,!Array.isArray(e)){t.next=5;break}return t.abrupt("return",e.map(function(t){return Boolean(n.find(function(e){return e.type===t}))}));case 5:return t.abrupt("return",Boolean(n.find(function(t){return t.type===e})));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=s(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{inserted:function(){var t=s(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(n.value||n.expression);case 2:t.sent||(e.style.display="none");case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i=n(1862);function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}("next")})}}e.permissions=a,e.permissionsShow=o},1862:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.permissionsResource=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1777));e.permissionsResource=function(t){return r.default.post("/aaa/v1/base/user/resource",t)}},2001:function(t,e,n){var r=n(2002);"string"==typeof r&&(r=[[t.i,r,""]]);var o={transform:void 0};n(705)(r,o);r.locals&&(t.exports=r.locals)},2002:function(t,e,n){(t.exports=n(704)(!1)).push([t.i,"div#personalaccount-content-fade {\n  background: #F9F9F9;\n}\n.personalaccount-container {\n  position: relative;\n  margin-top: 20px;\n  padding: 20px;\n  background-color: #fff;\n  color: #333;\n}\n.personalaccount-container .text-info {\n  display: flex;\n  font-size: 20px;\n}\n.personalaccount-container .version-content {\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  font-size: 16px;\n  display: flex;\n  align-items: baseline;\n}\n.personalaccount-container .version-content .download-version {\n  text-align: right;\n  margin-left: 15px;\n}\n.personalaccount-container .version-content .download-version .download-url {\n  display: block;\n  color: #448E97;\n}\n.personalaccount-container .head-content {\n  margin-bottom: 50px;\n}\n.personalaccount-container .head-content .title {\n  font-size: 30px;\n  color: #448E97;\n  padding-bottom: 20px;\n}\n.personalaccount-container .head-content .sub-title {\n  font-size: 24px;\n  color: #666;\n}\n.personalaccount-container .head-content .number {\n  color: #448E97;\n  font-weight: bold;\n}\n.personalaccount-container .current-task-container .current-task-list {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 20px 0;\n}\n.personalaccount-container .current-task-container .current-task-list .task-block {\n  display: flex;\n  flex-direction: column;\n  width: calc(20% - 8px);\n  border: 1px solid #D9D9D9;\n  border-radius: 4px;\n  margin-left: 8px;\n  cursor: pointer;\n}\n.personalaccount-container .current-task-container .current-task-list .task-block:hover {\n  box-shadow: 0 0 4px 2px rgba(68, 142, 151, 0.2);\n}\n.personalaccount-container .current-task-container .current-task-list .task-block .task-title {\n  width: 100%;\n  font-size: 16px;\n  padding: 0 16px;\n  line-height: 46px;\n  background: rgba(0, 0, 0, 0.02);\n  border-bottom: 1px solid #D9D9D9;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.personalaccount-container .current-task-container .current-task-list .task-block .info {\n  font-size: 14px;\n  color: #666;\n  padding: 10px 16px 0;\n}\n.personalaccount-container .current-task-container .current-task-list .task-block .anno-last-update-time {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.personalaccount-container .current-task-container .current-task-list .task-block .info-small {\n  height: 30px;\n  padding: 5px 16px;\n  font-size: 12px;\n  color: #999;\n}\n.personalaccount-container .history-task-container .el-table {\n  margin-top: 10px;\n}\n.personalaccount-container .history-task-container .el-table thead tr th,\n.personalaccount-container .history-task-container .el-table tbody tr td {\n  text-align: left;\n}\n.personalaccount-container .history-task-container .el-table thead tr th {\n  background-color: #EAF5F8;\n}\n.personalaccount-container .history-task-container .el-table__body tr {\n  cursor: pointer;\n}\n",""])},281:function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(2001);var o=c(n(707)),a=c(n(65)),i=c(n(1782)),s=n(1861);function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),s=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}("next")})}}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Interstellar.pagesBase),r(e,[{key:"complete",value:function(){var t=this;this.styleModel(1);var e=this.app,n=JSON.parse(e.local.get("all"));console.log(e),setTimeout(function(){console.log(t.app.userResource)},1e3);e.userResource;new Vue({el:"#personalaccount",data:function(){return{systemName:"",app:e,useinfo:n,currentList:[],completedList:[],downloadData:{},show:!1}},components:{SysNotice:i.default},provide:{sysNotice:e.constmap.SYS_NOTICE},mounted:function(){this.init(),this.initLanguageData(),this.setDownloadData(),this.queryCurrentList(),this.queryCompletedList()},filters:{filterAuditStatus:function(t){if("number"==typeof t){return["待审核","","审核通过","审核未通过"][t]}}},methods:{init:function(){var t=l(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.permissionsShow)(["ethic$$stat","group&&stat","label$$stat"]);case 2:e=t.sent,this.show=e.some(function(t){return t});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),gotoUserStatPage:function(){this.app.changePage("userStat")},initLanguageData:function(){this.systemName=this.app.languageMode.getTranslate(this.app.language,"personalaccount","systemName")},queryCurrentList:function(){var t=l(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.taskCurrentList({userId:this.useinfo.userId});case 2:e=t.sent,this.currentList=e.data;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),queryCompletedList:function(){var t=l(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.taskCompleted({keyword:"",page:1,pageSize:10,userId:this.useinfo.userId});case 2:e=t.sent,this.completedList=e.data;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleClickTask:function(t,e){this.app.changePage("taskdetail",{taskId:t,type:e?"view":"editor"})},handleAddTask:function(){this.app.changePage("alltasklist")},setDownloadData:function(){this.downloadData=Tool.configRemarkFormat(this.app.constmap.C_VERSION)||{}},handleDownload:function(){var t=l(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.dictChildQuery({value:null});case 2:(e=t.sent).data&&e.data.map(function(t){n.app.constmap[t.value]=t}),this.setDownloadData(),window.location.origin.includes("https")?window.open("http://"+window.location.host+"/#!/downloadpage/"+encodeURIComponent(this.downloadData.download_path),"_blank"):window.open(this.downloadData.download_path,"_blank");case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}})}}]),e}();t.exports=u},707:function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(238));var o="/user/task/completed",a="/user/task/currentList",i={baseUrl:function(){return this.app.domain1+"v1"},taskCompleted:function(t){return r.default.post(this.baseUrl()+o,t)},taskCurrentList:function(t){return r.default.post(this.baseUrl()+a,t)}};t.exports=i},762:function(t,e){t.exports="<div id=personalaccount> <sys-notice></sys-notice> <div class=personalaccount-container> <div class=version-content> <el-button type=primary @click=gotoUserStatPage v-show=show>查看统计项</el-button> <div class=download-version v-show=downloadData.download_path> <div>请升级到客户端最新版本{{downloadData.version}}</div> <a class=download-url href=javascript:void(0) @click=handleDownload>下载地址</a> </div> </div> <div class=head-content> <div class=title>{{useinfo.name}}医生，欢迎登录{{systemName}}标注系统！</div> <div class=sub-title>感谢您对人工智能医疗研究的付出。</div> </div> <div class=current-task-container> <div class=text-info> 进行中的任务： <el-button v-show=\"!currentList || currentList.length < 5\" type=primary icon=el-icon-circle-plus-outline size=small @click=handleAddTask>领取新任务</el-button> </div> <div class=current-task-list> <div v-for=\"item in currentList\" :key=item.id @click=handleClickTask(item.id) class=task-block> <div class=task-title :title=\"`${item.id}-${item.name}`\">{{item.id}}-{{item.name}}</div> <div class=task-infos> <div class=info>剩余可分配数量： {{item.seriesAvailableNum}}</div> <div class=info>到期： {{item.endTime | formatDate}}</div> <div class=info>审核状态： {{item.auditStatus | filterAuditStatus}}</div> <div class=info>标注是否更新：{{typeof item.annoUpdateStatus === 'boolean' ? (item.annoUpdateStatus ? '是' : '否') : ''}}</div> <div class=\"info anno-last-update-time\" :title=\"item.annoLastUpdateTime | formatDateTime\">标注最后更新时间：{{item.annoLastUpdateTime | formatDateTime}}</div> <div class=info-small>{{item.seriesAnnotationResultId ? '(名下存在未提交序列)' : ''}}</div> </div> </div> </div> </div> <div class=history-task-container> <div class=text-info>历史任务：</div> <el-table :data=completedList style=width:100% @row-click=\"(row) => {\n          this.handleClickTask(row.id, true)\n        }\"> <el-table-column prop=name label=任务名称> <template slot-scope=scope> <span>{{scope.row.id}} - {{scope.row.name}}</span> </template> </el-table-column> <el-table-column prop=date label=开始时间~到期时间 width=280> <template slot-scope=scope> <span>{{ scope.row.startTime | formatDate }} ~ {{ scope.row.endTime | formatDate }}</span> </template> </el-table-column> <el-table-column label=审核状态> <template slot-scope=scope> <span>{{scope.row.auditStatus | filterAuditStatus}}</span> </template> </el-table-column> <el-table-column label=标注是否更新> <template slot-scope=scope> <span>{{typeof scope.row.annoUpdateStatus === 'boolean' ? (scope.row.annoUpdateStatus ? '是' : '否') : ''}}</span> </template> </el-table-column> <el-table-column label=标注最后更新时间> <template slot-scope=scope> <span>{{scope.row.annoLastUpdateTime | formatDateTime}}</span> </template> </el-table-column> </el-table> </div> </div> </div> "},921:function(t,e,n){"use strict";e.a=function(t,e,n,r,o,a,i,s){var c,l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0);r&&(l.functional=!0);a&&(l._scopeId="data-v-"+a);i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o);if(c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}}});