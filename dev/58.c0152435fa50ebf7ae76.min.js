webpackJsonp([58,82],{2133:function(t,n,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();e(2134);var a=function(t){function n(t,i,o,a){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var l=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,i,o,a));return l.html=e(2136),l.name="bztoollist",l.data=[],l}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,Interstellar.moduleBase),o(n,[{key:"complete",value:function(){this.multiliModule=e(2137)}},{key:"clearData",value:function(){this.data=[],this.nowParam.toolList=null}},{key:"setData",value:function(t,n){if(0!=t.length)for(var e=0;e<t.length;e++)this.addli(t[e],n)}},{key:"getData",value:function(){for(var t=this,n=this,e=[],o=",",a=0;a<this.data.length;a++)if(3!=this.data[a].action||this.data[a].id){var l=function(){if(-1!==o.lastIndexOf(","+n.data[a].type+",")&&n.data[a].type&&"audit"!==t.nowParam.protype)return n.app.alert.show({title:" ",msg:"该影像标注已存在",close:!0}),n.data[a].type,n.ulitem[a].cleartype(),{v:void 0};o+=n.data[a].type+",";var i={id:n.data[a].id?n.data[a].id:null,action:n.data[a].id?n.data[a].action:1,type:t.data[a].type,annotationItemList:t.data[a].annotationItemList,toolList:[]};t.data[a].toolList.map(function(t){(3!=t.action||t.id)&&i.toolList.push(t)}),e.push(i)}();if("object"===(void 0===l?"undefined":i(l)))return l.v}else;return e}},{key:"addli",value:function(t,n){var e=this;this.dom.append('<li class="multili multili'+this.data.length+'"></li>');var i=t||{id:null,action:1,annotationItemList:[],toolList:[{id:null,action:1}]};i.action=1;var o=!1;t&&(t.id&&(i.action=2),t.annotationItemList.length>0&&(o=!0)),this.data.push(i),this.ulitem={},this.ulitem[this.data.length-1]=this.app.loadModule(this.multiliModule,this.dom.find(".multili"+(this.data.length-1)),{num:this.data.length-1,toolList:i.toolList,data:i,type:n,hascomp:o,protype:this.nowParam.protype}),this.ulitem[this.data.length-1].event._addEvent("li.delete",function(t){e.dom.find(".multili"+t.num).remove(),e.data[t.num].action=3,e.event._dispatch("bztoollist.toolListchange")}),this.ulitem[this.data.length-1].event._addEvent("li.datachange",function(t){console.log(t,"li.datachange"),e.data[t.num].type=t.data.type;var n=t.data.toolList.filter(function(t){return void 0!=t});e.data[t.num].toolList=n,e.event._dispatch("bztoollist.toolListchange")}),this.ulitem[this.data.length-1].event._addEvent("li.specialchange",function(t){e.event._dispatch("bztoollist.specialchange")}),this.ulitem[this.data.length-1].event._addEvent("li.adddata",function(t){e.event._dispatch("bztoollist.add",t)}),this.ulitem[this.data.length-1].event._addEvent("li.showdata",function(t){e.event._dispatch("bztoollist.show",t)}),this.event._dispatch("bztoollist.toolListchange")}},{key:"disable",value:function(){ES.selctorDoc(".icon-shanchu").addClass("hide"),ES.selctorDoc(".icon-tianjia").addClass("hide"),ES.selctorDoc(".actionul .bzdata").addClass("hide")}}]),n}();t.exports=a},2134:function(t,n,e){var i=e(2135);"string"==typeof i&&(i=[[t.i,i,""]]);var o={transform:void 0};e(705)(i,o);i.locals&&(t.exports=i.locals)},2135:function(t,n,e){(t.exports=e(704)(!1)).push([t.i,".bztoolli {\n  position: relative;\n}\n.bztoolli .icon-shanchu {\n  position: absolute;\n  margin-left: 10px;\n  color: red;\n  cursor: pointer;\n  font-size: 18px;\n}\n.bztoolli .borderarea {\n  border: 1px dashed #e8e8e8;\n  padding: 20px;\n  border-radius: 4px;\n  display: inline-block;\n  width: 93%;\n}\n.bztoolli .borderarea > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.bztoolli .borderarea .bzlx {\n  vertical-align: top;\n}\n.bztoolli .borderarea .toolarea {\n  display: inline-block;\n}\n.bztoolli .borderarea .toolarea .toolitem > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.bztoolli .borderarea .toolarea .mt10 {\n  margin-top: 10px;\n}\n.bztoolli .actionarea {\n  float: right;\n  margin-right: 20px;\n  margin-top: 10px;\n  position: relative;\n}\n.bztoolli .actionarea .icon-caozuo {\n  cursor: pointer;\n}\n.bztoolli .actionarea .actionul {\n  position: absolute;\n  width: 120px;\n  background: #fff;\n  text-align: center;\n  left: -50px;\n  border-radius: 4px;\n  box-shadow: 0px 2px 4px 2px rgba(180, 180, 180, 0.5);\n  z-index: 20;\n}\n.bztoolli .actionarea .actionul .actionli {\n  height: 40px;\n  line-height: 40px;\n  cursor: pointer;\n}\n.bztoolli .actionarea .actionul .actionli:hover {\n  background: #ECF3F4;\n}\n.bztoolli .actionarea .mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n}\n.bztoolli .bzxlk {\n  display: inline-block;\n}\n.bztoolli .xlk {\n  width: 130px!important;\n}\n.bztoolli .xlk .nowname {\n  width: 90px;\n}\n.bztoolli .adddelli {\n  width: 55px;\n}\n.bztoolli .adddelli i {\n  cursor: pointer;\n  font-size: 16px;\n}\n.bztoolli .adddelli .icon-tianjia {\n  color: #4c9fa9;\n}\n.bztoolli .adddelli .icon-shanchu {\n  color: red;\n}\n",""])},2136:function(t,n){t.exports=""},2137:function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();e(2138);var o=function(t){function n(t,i,o,a){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var l=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,i,o,a));return l.html=e(2140),l.name="bztoolli",l}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,Interstellar.moduleBase),i(n,[{key:"complete",value:function(){var t=this;this.dropdown1=e(919),this.bzlx=t.app.loadModule(t.dropdown1,t.dom.find(".bzxlk"),{className:"xlk",firstSelect:{val:"病灶类型",idx:""},data:Tool.configxlkformat(t.app.constmap.LESION),maxshownum:5,input:!0}),t.bzlx.event._addEvent("option.click",function(n){t.apidata.type=n.idx,t.event._dispatch("li.datachange",{num:t.nowParam.num,data:t.apidata}),t.event._dispatch("li.specialchange")}),t.bzlx.event._addEvent("dropDown.clear",function(n){t.apidata.type="",t.event._dispatch("li.datachange",{num:t.nowParam.num,data:t.apidata}),t.bzlx.renderHtml(Tool.configxlkformat(t.app.constmap.LESION))}),t.bzlx.event._addEvent("drop.input",function(n){var e=Tool.configxlkformat(t.app.constmap.LESION).filter(function(t){return console.log(t.val.indexOf(n),t,n),t.val.indexOf(n.data)>=0});t.bzlx.renderHtml(e)}),"audit"==t.nowParam.protype&&(t.dom.find(".adddelli").remove(),t.dom.find(".actionarea").remove(),t.dom.find(".auditpercent").removeClass("hide")),this.apidata={},this.apidata.toolList=this.nowParam.toolList?this.nowParam.toolList:[{id:null,action:1}],t.apidata.toolList.filter(function(t){t.id&&(t.action=2)}),console.log("================",this.apidata,this.nowParam),this.apidata.data=this.nowParam.data,this.dom.find(".toolarea").html(""),console.log("wwwwwwwwwwwwww");for(var n=0;n<this.apidata.toolList.length;n++){3!==this.apidata.toolList[n].action&&this.addtool(n)}console.log(this.apidata),t.nowParam.hascomp&&t.dom.find(".ytjdata").removeClass("hide"),t.apidata.data.type&&t.dom.find('.bzlx .option[data-idx="'+t.apidata.data.type+'"]').click(),t.nowParam.type&&t.bzlx.disable(),t.dom.find(".bigdel").on("click",function(){t.event._dispatch("li.delete",{num:t.nowParam.num})}),t.dom.find(".icon-caozuo").on("click",function(){var t=ES.selctorDoc(this).parent();t.find(".actionul").removeClass("hide"),t.find(".mask").removeClass("hide")}),t.dom.find(".bzdata").on("click",function(){t.event._dispatch("li.adddata",{num:t.nowParam.num}),ES.selctorDoc(this).parent().addClass("hide"),ES.selctorDoc(this).parent().parent().find(".mask").addClass("hide")}),t.dom.find(".ytjdata").on("click",function(){t.event._dispatch("li.showdata",{num:t.nowParam.num}),ES.selctorDoc(this).parent().addClass("hide"),ES.selctorDoc(this).parent().parent().find(".mask").addClass("hide")}),t.dom.find(".mask").on("click",function(){ES.selctorDoc(this).parent().find(".actionul").addClass("hide"),ES.selctorDoc(this).addClass("hide")})}},{key:"initli",value:function(t){console.log(t,"val");var n=Tool.configxlkformat(this.app.constmap.TOOL_TYPE)[t]?Tool.configxlkformat(this.app.constmap.TOOL_TYPE)[t].type:"",e=(Tool.configxlkformat(this.app.constmap.TOOL_TYPE).filter(function(t){return t.idx==n})[0],this),i=this.app.loadModule(e.dropdown1,e.dom.find(".toolitem"+t+" .tool1"),{className:"xlk",firstSelect:{val:"工具",idx:""},data:Tool.configxlkformat(e.app.constmap.TOOL_TYPE),maxshownum:5});this.app.loadModule(e.dropdown1,e.dom.find(".toolitem"+t+" .fztag"),{className:"xlk",firstSelect:{val:"选择辅助Tag",idx:""},data:[{val:"",idx:""}]});i.event._addEvent("option.click",function(n){e.dom.find(".toolitem"+t+" .notinit").addClass("hide"),e.dom.find(".choose").removeClass("choose"),e.apidata.toolList[t].type=n.idx,e.event._dispatch("li.datachange",{num:e.nowParam.num,data:e.apidata}),e.event._dispatch("li.specialchange")}),i.event._addEvent("dropDown.clear",function(n){e.dom.find(".toolitem"+t+" .notinit").addClass("hide"),e.apidata.toolList[t].type="",e.apidata.toolList[t].property=null,e.event._dispatch("li.datachange",{num:e.nowParam.num,data:e.apidata})}),e.dom.find(".toolitem"+t+" .adddelli .icon-tianjia").on("click",function(){e.apidata.toolList.push({id:null,action:1}),e.addtool(e.apidata.toolList.length-1),e.event._dispatch("li.datachange",{num:e.nowParam.num,data:e.apidata})}),e.dom.find(".toolitem"+t+" .adddelli .icon-shanchu").on("click",function(){e.apidata.toolList[t].action=3,ES.selctorDoc(this).parent().parent().remove(),e.event._dispatch("li.datachange",{num:e.nowParam.num,data:e.apidata})}),e.dom.find(".toolitem"+t+" .yzsz .check-box").on("click",function(){ES.selctorDoc(this).hasClass("choose")?(ES.selctorDoc(this).removeClass("choose"),e.dom.find(".toolitem"+t+" .yzarea").addClass("hide")):(ES.selctorDoc(this).addClass("choose"),e.dom.find(".toolitem"+t+" .yzset").val(""),e.dom.find(".toolitem"+t+" .yzarea").removeClass("hide")),console.log(),e.event._dispatch("li.datachange",{num:e.nowParam.num,data:e.apidata})}),e.dom.find(".toolitem"+t+" .canshu").on("change",function(){e.apidata.toolList[t].property=ES.selctorDoc(this).val(),e.event._dispatch("li.datachange",{num:e.nowParam.num,data:e.apidata})}),e.nowParam.type&&(i.disable(),e.dom.find(".bzdata").addClass("hide"),e.nowParam.hascomp||e.dom.find(".actionarea").remove(),e.dom.find(".icon-shanchu").addClass("hide"),e.dom.find(".icon-tianjia").addClass("hide")),e.setToolData(this.apidata.toolList[t],t)}},{key:"setToolData",value:function(t,n){console.log(t,NaN,n),t.type&&(this.dom.find(".toolitem"+n+' .option[data-idx="'+t.type+'"]').click(),t.property&&this.dom.find(".canshu").val(t.property))}},{key:"addtool",value:function(t){var n='<li class="'+(0!=t?"mt10":"")+" toolitem toolitem"+t+'">\n                <div class="inputLine" redlabel="xlk">\n                    <div class="tool1" check="empty"></div>\n                </div>                <div class="adddelli">\n                    <i class="iconfont icon-tianjia" title="继续添加工具"></i>\n                    <i class="iconfont icon-shanchu deltool" title="删除此工具"></i>\n                </div>\n                <div class="fztag  notinit hide"></div>                <div class="auditpercent hide">                    <span>一致性匹配系数：</span>                    <div class="inputLine hide" redlabel="inputBox">\n                        <input type="text" class="canshu inputBox" check="empty|int" reg="/^([1-9]\\d{0,1}|100)$/" error="请输入1-100之间的整数"/>\n                    </div>                    <span>%</span>                </div>            </li>';this.dom.find(".toolarea").append(n),"audit"==this.nowParam.protype&&(this.dom.find(".auditpercent").removeClass("hide"),this.dom.find(".auditpercent .inputLine").removeClass("hide"),this.dom.find(".adddelli").remove()),this.dom.find(".deltool").eq(0).addClass("hide"),this.initli(t)}},{key:"cleartype",value:function(){this.bzlx.reset()}}]),n}();t.exports=o},2138:function(t,n,e){var i=e(2139);"string"==typeof i&&(i=[[t.i,i,""]]);var o={transform:void 0};e(705)(i,o);i.locals&&(t.exports=i.locals)},2139:function(t,n,e){(t.exports=e(704)(!1)).push([t.i,".bztoolli {\n  position: relative;\n}\n.bztoolli .icon-shanchu {\n  position: absolute;\n  margin-left: 10px;\n  color: red;\n  cursor: pointer;\n  font-size: 18px;\n}\n.bztoolli .borderarea {\n  border: 1px dashed #e8e8e8;\n  padding: 20px;\n  border-radius: 4px;\n  display: inline-block;\n  width: 93%;\n}\n.bztoolli .borderarea > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.bztoolli .borderarea .bzlx {\n  vertical-align: top;\n}\n.bztoolli .borderarea .toolarea {\n  display: inline-block;\n}\n.bztoolli .borderarea .toolarea .toolitem > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.bztoolli .borderarea .toolarea .mt10 {\n  margin-top: 10px;\n}\n.bztoolli .actionarea {\n  float: right;\n  margin-right: 20px;\n  margin-top: 10px;\n  position: relative;\n}\n.bztoolli .actionarea .icon-caozuo {\n  cursor: pointer;\n}\n.bztoolli .actionarea .actionul {\n  position: absolute;\n  width: 120px;\n  background: #fff;\n  text-align: center;\n  left: -50px;\n  border-radius: 4px;\n  box-shadow: 0px 2px 4px 2px rgba(180, 180, 180, 0.5);\n  z-index: 20;\n}\n.bztoolli .actionarea .actionul .actionli {\n  height: 40px;\n  line-height: 40px;\n  cursor: pointer;\n}\n.bztoolli .actionarea .actionul .actionli:hover {\n  background: #ECF3F4;\n}\n.bztoolli .actionarea .mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  top: 0;\n  left: 0;\n}\n.bztoolli .bzxlk {\n  vertical-align: top;\n  display: inline-block;\n  margin-top: 5px;\n}\n.bztoolli .xlk {\n  width: 130px!important;\n}\n.bztoolli .xlk .nowname {\n  width: 90px;\n}\n.bztoolli .adddelli {\n  width: 55px;\n}\n.bztoolli .adddelli i {\n  cursor: pointer;\n  font-size: 16px;\n}\n.bztoolli .adddelli .icon-tianjia {\n  color: #4c9fa9;\n}\n.bztoolli .adddelli .icon-shanchu {\n  color: red;\n}\n.bztoolli .inputLine {\n  display: inline-block;\n}\n.bztoolli .inputLine input {\n  height: 30px;\n  line-height: 30px;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n.bztoolli .bzlx .inputLine {\n  vertical-align: top;\n}\n.bztoolli .required {\n  left: 0;\n  top: 25px;\n}\n",""])},2140:function(t,n){t.exports='<div class=bztoolli> <div class=borderarea> <div class=bzlx> <span style=line-height:25px;text-align:center;margin-right:10px>影像标注<br>(病灶类型)</span> <div class=inputLine redlabel=xlk> <div class=bzxlk check=empty></div> </div> </div> <ul class=toolarea> <li class="toolitem toolitem1"> <div class=inputLine redlabel=xlk> <div class=tool1 check=empty></div> </div> <div class=adddelli> <i class="iconfont icon-tianjia" title=继续添加工具></i> <i class="iconfont icon-shanchu hide deltool" title=删除此工具></i> </div> <div class="fztag notinit hide"></div> <div class="auditpercent hide"> <span>一致性匹配系数：</span> <div class="inputLine hide" redlabel=inputBox> <input type=text class="canshu inputBox" check=empty|int reg=/^([1-9]\\d{0,1}|100)$/ /> </div> <span>%</span> </div> </li> </ul> <div class=actionarea> <i class="iconfont icon-caozuo"></i> <ul class="actionul hide"> <li class="actionli bzdata">添加标注组件</li> <li class="actionli ytjdata hide">查看标注组件</li> </ul> <div class="mask hide"></div> </div> </div> <i class="iconfont icon-shanchu bigdel"></i> </div>'},2141:function(t,n,e){(t.exports=e(704)(!1)).push([t.i,".createauditpro2 {\n  margin: 20px;\n  background: #fff;\n  height: 100%;\n  font-size: 14px;\n  overflow: hidden;\n  border: 1px solid #fff;\n  position: relative;\n}\n.createauditpro2 .bigtitle {\n  padding: 20px;\n  font-size: 17px;\n}\n.createauditpro2 .title {\n  font-size: 16px;\n  height: 60px;\n  line-height: 60px;\n  margin-bottom: 20px;\n}\n.createauditpro2 > div {\n  margin-left: 80px;\n  line-height: 40px;\n}\n.createauditpro2 .bigadd {\n  cursor: pointer;\n  margin-left: 20px;\n  color: #4c9fa9;\n}\n.createauditpro2 .xsyx {\n  display: inline-block;\n}\n.createauditpro2 > span {\n  margin-left: 20px;\n  text-align: right;\n}\n.createauditpro2 .yblx,\n.createauditpro2 .bzyq {\n  display: inline-block;\n  margin: 5px;\n}\n.createauditpro2 .xlk {\n  height: 30px;\n  line-height: 30px;\n  width: 180px;\n}\n.createauditpro2 .splitnum {\n  margin-top: 10px;\n}\n.createauditpro2 .splitnum input {\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  height: 30px;\n  line-height: 30px;\n  width: 170px;\n  padding-left: 10px;\n  margin-left: 5px;\n}\n.createauditpro2 .widthlevelset {\n  height: 50px;\n  line-height: 50px;\n}\n.createauditpro2 .widthlevelset .windowId,\n.createauditpro2 .widthlevelset p {\n  display: inline-block;\n}\n.createauditpro2 .yxtitle {\n  font-size: 15px;\n  margin-top: 30px;\n}\n.createauditpro2 .multi {\n  margin: 20px;\n  border-radius: 4px;\n  padding-bottom: 100px;\n}\n.createauditpro2 .multi .title {\n  padding-left: 0;\n  margin-left: 10px;\n}\n.createauditpro2 .multi .biaozhubtn {\n  border: 1px solid #4c9fa9;\n  color: #333;\n  height: 35px;\n  line-height: 35px;\n  width: 210px;\n  margin: 80px 40px 40px 20px;\n}\n.createauditpro2 .multi > li {\n  margin-top: 10px;\n}\n.createauditpro2 .multi .alldata {\n  margin-left: 0;\n}\n.createauditpro2 .required {\n  left: 358px;\n  top: 0;\n}\n.createauditpro2 .winWidthId {\n  margin: 10px 0;\n}\n.createauditpro2 .winWidthId .required {\n  left: 515px;\n  top: 0;\n}\n.createauditpro2 .discurdarea {\n  margin: 10px 0;\n}\n.createauditpro2 .discurdarea .biaozhubtn {\n  padding: 0 20px;\n  height: 35px;\n  line-height: 35px;\n  border: 1px solid #4c9fa9;\n  color: #4c9fa9;\n}\n.createauditpro2 .discurdarea .viewreason {\n  margin-left: 50px;\n  text-decoration: underline;\n  color: #4c9fa9;\n}\n.createauditpro2 .save {\n  background: #4c9fa9;\n  color: #fff;\n  height: 40px;\n  line-height: 40px;\n  width: 120px;\n  margin: 20px;\n  bottom: 5px;\n  position: absolute;\n  right: 20px;\n  top: 10px;\n}\n.createauditpro2 .w135 {\n  width: 155px!important;\n  text-align: right;\n}\n.createauditpro2 .windowId .required {\n  left: 510px;\n}\n",""])},319:function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();function o(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function i(o,a){try{var l=n[o](a),r=l.value}catch(t){return void e(t)}if(!l.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,Interstellar.pagesBase),i(n,[{key:"complete",value:function(){this.app.header.openControl("auditproject"),this.app.header.changeselected(2),this.styleModel(1),this.resize(),this.maxnum=1e4,this.type=1*this.app.parpam.type,this.projectId=1*this.app.parpam.projectid,this.status=this.app.parpam.status,this.closetip=!1,this.loadmodule(),this.render(),this.btnEvent(),this.initscroll()}},{key:"btnEvent",value:function(){var t=this,n=this;this.dom.find(".showReport .check-box").on("click",function(t){var e=ES.selctorDoc(this);n.radioClick(t,e.parent().attr("type"))}),this.dom.find(".studyAnno .check-box").on("click",function(t){n.radioClick(t,"studyAnno")}),this.dom.find(".largeFigure .check-box").on("click",function(t){n.radioClick(t,"largeFigure")}),this.dom.find(".bigadd").on("click",function(){t.app.session.set("ischanged",!0),t.multlist.addli(),t.initscroll()}),this.dom.find(".save").on("click",o(regeneratorRuntime.mark(function n(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.dom.find(".redborder").removeClass("redborder"),t.dom.find(".required").remove(),t.dom.find(".inputLine").dom&&t.dom.find(".inputLine").dom.forEach(function(t,n){""!==Tool.checkForm(ES.selctorDoc(t).dom,"red")&&(t.find("."+t.attr("redlabel")).addClass("redborder"),t.find("."+t.attr("redlabel")).after('<span class="required">'+Tool.checkForm(ES.selctorDoc(t).dom,"red")+"</span>"))}),!t.dom.find(".redborder").dom||!t.dom.find(".redborder").dom.some(function(t){return 0!==t.box().clientHeight})){n.next=7;break}return n.abrupt("return",!1);case 7:if(!t.closetip||"[]"===JSON.stringify(t.importProjectList)){n.next=11;break}t.app.alert.show({title:" ",msg:'<span style="font-size: 15px">【病灶类型】及【标注工具】与前一次保存版本不一致，是否继续保存。继续保存将清空之前在第三步的“所属项目”。若该审核项目下已有相关审核任务，该任务下审核源也将清空。</span>',close:!0,sure:function(){var n=o(regeneratorRuntime.mark(function n(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.app.loading.show(),n.next=3,t.api.matchrate_edit(t.model.getData("apiData"));case 3:e=n.sent,t.app.loading.hide(),0==e.code?(t.closetip=!1,t.app.session.clearAll(),t.app.changePage("createauditpro3",{type:"edit",projectid:t.projectId,status:t.status})):t.errorshow(e.msg);case 6:case"end":return n.stop()}},n,t)}));return function(){return n.apply(this,arguments)}}()}),n.next=17;break;case 11:return t.app.loading.show(),n.next=14,t.api.matchrate_edit(t.model.getData("apiData"));case 14:e=n.sent,t.app.loading.hide(),0==e.code?(t.closetip=!1,t.app.session.clearAll(),t.app.changePage("createauditpro3",{type:"edit",projectid:t.projectId,status:t.status})):t.errorshow(e.msg);case 17:case"end":return n.stop()}},n,t)})))}},{key:"radioClick",value:function(t,n){this.app.session.set("ischanged",!0);var e=ES.selctorDoc(t.target);console.log(n,"hhh"),e.hasClass("choose")?(e.removeClass("choose"),this.model.apiData[n]=!1,this.model.setData("apiData",this.model.apiData)):(e.addClass("choose"),this.model.apiData[n]=!0,this.model.setData("apiData",this.model.apiData))}},{key:"render",value:function(){var t=o(regeneratorRuntime.mark(function t(){var n,e,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},e={auditProjectId:this.projectId},this.app.loading.show(),t.next=5,this.api.auditproject_read(e);case 5:i=t.sent,this.app.loading.hide(),0==i.code?(n=i.data,this.model.apiData.imgMactchrateList=n.imgMactchrateList,this.model.apiData.inspectSee=!!n.inspectSee&&n.inspectSee,this.model.apiData.diagnosisIncome=!!n.diagnosisIncome&&n.diagnosisIncome,this.model.apiData.auditProjectId=n.auditProjectId,this.importProjectList=n.importProjectList,{id:this.projectId},n.inspectSee&&this.dom.find('.showReport[type="inspectSee"] .check-box').click(),n.diagnosisIncome&&this.dom.find('.showReport[type="diagnosisIncome"] .check-box').click(),n.largeFigure&&this.dom.find(".largeFigure .check-box").click(),o=[],n.imgMactchrateList.forEach(function(t){var n={id:t.imgAnnoMactchrateId,toolList:[{id:1,type:t.imageToolType,property:t.matchrate}],type:t.imageType,annotationItemList:[]};o.push(n)}),"view"==this.type||2==this.status?(this.dom.find(".save").remove(),this.multlist.setData(o,"view"),this.todisabled()):this.multlist.setData(o),this.app.session.clearAll()):this.errorshow(i.msg),this.initscroll();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadmodule",value:function(){var t=this,n=e(2133);this.multlist=this.app.loadModule(n,this.dom.find(".multiitem"),{protype:"audit"}),this.multlist.event._addEvent("bztoollist.toolListchange",function(){t.model.apiData.imgMactchrateList=[],t.multlist.getData().forEach(function(n,e){var i={};i.imgAnnoMactchrateId=n.id,i.imageType=n.type,i.imageToolType=n.toolList[0].type,i.matchrate=parseFloat(n.toolList[0].property),i.action=n.action,t.model.apiData.imgMactchrateList.push(i)}),t.app.session.set("ischanged",!0),t.model.setData("apiData",t.model.apiData),t.initscroll()}),this.multlist.event._addEvent("bztoollist.specialchange",function(n){t.closetip=!0}),this.multlist.event._addEvent("bztoollist.refresh",function(n){t.app.changePage("createauditpro2",{type:t.type,projectid:t.projectId,status:t.status})})}},{key:"todisabled",value:function(){this.dom.find(".bigadd").addClass("hide"),this.dom.find(".check-box").off("click"),this.dom.find(".inputBox").attr("readonly","readonly"),this.multlist.disable()}},{key:"errorshow",value:function(t){this.app.alert.show({title:" ",msg:t,close:!1})}},{key:"resize",value:function(){var t=ES.selctorDoc(window).box().clientHeight-100,n=ES.selctorDoc(window).box().clientWidth-40;ES.selctorDoc(".createauditpro2").css({height:t,width:n}),this.initscroll()}},{key:"initscroll",value:function(){if(this.myScroll)this.myScroll.refresh();else{var t="aaa_"+Math.floor((new Date).getTime()*Math.random());ES.selctorDoc(".createauditpro2").attr("id",t),this.myScroll=new IScroll("#"+t,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}}]),n}();t.exports=a},812:function(t,n,e){var i=e(2141);"string"==typeof i&&(i=[[t.i,i,""]]);var o={transform:void 0};e(705)(i,o);i.locals&&(t.exports=i.locals)},813:function(t,n,e){"use strict";var i="/audit/imgannotool/matchrate/edit",o="/audit/project/read",a={matchrate_edit:function(t){return this.HttpRequest.POST(i,t)},auditproject_read:function(t){return this.HttpRequest.POST(o,t)}};t.exports=a},814:function(t,n){t.exports='<div class=createauditpro2> <div> <p class=title>第二步：审核项目范围设置</p> <a class="biaozhubtn save">保存</a> <div class=showReport type=inspectSee> <i class=check-box></i> <span>是否需要展示检查所见</span> </div> <div class=showReport type=diagnosisIncome> <i class=check-box></i> <span>是否需要展示诊断所得</span> </div> <div class=largeFigure> <i class=check-box></i> <span>是否基于超大图审核</span> </div> <span class=yxtitle>影像标注匹配设置</span> <i class="iconfont icon-tianjia bigadd" title=""></i> <div class=multi> <ul class=multiitem> </ul> </div> </div> </div> '},815:function(t,n,e){"use strict";var i=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.apiData={projectId:parseInt(t.parpam.projectid),showReport:!1,imgMactchrateList:[]},e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,Interstellar.modelBase),n}();t.exports=i},919:function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();e(988);var o=function(t){function n(t,i,o,a){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var l=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,i,o,a));return l.html=e(990),l.name="dropDown",l}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,Interstellar.moduleBase),i(n,[{key:"complete",value:function(){this.dom.find(".drop-down").addClass(this.nowParam.className);var t=ES.selctorDoc(window).box().clientWidth,n=ES.selctorDoc(window).box().clientHeight;this.dom.find(".mask").css({width:t,height:n,left:0,top:0}),this.datatype=this.nowParam.datatype?this.nowParam.datatype:"obj",this.input=void 0!=this.nowParam.input&&this.nowParam.input,this.maxshownum=void 0==this.nowParam.maxshownum?10:this.nowParam.maxshownum,this.render()}},{key:"render",value:function(t){t||(t=this.nowParam);this.firstSelect=t.firstSelect?t.firstSelect:t.data[0],this.dom.find(".selected1 input").attr("data-idx",this.firstSelect.idx),this.dom.find(".selected1 input").attr("placeholder",this.firstSelect.val),this.renderHtml(t.data),this.bindEvent(),this.event._dispatch("dropDown.done")}},{key:"renderHtml",value:function(t){var n=this;n.data=t;var e="";if("obj"==this.datatype)for(var i=0;i<t.length;i++)n.firstSelect==t[i]?e+='<li class="option select" title="'+t[i].val+'" data-idx='+t[i].idx+" props="+(t[i].props?t[i].props:"")+">"+t[i].val+"</li>":e+='<li class="option" title="'+t[i].val+'" data-idx='+t[i].idx+" props="+(t[i].props?t[i].props:"")+">"+t[i].val+"</li>";else for(var o=0;o<t.length;o++)n.firstSelect==t[o]?e+='<li class="option select" title="'+t[o]+'" data-idx='+t[o]+">"+t[o]+"</li>":e+='<li class="option" title="'+t[o]+'" data-idx='+t[o]+">"+t[o]+"</li>";this.dom.find("._dropdown1 .selectbox").html(e),this.dom.find(".option").on("click",function(){n.dom.find(".option").removeClass("select"),ES.selctorDoc(this).addClass("select"),n.dom.find(".selected1 input").val(ES.selctorDoc(this).html()),n.dom.find(".selected1 input").attr("data-idx",ES.selctorDoc(this).attr("data-idx")),n.dom.find(".selected1 input").attr("props",ES.selctorDoc(this).attr("props")),n.dom.find("._dropdown1").hide(),n.dom.find(".icon").removeClass("drop"),n.event._dispatch("option.click",{val:n.dom.find(".selected1 input").val(),idx:n.dom.find(".selected1 input").attr("data-idx"),props:n.dom.find(".selected1 input").attr("props")})}),n.initscrollmenu()}},{key:"bindEvent",value:function(){var t=this;this.dom.find(".selected1").on("click",function(n){if(n.stopPropagation(),t.dom.find(".selected1 .drop_disabled").dom)return!1;var e=ES.selctorDoc(this);e.find(".icon").addClass("drop"),e.parent().find("._dropdown1").show();var i=t.dom.find(".option").dom;i&&i.length>t.maxshownum&&(t.dom.find(".scroll").css({height:t.dom.find(".drop-down").box().clientHeight*t.maxshownum}),t.dom.find(".scroll").css({overflow:"hidden"}),t.initscrollmenu()),t.dom.find(".mask").show()}),this.dom.find(".selected1").on("mouseover",function(){ES.selctorDoc(this).find("input").attr("data-idx")&&(ES.selctorDoc(this).find(".icon-shanchutishiicon").show(),ES.selctorDoc(this).find(".icon").hide())}),this.dom.find(".selected1").on("mouseout",function(){ES.selctorDoc(this).find(".icon-shanchutishiicon").hide(),ES.selctorDoc(this).find(".icon").show()}),this.dom.find(".selected1 .icon-shanchutishiicon").on("click",function(n){n.stopPropagation(),ES.selctorDoc(this).parent().find(".nowname").attr("placeholder",t.firstSelect.val),ES.selctorDoc(this).parent().find(".nowname").val(""),ES.selctorDoc(this).parent().find(".nowname").attr("data-idx",t.firstSelect.idx),t.dom.find(".select").removeClass("select"),t.event._dispatch("dropDown.clear")}),this.dom.find("._dropdown1 .mask").on("click",function(){ES.selctorDoc(this).parent().hide(),t.dom.find(".icon").removeClass("drop"),t.dom.find(".loading_xlk").addClass("drop")}),t.input?(this.dom.find(".nowname").on("input",function(){t.event._dispatch("drop.input",{data:ES.selctorDoc(this).val(),classname:ES.selctorDoc(this).parent().parent().parent().attr("class")})}),this.dom.find(".nowname").on("focus",function(){t.dom.find(".nowname").attr("placeholder","")}),this.dom.find(".nowname").on("blur",function(){t.dom.find(".nowname").attr("placeholder",t.nowParam.firstSelect.val)})):t.dom.find(".nowname").attr("readonly","readonly")}},{key:"reset",value:function(t){this.dom.find(".selected1 input").attr("placeholder",this.nowParam.firstSelect.val),this.dom.find(".selected1 input").val(""),this.dom.find(".selected1 input").attr("data-idx",this.nowParam.firstSelect.idx),this.dom.find(".select").removeClass("select"),this.dom.find("._dropdown1 .selectbox .option").eq(0).addClass("select"),t||this.event._dispatch("option.click",{val:this.dom.find(".selected1 input").val(),idx:this.dom.find(".selected1 input").attr("data-idx")})}},{key:"setChoose",value:function(t){this.data.forEach(function(n,e){n.idx==t&&(this.dom.find(".selected1 input").attr("data-idx",n.idx),this.dom.find(".selected1 input").attr("placeholder",n.val))})}},{key:"disable",value:function(){this.dom.find(".selected1").off("mouseover"),this.dom.find(".nowname").addClass("drop_disabled"),this.dom.find(".nowname").attr("readonly","readonly"),this.dom.find(".drop-down").addClass("drop_disabled")}},{key:"able",value:function(){this.dom.find(".nowname").removeClass("drop_disabled"),this.dom.find(".drop-down").removeClass("drop_disabled")}},{key:"loading",value:function(t){t?(this.dom.find(".selectbox").html(""),this.dom.find(".loading_xlk").removeClass("hide")):this.dom.find(".loading_xlk").addClass("hide")}},{key:"initscrollmenu",value:function(){if(this.myScroll1)this.myScroll1.refresh();else{var t="aaa_"+Math.floor((new Date).getTime()*Math.random());this.dom.find(".scroll").attr("id",t),this.myScroll1=new IScroll("#"+t,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}}]),n}();t.exports=o},988:function(t,n,e){var i=e(989);"string"==typeof i&&(i=[[t.i,i,""]]);var o={transform:void 0};e(705)(i,o);i.locals&&(t.exports=i.locals)},989:function(t,n,e){(t.exports=e(704)(!1)).push([t.i,'@charset "UTF-8";\n.ctdrop {\n  background: none;\n  border: 1px solid #d2effc;\n  width: 90px;\n  color: #d2effc;\n  min-width: 90px;\n  font-size: 12px;\n  border-radius: 4px;\n  line-height: 25px;\n}\n.ctdrop .selected1 {\n  margin-left: 10px;\n  border: 0;\n}\n.ctdrop .selected1 input {\n  display: inline-block;\n  color: #d2effc;\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n}\n.ctdrop .selected1 .icon-icon-test3 {\n  color: #d2effc;\n  font-size: 0.5rem;\n  margin-right: 1px;\n}\n.ctdrop .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.xlk,\n.kxlk {\n  background: #fff;\n  width: 90px;\n  color: #333;\n  font-size: 12px;\n  position: relative;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n.xlk .selected1 .nowname,\n.kxlk .selected1 .nowname {\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  border: none;\n  background: #fff;\n  height: 100%;\n  width: 88%;\n  margin-left: 10px;\n}\n.xlk .selected1 img,\n.kxlk .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.xlk .selected1 .drop_disabled,\n.kxlk .selected1 .drop_disabled {\n  background: #e8e8e8;\n  cursor: not-allowed !important;\n}\n.listxlk {\n  background: #fff;\n  width: 90%;\n  height: 38px;\n  color: #333;\n  font-size: 12px;\n  position: relative;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n.listxlk .selected1 input {\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  border: none;\n  background: #fff;\n  height: 100%;\n  width: unset;\n  margin-left: 10px;\n}\n.listxlk .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.listxlk .selectbox {\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n}\n.listxlk .selectbox .option {\n  height: 30px;\n  line-height: 30px;\n}\n.listxlk .selectbox .scroll {\n  overflow: hidden;\n  position: relative;\n}\n.selected1 {\n  text-align: left;\n  line-height: inherit;\n  font-family: "Microsoft YaHei";\n  font-size: inherit;\n  color: #333;\n  position: relative;\n  cursor: pointer;\n}\n.selected1 .nowname {\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  background: #fff;\n  width: 100%;\n  height: 100%;\n}\n.selected1 .icon {\n  transform: rotate(-180deg);\n  vertical-align: middle;\n  transition: all 0.3s;\n  display: inline-block;\n  font-size: 12px;\n  position: absolute;\n  top: 0;\n  right: 5px;\n}\n.selected1 .drop {\n  transform: rotate(0deg);\n}\n.selected1 .icon-shanchutishiicon {\n  position: absolute;\n  font-size: 12px;\n  color: #C0C4CC;\n  width: 12px;\n  top: 0;\n  right: 5px;\n}\n.selected1 .drop_disabled {\n  background: #e8e8e8;\n  cursor: not-allowed !important;\n}\n._dropdown1 {\n  position: absolute;\n  display: none;\n  width: 100%;\n}\n._dropdown1 ul {\n  list-style: none;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 4px;\n  overflow: hidden;\n  background: #fff;\n  font-family: "Microsoft YaHei";\n  font-size: inherit;\n  z-index: 9999;\n  color: #333;\n  border: 1px solid #e8e8e8;\n}\n._dropdown1 li {\n  margin: 0 5px;\n  min-height: 24px;\n  text-align: left;\n  cursor: pointer;\n  white-space: nowrap;\n  overflow: hidden;\n}\n._dropdown1 li:hover {\n  color: #448e97;\n  background: #ecf3f4;\n}\n._dropdown1 li.select {\n  color: #333333;\n  background: #ecf3f4;\n}\n._dropdown1 .mask {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9;\n}\n._dropdown1 .scroll {\n  position: relative;\n}\n.drop-down .selectbox {\n  min-height: 50px;\n}\n.drop-down .loading_xlk {\n  background: url(/images/loading1.gif) no-repeat 35px -28px;\n  height: 50px;\n  width: 100%;\n  top: 33px;\n  z-index: 2000;\n  position: absolute;\n}\n.drop_disabled .selected1 {\n  background: #e8e8e8;\n}\n.keepwhite {\n  background: #fff !important;\n}\n.keepwhite .selected1 {\n  background: #fff !important;\n}\n',""])},990:function(t,n){t.exports='<div class=drop-down> <div class=selected1> <input class=nowname type=text /> <i class="iconfont icon-shanchutishiicon" style=display:none></i> <i class="iconfont icon-icon-test3 icon"></i> </div> <div class=_dropdown1> <div class=scroll> <ul class=selectbox> </ul> </div> <div class=mask></div> </div> <div class="loading_xlk hide"></div> </div>'}});