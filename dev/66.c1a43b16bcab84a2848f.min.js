webpackJsonp([66],{1831:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1832),i=r.n(a);for(var n in a)"default"!==n&&function(e){r.d(t,e,function(){return a[e]})}(n);t.default=i.a},1832:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{projectDetail:{type:Object,default:function(){return{}}},labelWidth:{type:Number,default:110},labelName:{type:String,default:"任务名称"},typeName:{type:String,default:"标注"},dataCountLabel:{type:String,default:"数据量"},value:{type:String,default:""}},data:function(){var e=this;return{ruleForm:{type:this.typeName,dataSource:"",algorithmPurpose:"",dataCount:"",startDate:""},rules:{type:[{required:!0,message:"请输入任务类型",trigger:["change","blur"]}],dataSource:[{required:!0,message:"请输入数据来源",trigger:["change","blur"]}],algorithmPurpose:[{required:!0,message:"请输入算法目的",trigger:["change","blur"]}],dataCount:[{required:!0,message:"请输入"+this.dataCountLabel,trigger:["change","blur"]},{validator:function(t,r,a){return 15!==e.projectDetail.seriesImgFileType||/[阴阳]/.test(r)?a():a(new Error("病理大图请输入阴阳个数"))}}],startDate:[{required:!0,message:"请选择开启日期",trigger:["change","blur"]}]}}},computed:{nameData:function(){var e=this.ruleForm;return e.type+"-"+e.dataSource+e.algorithmPurpose+e.dataCount+"-"+e.startDate}},watch:{nameData:{immediate:!0,handler:function(e){this.$emit("input",e)}}},methods:{validateForm:function(e){var t=this.ruleForm;return this.$refs.ruleForm.validate(function(e){e||(t=!1)}),e&&e(t),t}}}},1871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1872),i=r(1831);for(var n in i)"default"!==n&&function(e){r.d(t,e,function(){return i[e]})}(n);var o=r(921),s=Object(o.a)(i.default,a.a,a.b,!1,null,null,null);s.options.__file="app/components/task-name-item/index.vue",t.default=s.exports},1872:function(e,t,r){"use strict";var a=r(1873);r.d(t,"a",function(){return a.a}),r.d(t,"b",function(){return a.b})},1873:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"ruleForm",staticClass:"basic-info-content",attrs:{model:e.ruleForm,rules:e.rules,"label-width":e.labelWidth+"px","label-suffix":"："}},[r("el-row",[r("el-col",{style:"width: "+(e.labelWidth+100)+"px; margin: 0 5px 0 0;",attrs:{span:4}},[r("el-form-item",{attrs:{label:e.labelName||"任务名称",prop:"type"}},[r("el-input",{attrs:{placeholder:"任务类型",clearable:""},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{width:"155px",margin:"0 10px 0 5px"},attrs:{span:4}},[r("el-form-item",{attrs:{label:"",prop:"dataSource","label-width":"0px"}},[e._v("\n        -"),r("el-input",{staticStyle:{width:"140px",margin:"0 0 0 5px"},attrs:{placeholder:"数据来源",clearable:""},model:{value:e.ruleForm.dataSource,callback:function(t){e.$set(e.ruleForm,"dataSource",t)},expression:"ruleForm.dataSource"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{width:"140px","margin-right":"10px"},attrs:{span:3}},[r("el-form-item",{attrs:{label:"",prop:"algorithmPurpose","label-width":"0px"}},[r("el-input",{attrs:{placeholder:"算法目的",clearable:""},model:{value:e.ruleForm.algorithmPurpose,callback:function(t){e.$set(e.ruleForm,"algorithmPurpose",t)},expression:"ruleForm.algorithmPurpose"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{width:"140px","margin-right":"10px"},attrs:{span:3}},[r("el-form-item",{attrs:{label:"",prop:"dataCount","label-width":"0px"}},[r("el-input",{attrs:{placeholder:""+e.dataCountLabel,clearable:""},model:{value:e.ruleForm.dataCount,callback:function(t){e.$set(e.ruleForm,"dataCount",t)},expression:"ruleForm.dataCount"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{width:"140px","margin-right":"10px"},attrs:{span:3}},[r("el-form-item",{attrs:{label:"",prop:"startDate","label-width":"0px"}},[r("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"开启日期",format:"yyyy/MM/dd","value-format":"yyyy/MM/dd",clearable:""},model:{value:e.ruleForm.startDate,callback:function(t){e.$set(e.ruleForm,"startDate",t)},expression:"ruleForm.startDate"}})],1)],1)],1)],1)},i=[];a._withStripped=!0},2085:function(e,t,r){var a=r(2086);"string"==typeof a&&(a=[[e.i,a,""]]);var i={transform:void 0};r(705)(a,i);a.locals&&(e.exports=a.locals)},2086:function(e,t,r){(e.exports=r(704)(!1)).push([e.i,".step-one-container {\n  position: relative;\n  padding: 20px;\n  color: #333;\n  background: #fff;\n}\n.step-one-container .header-wrapper {\n  display: flex;\n  font-size: 16px;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  padding-left: 10px;\n}\n",""])},315:function(e,t,r){"use strict";var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(2085);var i=o(r(76)),n=o(r(1871));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function a(i,n){try{var o=t[i](n),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.pagesBase),a(t,[{key:"complete",value:function(){var e=this.app;e.header.openControl("audittaskc"),e.header.changeselected(1),this.styleModel(1);var t=e.parpam,r=t.type,a=t.taskid;new Vue({el:"#auditTaskStepOne",components:{TaskNameItem:n.default},data:function(){return{auditTaskStatus:void 0,auditProjectList:[],auditTaskForm:{nameData:"",name:"",projectId:""},description:"",remark:"",rules:{name:[{required:!0,message:"请输入C端审核任务名称",trigger:["blur","change"]}],projectId:[{required:!0,message:"请选择审核项目",trigger:"change"}]}}},watch:{"auditTaskForm.nameData":function(e){this.auditTaskForm.name=e}},computed:{auditProjectDetail:function(){var e=this.auditTaskForm.projectId;return e&&this.auditProjectList.find(function(t){return t.auditProjectId===e})||{}}},created:function(){this.isAdd="new"===r,this.isView="view"===r,this.isEdit="edit"===r,this.queryAuditProjectList(),a&&this.queryAuditTaskDetail()},methods:{queryAuditTaskDetail:function(){var e=s(regeneratorRuntime.mark(function e(){var t,r,n,o,s,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.default.queryAuditTaskDetail({id:a});case 4:t=e.sent,r=t.data||{},n=r.name,o=r.projectId,s=r.description,u=r.remark,l=r.status,this.auditTaskStatus=l,this.auditTaskForm=Object.assign({},this.auditTaskForm,{name:n,projectId:o}),this.description=s,this.remark=u;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),queryAuditProjectList:function(){var e=s(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.queryAuditProjectList({clientType:2});case 2:t=e.sent,this.auditProjectList=t.data.list||[];case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),save:function(){var t=this,r=!0;this.$refs.taskNameRef&&this.$refs.taskNameRef.validateForm(function(e){e||(r=!1)}),this.$refs.auditTaskForm.validate(function(){var n=s(regeneratorRuntime.mark(function n(o){var s,u,l,d,c,p,m,f,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&o){n.next=2;break}return n.abrupt("return");case 2:return s=t.description,u=t.remark,l=t.isEdit,d=t.auditTaskForm,c=d.name,p=d.projectId,m={name:c,projectId:p,description:s,remark:u},f=void 0,l?(f=i.default.updateAuditTask,m.isBasic=!0,m.id=a):f=i.default.createAuditTask,n.next=9,f(m);case 9:h=n.sent,e.changePage("createaudittaskc2",{type:"edit",taskid:l?a:h.data.id,projectid:p,status:l?t.auditTaskStatus:1});case 11:case"end":return n.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}())}}})}}]),t}();e.exports=u},76:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(65);t.default=(0,a.generateRequestFn)({queryAuditTaskList:"/audit/task/search",cloneAuditTask:"/audit/task/clone",startAuditTask:"/audit/task/start",startAuditTaskC:"/audit/task/to/c/client/start",queryInfoPreStartAuditTask:"/audit/task/series/needaudit/count",queryLikeProjectList:"/audit/project/name/search",queryLikeTaskList:"/task/like/query",terminateTask:"/task/end",cloneCopyClone:"/audit/task/cloneV2",queryAuditProjectList:"/audit/project/name/venderId/search",createAuditTask:"/audit/task/create",updateAuditTask:"/audit/task/update",queryAuditTaskDetail:"/audit/task/read",queryAuditProjectCompList:"/audit/project/component/read",createAuditTaskToolComp:"/audit/task/tool/component/create",queryDoctorTaskProjectList:"/audit/project/task/doctor/project/read",queryProjectSeriesAnnotationResult:"/audit/project/series/annotation/result/read",addAuditTaskSeries:"/audit/task/series/add/",queryAuditTaskSeries:"/audit/task/series/annotation/result/read",deleteAuditTaskSeries:"/audit/task/project/series/annotation/result/delete",queryUserCountForAudit:"/user/annoable/count",queryVendorList:"/vendor/query",queryVendorUserList:"/vendor/user/list",viewComponentDetail:"/formComponent/read",queryAuditTaskToolComp:"/audit/task/tool/component/read",queryAuditTaskLesionComponent:"/audit/task/lesion/component/read",saveAuditTaskLesionComponent:"/audit/task/lesion/component/create",auditTaskUserList:"/audit/task/user/list",auditTaskUserSeriesSearch:"/audit/task/user/series/search",seriesResultTaskJoin:"/audit/project/series/result/task/join"})},805:function(e,t){e.exports='<div id=auditTaskStepOne class=step-one-container> <div class=header-wrapper> <span class=title>C端审核任务信息</span> <el-button v-if=!isView type=primary @click=save>保存</el-button> </div> <el-form ref=auditTaskForm :model=auditTaskForm :rules=rules label-width=150px label-suffix=：> <el-row v-if=isAdd> <el-col :span=24> <task-name-item ref=taskNameRef v-model=auditTaskForm.nameData label=C端审核任务名称 type-name=审核 data-count-label=标注任务id :label-width=150></task-name-item> </el-col> </el-row> <el-form-item label=C端审核任务名称 prop=name> <el-input v-model.trim=auditTaskForm.name placeholder=请输入C端审核任务名称 clearable :disabled="isAdd || isView"> </el-input> </el-form-item> <el-form-item label=所属审核项目 prop=projectId> <el-select v-model=auditTaskForm.projectId placeholder=请选择审核项目 filterable clearable reserve-keyword default-first-option :disabled="isView || isEdit || (auditTaskStatus && auditTaskStatus !== 1)"> <el-option v-for="item in auditProjectList" :key=item.auditProjectId :label=item.auditProjectName :value=item.auditProjectId></el-option> </el-select> </el-form-item> <el-form-item label=C端审核任务描述> <el-input type=textarea :rows=4 placeholder=请输入C端审核任务描述 v-model.trim=description clearable :disabled=isView></el-input> </el-form-item> <el-form-item label=C端审核任务备注> <el-input type=textarea :rows=4 placeholder=请输入C端审核任务备注 v-model.trim=remark clearable :disabled=isView> </el-input> </el-form-item> </el-form> </div> '},921:function(e,t,r){"use strict";t.a=function(e,t,r,a,i,n,o,s){var u,l="function"==typeof e?e.options:e;t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0);a&&(l.functional=!0);n&&(l._scopeId="data-v-"+n);o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=u):i&&(u=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i);if(u)if(l.functional){l._injectStyles=u;var d=l.render;l.render=function(e,t){return u.call(t),d(e,t)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,u):[u]}return{exports:e,options:l}}}});