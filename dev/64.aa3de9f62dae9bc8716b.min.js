webpackJsonp([64],{1501:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1502),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},1502:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SysNotice",inject:["sysNotice"],data:function(){return{visible:!1,content:""}},created:function(){if(this.sysNotice){var t=(this.sysNotice.children[0]||{}).remark,e=JSON.parse(t).content;e&&(this.content=e,this.visible=!0)}}}},1782:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1783),i=n(1501);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1785);var o=n(921),s=Object(o.a)(i.default,a.a,a.b,!1,null,null,null);s.options.__file="app/components/sys-notice/index.vue",e.default=s.exports},1783:function(t,e,n){"use strict";var a=n(1784);n.d(e,"a",function(){return a.a}),n.d(e,"b",function(){return a.b})},1784:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{appear:"",name:"slide"}},[t.visible?n("div",{staticClass:"sys-notice-container"},[n("i",{staticClass:"iconfont icon-bingzaotishi"}),t._v(" "),n("span",{staticClass:"content",attrs:{title:t.content}},[t._v(t._s(t.content))]),t._v(" "),n("i",{staticClass:"el-icon-close",on:{click:function(e){t.visible=!1}}})]):t._e()])},i=[];a._withStripped=!0},1785:function(t,e,n){"use strict";var a=n(1786);n.n(a)},1786:function(t,e,n){var a=n(1787);"string"==typeof a&&(a=[[t.i,a,""]]);var i={transform:void 0};n(705)(a,i);a.locals&&(t.exports=a.locals)},1787:function(t,e,n){(t.exports=n(704)(!1)).push([t.i,".slide-enter-active,\n.slide-leave-active {\n  transition: all 0.3s;\n}\n.slide-enter,\n.slide-leave-to {\n  transform: translate3d(100%, 0, 0);\n}\n.sys-notice-container {\n  height: 40px;\n  background-color: #FFFBE6;\n  border: 1px solid #FFE58F;\n  border-radius: 4px;\n  padding: 10px 10px 10px 16px;\n}\n.sys-notice-container .icon-bingzaotishi {\n  vertical-align: 4px;\n  font-size: 14px;\n  color: #FAAD14;\n}\n.sys-notice-container .content {\n  max-width: 1170px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  color: rgba(0, 0, 0, 0.65);\n}\n.sys-notice-container .el-icon-close {\n  float: right;\n  cursor: pointer;\n  padding-top: 2px;\n}\n",""])},2017:function(t,e,n){(t.exports=n(704)(!1)).push([t.i,".newtaskdetail {\n  margin: 20px 40px;\n}\n.newtaskdetail .left {\n  width: 80%;\n  float: left;\n  position: relative;\n  border-right: 1px solid #e8e8e8;\n  margin-top: 20px;\n}\n.newtaskdetail .left .infoscorll {\n  position: relative;\n  overflow: hidden;\n}\n.newtaskdetail .left .title {\n  font-size: 22px;\n  font-weight: bold;\n  border-bottom: 1px solid #6f6e6e;\n}\n.newtaskdetail .left .breadcrumb {\n  font-size: 16px;\n  margin: 15px 0;\n}\n.newtaskdetail .left .breadcrumb .back {\n  color: #bfbbbb;\n  cursor: pointer;\n}\n.newtaskdetail .left .basicinfo {\n  width: 90%;\n  font-size: 14px;\n}\n.newtaskdetail .left .basicinfo .tasktitle {\n  font-size: 16px;\n  margin-bottom: 15px;\n}\n.newtaskdetail .left .infoarea {\n  background: #fff;\n  padding: 10px 30px;\n}\n.newtaskdetail .left .infoarea > p {\n  line-height: 20px;\n  padding: 10px 0;\n}\n.newtaskdetail .left .infoarea > p span {\n  width: 45%;\n}\n.newtaskdetail .left .infoarea > p:last-child {\n  height: unset;\n}\n.newtaskdetail .left .infoarea > p:last-child span {\n  width: unset;\n}\n.newtaskdetail .left .infoarea .fujian {\n  height: 80px;\n  line-height: 80px;\n}\n.newtaskdetail .left .project {\n  width: 90%;\n  font-size: 14px;\n  margin-bottom: 20px;\n  margin-top: 10px;\n}\n.newtaskdetail .left .project .protitle {\n  font-size: 16px;\n  margin-bottom: 15px;\n}\n.newtaskdetail .left .project .proinfo {\n  padding: 10px 20px;\n  background: #fff;\n  position: relative;\n  overflow: hidden;\n}\n.newtaskdetail .left .project .proinfo p {\n  line-height: 40px;\n}\n.newtaskdetail .left .project .proinfo .pmark {\n  border: none;\n  resize: none;\n  vertical-align: text-top;\n  width: 80%;\n  background: #fff;\n}\n.newtaskdetail .right {\n  width: 15%;\n  float: right;\n  font-size: 18px;\n  font-weight: bold;\n  margin: 20px;\n}\n.newtaskdetail .right a {\n  width: 160px;\n  height: 40px;\n  line-height: 40px;\n  background: #4c9fa9;\n  color: #fff;\n  border-radius: 5px;\n  padding: 10px 20px;\n}\n",""])},296:function(t,e,n){"use strict";var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(1782));function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var o=e[i](r),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})}}var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Interstellar.pagesBase),a(e,[{key:"complete",value:function(){var t=this,e=this.app;new Vue({el:"#newTaskDetail",components:{SysNotice:i.default},provide:{sysNotice:e.constmap.SYS_NOTICE}}),ES.selctorDoc("head title").html(this.app.languageMode.getTranslate(this.app.language,"index","mine")),this.app.header.showcrube(),this.dom.find(".join").on("click",function(){t.addTaskToDoctor()}),this.dom.find(".back").on("click",function(){t.app.changePage("alltasklist")}),this.styleModel(1),this.type="doctor",this.loadDataTask()}},{key:"addTaskToDoctor",value:function(){var t=this;this.app.alert.show({title:" ",msg:"确认加入该任务？加入任务数量满5个后，需要提交已加入的任务后才能继续加入",close:!0,sure:function(){t.todoApi()}})}},{key:"todoApi",value:function(){var t=r(regeneratorRuntime.mark(function t(){var e,n,a,i,r,o,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=JSON.parse(this.app.local.get("all")),this.app.loading.show(),t.next=4,this.api.task_join({taskId:this.app.parpam.taskId,userId:e.userId});case 4:if(n=t.sent,this.app.loading.hide(),0!=n.code){t.next=32;break}if(a=this.projectInfo.data,i=a.type,r=a.clientType,o=a.seriesImgFileType,s=a.largeFigure,l=a.auditType,1===o||2===o){t.next=12;break}return Tool.goToC(this.app,{taskId:this.app.parpam.taskId,seriesImgFileType:o,type:2===r&&[2,3,4,7,8].includes(l)?[3,4,7,8].includes(l)?14:10:2===i&&2===r?6:1}),this.app.changePage("personalaccount"),t.abrupt("return");case 12:if(1!=this.tasktype&&3!=this.tasktype){t.next=25;break}if(!this.algPreAnnotation){t.next=18;break}return this.app.changePage("taskdetail",{taskId:this.app.parpam.taskId,projectId:this.projectId,type:"editor"}),t.abrupt("return");case 18:if(!s){t.next=21;break}return this.app.changePage("drapCanvas",{taskId:this.app.parpam.taskId,projectId:this.projectId,type:"editor"}),t.abrupt("return");case 21:return this.app.changePage("mark",{taskId:this.app.parpam.taskId,projectId:this.projectId,type:"editor"}),t.abrupt("return");case 23:t.next=30;break;case 25:if(!s){t.next=28;break}return window.location.href=window.location.origin+"/#!/drapCanvasAudEdit/"+this.app.parpam.taskId+"/"+this.projectId+"/check",t.abrupt("return");case 28:window.location.href=window.location.origin+"/#!/markaudit/"+this.app.parpam.taskId+"/"+this.projectId+"/check",window.location.reload();case 30:t.next=33;break;case 32:this.app.alert.show({title:"提示",msg:n.msg,close:!0});case 33:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadDataTask",value:function(){var t=r(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.app.loading.show(),t.next=3,this.api.task_user_read({taskId:this.app.parpam.taskId,userId:JSON.parse(this.app.local.get("all")).userId});case 3:e=t.sent,this.app.loading.hide(),this.algPreAnnotation=e.data.algPreAnnotation,2==e.data.type?e.data.algPreAnnotation="审核任务":e.data.algPreAnnotation=e.data.algPreAnnotation?"算法标注":"人工标注",this.tasktype=e.data.type,this.projectId=e.data.projectId,this.setData(e.data);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setData",value:function(){var t=r(regeneratorRuntime.mark(function t(e){var n,a,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dom.find(".infoarea label[data=name]").html(e.name),e.costVisible&&(this.dom.find(".cost").removeClass("hide"),this.dom.find(".infoarea label[data=cost]").html(e.cost)),this.dom.find(".infoarea label[data=taskId]").html(e.id),this.dom.find(".infoarea label[data=algPreAnnotation]").html(e.studyAnno?e.algPreAnnotation+"（以检查号为维度）":e.algPreAnnotation),this.dom.find(".infoarea label[data=startTime]").html(Tool.time(e.startTime,"yyyy-mm-dd")),this.dom.find(".infoarea label[data=seriesTotalNum]").html(e.seriesTotalNum),this.dom.find(".infoarea label[data=endTime]").html(Tool.time(e.endTime,"yyyy-mm-dd")),this.dom.find(".infoarea label[data=remark]").html(e.remark?JSON.parse('"'+e.remark+'"'):""),this.projectId=e.projectId,this.app.loading.show(),t.next=12,this.api.project_basic_read({id:e.projectId});case 12:n=t.sent,this.projectInfo=n,this.app.loading.hide(),this.dom.find('label[data="pname"]').html(n.data.name),this.dom.find(".proinfo .pmark").val(JSON.parse('"'+n.data.remark+'"')),(a=document.getElementById("remarkarea")).style.height=a.scrollHeight+"px",this.dom.find(".infoarea label[data=modality]").html(n.data.modality),this.api.data.remarkFileUrl&&JSON.parse(this.api.data.remarkFileUrl).forEach(function(t,e){this.dom.find(".imgcontrol").append('<li imgurl="'+t+'" class="controls"></li>')}),this.dom.find(".controls").on("click",function(){var t=ES.selctorDoc(i).attr("imgurl"),e=t.lastIndexOf(".");if(-1!==",jpg,png,gif,WMF,webp,".lastIndexOf(t.substring(e+1))){var n=new Image;n.onload=function(){i.dom.find(".fujianarea").html(i.outerHTML),i.initscrollmenu()},n.src=t}else if(-1!==",ogg,mp4,swf,".lastIndexOf(t.substring(e+1))){var a='<video width="600" height="350" controls>\n    <source src="'+t+'" type="video/mp4">\n    <source src="'+t+'" type="video/ogg">\n    您的浏览器不支持 video 标签。\n</video>';i.dom.find(".fujianarea").html(a),i.initscrollmenu()}}),this.dom.find(".controls").eq(0).click();case 23:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}();t.exports=o},780:function(t,e,n){var a=n(2017);"string"==typeof a&&(a=[[t.i,a,""]]);var i={transform:void 0};n(705)(a,i);a.locals&&(t.exports=a.locals)},781:function(t,e,n){"use strict";var a="/task/user/read",i="/project/basic/read",r="/user/task/join",o={task_user_read:function(t){return this.HttpRequest.POST(a,t)},project_basic_read:function(t){return this.HttpRequest.POST(i,t)},task_join:function(t){return this.HttpRequest.POST(r,t)}};t.exports=o},782:function(t,e){t.exports='<div id=newTaskDetail class=newtaskdetail> <sys-notice></sys-notice> <div class=left> <span class=title>新任务</span> <div class=breadcrumb> <span class=back>任务市场></span> <span>任务详情</span> </div> <div class=infoscorll> <div> <div class=basicinfo> <p class=tasktitle>任务基本信息</p> <div class=infoarea> <p> <span>任务名称：<label data=name></label></span> <span>任务序号：<label data=taskId></label></span> <span class="cost hide">标注单价：<label data=cost></label></span> </p> <p> <span>任务类型：<label data=algPreAnnotation></label></span> <span>所属项目：<label data=pname></label></span> </p> <p> <span>开始时间：<label data=startTime></label></span> <span>结束时间：<label data=endTime></label></span> </p> <p> <span>样本类型：<label data=modality></label></span> <span>样本总量：<label data=seriesTotalNum></label></span> </p> <p> <span>任务备注：<label data=remark></label></span> </p> </div> </div> <div class=project> <p class=protitle>项目详情</p> <div class=proinfo> <div> <p> <span>项目名称：<label data=pname></label></span> </p> <p> <span>项目描述：</span><textarea id=remarkarea class=pmark disabled=disabled></textarea> </p> <div> <span>附件信息：</span> <div class=fujianarea></div> </div> </div> </div> </div> <div style=height:20px></div> </div> </div> </div> <div class=right> <a class=join>确认加入</a> </div> </div> '},921:function(t,e,n){"use strict";e.a=function(t,e,n,a,i,r,o,s){var l,p="function"==typeof t?t.options:t;e&&(p.render=e,p.staticRenderFns=n,p._compiled=!0);a&&(p.functional=!0);r&&(p._scopeId="data-v-"+r);o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},p._ssrRegister=l):i&&(l=s?function(){i.call(this,(p.functional?this.parent:this).$root.$options.shadowRoot)}:i);if(l)if(p.functional){p._injectStyles=l;var d=p.render;p.render=function(t,e){return l.call(e),d(t,e)}}else{var c=p.beforeCreate;p.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:p}}}});