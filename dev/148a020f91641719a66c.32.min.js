webpackJsonp([32,52],{

/***/ 196:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var createauditpro2 = function (_Interstellar$pagesBa) {
  _inherits(createauditpro2, _Interstellar$pagesBa);

  function createauditpro2() {
    _classCallCheck(this, createauditpro2);

    return _possibleConstructorReturn(this, (createauditpro2.__proto__ || Object.getPrototypeOf(createauditpro2)).apply(this, arguments));
  }

  _createClass(createauditpro2, [{
    key: 'complete',
    value: function complete() {
      this.app.header.openControl('auditproject');
      this.app.header.changeselected(2);
      this.styleModel(1);
      this.resize();
      this.maxnum = 10000;
      this.type = this.app.parpam.type;
      this.projectId = this.app.parpam.projectid;
      this.status = this.app.parpam.status;
      this.closetip = false;
      this.loadmodule();
      this.render();
      //按钮事件
      this.btnEvent();
      this.initscroll();
    }

    //点击事件

  }, {
    key: 'btnEvent',
    value: function btnEvent() {
      var _this2 = this;

      var that = this;
      //是否需要展示报告
      this.dom.find('.showReport .check-box').on('click', function (e) {
        that.radioClick(e, 'showReport');
      });
      //是否需要以检查号级别进行审核
      this.dom.find('.studyAnno .check-box').on('click', function (e) {
        that.radioClick(e, 'studyAnno');
      });
      //是否超大图
      this.dom.find('.largeFigure .check-box').on('click', function (e) {
        that.radioClick(e, 'largeFigure');
      });
      //影像标注添加
      this.dom.find('.bigadd').on('click', function () {
        _this2.app.session.set('ischanged', true);
        _this2.multlist.addli();
        _this2.initscroll();
      });
      this.dom.find('.save').on('click', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {
        var res;
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _this2.dom.find('.redborder').removeClass('redborder');
                _this2.dom.find('.required').remove();
                if (_this2.dom.find('.inputLine').dom) {
                  _this2.dom.find('.inputLine').dom.forEach(function (val, idx) {
                    if (Tool.checkForm(ES.selctorDoc(val).dom, 'red') !== '') {
                      val.find('.' + val.attr('redlabel')).addClass('redborder');
                      val.find('.' + val.attr('redlabel')).after('<span class="required">' + Tool.checkForm(ES.selctorDoc(val).dom, 'red') + '</span>');
                    }
                  });
                }

                if (!(_this2.dom.find('.redborder').dom && _this2.dom.find('.redborder').dom.some(function (item) {
                  return item.box().clientHeight !== 0;
                }))) {
                  _context2.next = 7;
                  break;
                }

                return _context2.abrupt('return', false);

              case 7:
                if (!(_this2.closetip && JSON.stringify(_this2.importProjectList) !== '[]')) {
                  _context2.next = 11;
                  break;
                }

                _this2.app.alert.show({
                  title: ' ',
                  msg: '<span style="font-size: 15px">【病灶类型】及【标注工具】与前一次保存版本不一致，是否继续保存。继续保存将清空之前在第三步的“所属项目”。若该审核项目下已有相关审核任务，该任务下审核源也将清空。</span>',
                  close: true,
                  sure: function () {
                    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
                      var res;
                      return regeneratorRuntime.wrap(function _callee$(_context) {
                        while (1) {
                          switch (_context.prev = _context.next) {
                            case 0:
                              _this2.app.loading.show();
                              _context.next = 3;
                              return _this2.api.matchrate_edit(_this2.model.getData('apiData'));

                            case 3:
                              res = _context.sent;

                              _this2.app.loading.hide();
                              if (res.code == 0) {
                                _this2.closetip = false;
                                _this2.app.session.clearAll();
                                _this2.app.changePage('createauditpro3', { type: 'edit', projectid: _this2.projectId, status: _this2.status });
                              } else {
                                _this2.errorshow(res.msg);
                              }

                            case 6:
                            case 'end':
                              return _context.stop();
                          }
                        }
                      }, _callee, _this2);
                    }));

                    function sure() {
                      return _ref2.apply(this, arguments);
                    }

                    return sure;
                  }()
                });
                _context2.next = 17;
                break;

              case 11:
                _this2.app.loading.show();
                _context2.next = 14;
                return _this2.api.matchrate_edit(_this2.model.getData('apiData'));

              case 14:
                res = _context2.sent;

                _this2.app.loading.hide();
                if (res.code == 0) {
                  _this2.closetip = false;
                  _this2.app.session.clearAll();
                  _this2.app.changePage('createauditpro3', { type: 'edit', projectid: _this2.projectId, status: _this2.status });
                } else {
                  _this2.errorshow(res.msg);
                }

              case 17:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, _this2);
      })));
    }
  }, {
    key: 'radioClick',
    value: function radioClick(e, type) {
      this.app.session.set('ischanged', true);
      var dom = ES.selctorDoc(e.target);
      if (dom.hasClass('choose')) {
        dom.removeClass('choose');
        this.model.apiData[type] = false;
        this.model.setData('apiData', this.model.apiData);
      } else {
        dom.addClass('choose');
        this.model.apiData[type] = true;
        this.model.setData('apiData', this.model.apiData);
      }
    }
  }, {
    key: 'render',
    value: function () {
      var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {
        var pagedata, json, res, json1, finalarr;
        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                pagedata = {};
                json = {
                  auditProjectId: this.projectId
                };

                this.app.loading.show();
                _context3.next = 5;
                return this.api.auditproject_read(json);

              case 5:
                res = _context3.sent;

                this.app.loading.hide();
                if (res.code == 0) {
                  pagedata = res.data;
                  this.model.apiData.imgMactchrateList = pagedata.imgMactchrateList;
                  this.model.apiData.showReport = pagedata.showReport ? pagedata.showReport : false;
                  this.model.apiData.auditProjectId = pagedata.auditProjectId;
                  this.importProjectList = pagedata.importProjectList;
                  json1 = {
                    id: this.projectId
                  };

                  if (pagedata.showReport) {
                    this.dom.find('.showReport .check-box').click();
                  }
                  /*if (pagedata.studyAnno) {
                    this.dom.find('.studyAnno .check-box').click()
                  }*/
                  if (pagedata.largeFigure) {
                    this.dom.find('.largeFigure .check-box').click();
                  }
                  finalarr = [];

                  pagedata.imgMactchrateList.forEach(function (val) {
                    var obj = {
                      id: val.imgAnnoMactchrateId,
                      toolList: [{ id: 1, type: val.imageToolType, property: val.matchrate }],
                      type: val.imageType,
                      annotationItemList: []
                    };
                    finalarr.push(obj);
                  });
                  if (this.type == 'view' || this.status == 2) {
                    this.dom.find('.save').remove();
                    this.multlist.setData(finalarr, 'view');
                    this.todisabled();
                  } else {
                    this.multlist.setData(finalarr);
                  }
                  this.app.session.clearAll();
                } else {
                  this.errorshow(res.msg);
                }
                this.initscroll();

              case 9:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function render() {
        return _ref3.apply(this, arguments);
      }

      return render;
    }()

    //加载各个模块

  }, {
    key: 'loadmodule',
    value: function loadmodule() {
      var _this3 = this;

      var multiliModule = __webpack_require__(837);
      this.multlist = this.app.loadModule(multiliModule, this.dom.find('.multiitem'), { protype: 'audit' });
      this.multlist.event._addEvent('bztoollist.toolListchange', function () {
        _this3.model.apiData.imgMactchrateList = [];
        var temp = _this3.multlist.getData();
        temp.forEach(function (val, idx) {
          var obj = {};
          obj.imgAnnoMactchrateId = val.id;
          obj.imageType = val.type;
          obj.imageToolType = val.toolList[0].type;
          obj.matchrate = parseFloat(val.toolList[0].property);
          obj.action = val.action;
          _this3.model.apiData.imgMactchrateList.push(obj);
        });
        _this3.app.session.set('ischanged', true);
        _this3.model.setData('apiData', _this3.model.apiData);
        _this3.initscroll();
      });
      this.multlist.event._addEvent('bztoollist.specialchange', function (value) {
        _this3.closetip = true;
      });
      this.multlist.event._addEvent('bztoollist.refresh', function (value) {
        _this3.app.changePage('createauditpro2', { type: _this3.type, projectid: _this3.projectId, status: _this3.status });
      });
    }
  }, {
    key: 'todisabled',
    value: function todisabled() {
      this.dom.find('.bigadd').addClass('hide');
      this.dom.find('.check-box').off('click');
      this.dom.find('.inputBox').attr('readonly', 'readonly');
      this.multlist.disable();
    }
  }, {
    key: 'errorshow',
    value: function errorshow(msg) {
      this.app.alert.show({
        title: ' ',
        msg: msg,
        close: false
      });
    }
  }, {
    key: 'resize',
    value: function resize() {
      var ch = ES.selctorDoc(window).box().clientHeight - 100;
      var cw = ES.selctorDoc(window).box().clientWidth - 40;
      ES.selctorDoc('.createauditpro2').css({ 'height': ch, 'width': cw });
      this.initscroll();
    }
  }, {
    key: 'initscroll',
    value: function initscroll() {
      if (this.myScroll) {
        this.myScroll.refresh();
        return;
      }
      var rid = 'aaa_' + Math.floor(new Date().getTime() * Math.random());
      ES.selctorDoc('.createauditpro2').attr('id', rid);
      this.myScroll = new IScroll('#' + rid, {
        scrollbars: true,
        mouseWheel: true,
        interactiveScrollbars: true,
        hideScrollbar: false,
        vScrollbar: true,
        shrinkScrollbars: 'scale',
        fadeScrollbars: false,
        disableMouse: true,
        disablePointer: true
      });
    }
  }]);

  return createauditpro2;
}(Interstellar.pagesBase);

module.exports = createauditpro2;

/***/ }),

/***/ 559:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(957);
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(471)(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./createauditpro2.less", function() {
			var newContent = require("!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./createauditpro2.less");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ 560:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var urlDict = {
  matchrate_edit: '/audit/imgannotool/matchrate/edit',
  auditproject_read: '/audit/project/read'
};
var api = {

  matchrate_edit: function matchrate_edit(value) {
    return this.HttpRequest.POST(urlDict.matchrate_edit, value);
  },

  auditproject_read: function auditproject_read(value) {
    return this.HttpRequest.POST(urlDict.auditproject_read, value);
  }
};
module.exports = api;

/***/ }),

/***/ 561:
/***/ (function(module, exports) {

module.exports = "<div class=createauditpro2> <div> <p class=title>第二步：审核项目范围设置</p> <a class=\"biaozhubtn save\">保存</a> <div class=showReport> <i class=check-box></i> <span>是否需要展示报告</span> </div> <div class=largeFigure> <i class=check-box></i> <span>是否基于超大图审核</span> </div> <span class=yxtitle>影像标注匹配设置</span> <i class=\"iconfont icon-tianjia bigadd\" title=\"\"></i> <div class=multi> <ul class=multiitem> </ul> </div> </div> </div> ";

/***/ }),

/***/ 562:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//这边基本上引入需要使用的资源less，api，需要使用的模块等等。

var createauditpro2 = function (_Interstellar$modelBa) {
    _inherits(createauditpro2, _Interstellar$modelBa);

    function createauditpro2(app) {
        _classCallCheck(this, createauditpro2);

        var _this = _possibleConstructorReturn(this, (createauditpro2.__proto__ || Object.getPrototypeOf(createauditpro2)).call(this, app));

        _this.apiData = { projectId: parseInt(app.parpam.projectid), showReport: false, imgMactchrateList: [] };

        return _this;
    }

    return createauditpro2;
}(Interstellar.modelBase);

module.exports = createauditpro2;

/***/ }),

/***/ 638:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

__webpack_require__(737);
// var html = require('./tpl.html')

var index = function (_Interstellar$moduleB) {
  _inherits(index, _Interstellar$moduleB);

  function index(app, dom, value, addMode) {
    _classCallCheck(this, index);

    var _this = _possibleConstructorReturn(this, (index.__proto__ || Object.getPrototypeOf(index)).call(this, app, dom, value, addMode));

    _this.html = __webpack_require__(739);
    _this.name = "dropDown";
    return _this;
  }

  _createClass(index, [{
    key: 'complete',
    value: function complete() {
      this.dom.find('.drop-down').addClass(this.nowParam.className);
      var cw = ES.selctorDoc(window).box().clientWidth;
      var ch = ES.selctorDoc(window).box().clientHeight;
      this.dom.find('.mask').css({ 'width': cw, 'height': ch, 'left': 0, 'top': 0 });
      this.datatype = this.nowParam.datatype ? this.nowParam.datatype : 'obj';
      this.input = this.nowParam.input == undefined ? false : this.nowParam.input;
      this.maxshownum = this.nowParam.maxshownum == undefined ? 10 : this.nowParam.maxshownum;
      this.render();
    }
  }, {
    key: 'render',
    value: function render(value) {
      if (!value) {
        value = this.nowParam;
      }
      var that = this;
      that.firstSelect = value.firstSelect ? value.firstSelect : value.data[0];
      this.dom.find('.selected1 input').attr('data-idx', that.firstSelect.idx);
      this.dom.find('.selected1 input').attr('placeholder', that.firstSelect.val);
      that.renderHtml(value.data);
      that.bindEvent();
      that.event._dispatch('dropDown.done');
    }
  }, {
    key: 'renderHtml',
    value: function renderHtml(value) {
      // console.log('==========value',value,this.datatype)
      var that = this;
      that.data = value;
      var strHtml = '';
      if (this.datatype == 'obj') {
        for (var i = 0; i < value.length; i++) {
          if (that.firstSelect == value[i]) {
            strHtml += '<li class="option select" title="' + value[i].val + '" data-idx=' + value[i].idx + '' + ' props=' + (value[i].props ? value[i].props : "") + '>' + value[i].val + '</li>';
          } else {
            strHtml += '<li class="option" title="' + value[i].val + '" data-idx=' + value[i].idx + '' + ' props=' + (value[i].props ? value[i].props : "") + '>' + value[i].val + '</li>';
          }
        }
      } else {
        for (var _i = 0; _i < value.length; _i++) {
          if (that.firstSelect == value[_i]) {
            strHtml += '<li class="option select" title="' + value[_i] + '" data-idx=' + value[_i] + '>' + value[_i] + '</li>';
          } else {
            strHtml += '<li class="option" title="' + value[_i] + '" data-idx=' + value[_i] + '>' + value[_i] + '</li>';
          }
        }
      }
      this.dom.find('._dropdown1 .selectbox').html(strHtml);
      this.dom.find('.option').on('click', function () {
        that.dom.find('.option').removeClass('select');
        ES.selctorDoc(this).addClass('select');
        that.dom.find('.selected1 input').val(ES.selctorDoc(this).html());
        that.dom.find('.selected1 input').attr('data-idx', ES.selctorDoc(this).attr('data-idx'));
        that.dom.find('.selected1 input').attr('props', ES.selctorDoc(this).attr('props'));
        that.dom.find('._dropdown1').hide();
        that.dom.find('.icon').removeClass('drop');
        that.event._dispatch('option.click', {
          val: that.dom.find('.selected1 input').val(),
          idx: that.dom.find('.selected1 input').attr('data-idx'),
          props: that.dom.find('.selected1 input').attr('props')
        });
      });
      that.initscrollmenu();
    }
  }, {
    key: 'bindEvent',
    value: function bindEvent() {
      var that = this;
      this.dom.find('.selected1').on('click', function (e) {
        e.stopPropagation();
        var dom = ES.selctorDoc(this);
        dom.find('.icon').addClass('drop');
        dom.parent().find('._dropdown1').show();
        if (that.dom.find('.option').dom.length > that.maxshownum) {
          that.dom.find('.scroll').css({ height: that.dom.find('.drop-down').box().clientHeight * that.maxshownum });
          that.dom.find('.scroll').css({ overflow: 'hidden' });
          that.initscrollmenu();
        }
        that.dom.find('.mask').show();
      });
      this.dom.find('.selected1').on('mouseover', function () {
        var dom = ES.selctorDoc(this);
        var data = dom.find('input').attr('data-idx');
        if (data) {
          ES.selctorDoc(this).find('.icon-shanchutishiicon').show();
          ES.selctorDoc(this).find('.icon').hide();
        }
      });
      this.dom.find('.selected1').on('mouseout', function () {
        ES.selctorDoc(this).find('.icon-shanchutishiicon').hide();
        ES.selctorDoc(this).find('.icon').show();
      });
      this.dom.find('.selected1 .icon-shanchutishiicon').on('click', function (e) {
        e.stopPropagation();
        ES.selctorDoc(this).parent().find('.nowname').attr('placeholder', that.firstSelect.val);
        ES.selctorDoc(this).parent().find('.nowname').val('');
        ES.selctorDoc(this).parent().find('.nowname').attr('data-idx', that.firstSelect.idx);
        that.dom.find('.select').removeClass('select');
        that.event._dispatch('dropDown.clear');
      });
      this.dom.find('._dropdown1 .mask').on('click', function () {
        ES.selctorDoc(this).parent().hide();
        that.dom.find('.icon').removeClass('drop');
        that.dom.find('.loading_xlk').addClass('drop');
      });
      if (!that.input) {
        that.dom.find('.nowname').attr('readonly', 'readonly');
      } else {
        this.dom.find('.nowname').on('input', function () {
          that.event._dispatch('drop.input', { data: ES.selctorDoc(this).val(), classname: ES.selctorDoc(this).parent().parent().parent().attr('class') });
        });
        this.dom.find('.nowname').on('focus', function () {
          that.dom.find('.nowname').attr('placeholder', '');
        });
        this.dom.find('.nowname').on('blur', function () {
          that.dom.find('.nowname').attr('placeholder', that.nowParam.firstSelect.val);
        });
      }
    }
  }, {
    key: 'reset',
    value: function reset(value) {
      this.dom.find('.selected1 input').attr('placeholder', this.nowParam.firstSelect.val);
      this.dom.find('.selected1 input').val('');
      this.dom.find('.selected1 input').attr('data-idx', this.nowParam.firstSelect.idx);
      this.dom.find('.select').removeClass('select');
      this.dom.find('._dropdown1 .selectbox .option').eq(0).addClass('select');
      if (!value) {
        this.event._dispatch('option.click', {
          val: this.dom.find('.selected1 input').val(),
          idx: this.dom.find('.selected1 input').attr('data-idx')
        });
      }
    }
  }, {
    key: 'setChoose',
    value: function setChoose(value) {
      var that = this;
      that.data.forEach(function (val, idx) {
        if (val.idx == value) {
          this.dom.find('.selected1 input').attr('data-idx', val.idx);
          this.dom.find('.selected1 input').attr('placeholder', val.val);
        }
      });
    }
  }, {
    key: 'disable',
    value: function disable() {
      var that = this;
      that.dom.find('.selected1').off('click');
      that.dom.find('.selected1').off('mouseover');
      that.dom.find('.nowname').addClass('drop_disabled');
      that.dom.find('.nowname').attr('readonly', 'readonly');
      that.dom.find('.drop-down').addClass('drop_disabled');
    }
  }, {
    key: 'able',
    value: function able() {
      var that = this;
      that.dom.find('.nowname').removeClass('drop_disabled');
      that.dom.find('.drop-down').removeClass('drop_disabled');
      that.dom.find('.selected1').on('click', function (e) {
        e.stopPropagation();
        var dom = ES.selctorDoc(this).parent();
        dom.find('.icon').addClass('drop');
        dom.parent().find('._dropdown1').show();
        if (that.dom.find('.option').dom.length > that.maxshownum) {
          that.dom.find('.scroll').css({ height: that.dom.find('.drop-down').box().clientHeight * that.maxshownum });
          that.dom.find('.scroll').css({ overflow: 'hidden' });
          that.initscrollmenu();
        }
        that.dom.find('.mask').show();
      });
    }
  }, {
    key: 'loading',
    value: function loading(bool) {
      if (bool) {
        this.dom.find('.selectbox').html('');
        this.dom.find('.loading_xlk').removeClass('hide');
      } else {
        this.dom.find('.loading_xlk').addClass('hide');
      }
    }
  }, {
    key: 'initscrollmenu',
    value: function initscrollmenu() {
      if (this.myScroll1) {
        this.myScroll1.refresh();
        return;
      }
      var rid = 'aaa_' + Math.floor(new Date().getTime() * Math.random());
      this.dom.find('.scroll').attr('id', rid);
      this.myScroll1 = new IScroll('#' + rid, {
        scrollbars: true,
        mouseWheel: true,
        interactiveScrollbars: true,
        hideScrollbar: false,
        vScrollbar: true,
        shrinkScrollbars: 'scale',
        fadeScrollbars: false,
        disableMouse: true,
        disablePointer: true
      });
    }
  }]);

  return index;
}(Interstellar.moduleBase);

//原型链一定要有的


module.exports = index;

/***/ }),

/***/ 737:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(738);
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(471)(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./drop.less", function() {
			var newContent = require("!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./drop.less");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ 738:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(470)(false);
// imports


// module
exports.push([module.i, "@charset \"UTF-8\";\n.ctdrop {\n  background: none;\n  border: 1px solid #D2EFFC;\n  width: 90px;\n  color: #D2EFFC;\n  min-width: 90px;\n  font-size: 12px;\n  border-radius: 4px;\n  line-height: 25px;\n}\n.ctdrop .selected1 {\n  margin-left: 10px;\n  border: 0;\n}\n.ctdrop .selected1 input {\n  display: inline-block;\n  color: #D2EFFC;\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n}\n.ctdrop .selected1 .icon-icon-test3 {\n  color: #D2EFFC;\n  font-size: 0.5rem;\n  margin-right: 1px;\n}\n.ctdrop .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.xlk,\n.kxlk {\n  background: #fff;\n  width: 90px;\n  color: #333;\n  font-size: 12px;\n  position: relative;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n.xlk .selected1,\n.kxlk .selected1 {\n  width: 100%;\n  height: 100%;\n}\n.xlk .selected1 .nowname,\n.kxlk .selected1 .nowname {\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  border: none;\n  background: #fff;\n  height: 100%;\n  width: 88%;\n  margin-left: 10px;\n}\n.xlk .selected1 img,\n.kxlk .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.xlk .selected1 .drop_disabled,\n.kxlk .selected1 .drop_disabled {\n  background: #e8e8e8;\n  cursor: not-allowed !important;\n}\n.listxlk {\n  background: #fff;\n  width: 90%;\n  height: 38px;\n  color: #333;\n  font-size: 12px;\n  position: relative;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n.listxlk .selected1 {\n  width: 100%;\n  height: 90%;\n}\n.listxlk .selected1 input {\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  border: none;\n  background: #fff;\n  height: 100%;\n  width: unset;\n  margin-left: 10px;\n}\n.listxlk .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.listxlk .selectbox {\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n}\n.listxlk .selectbox .option {\n  height: 30px;\n  line-height: 30px;\n}\n.listxlk .selectbox .scroll {\n  overflow: hidden;\n  position: relative;\n}\n.selected1 {\n  text-align: left;\n  line-height: inherit;\n  font-family: \"Microsoft YaHei\";\n  font-size: inherit;\n  color: #333;\n  position: relative;\n  cursor: pointer;\n}\n.selected1 .nowname {\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  background: #fff;\n  width: 100%;\n  height: 100%;\n}\n.selected1 .icon {\n  transform: rotate(-180deg);\n  vertical-align: middle;\n  transition: all 0.3s;\n  display: inline-block;\n  font-size: 12px;\n  position: absolute;\n  top: 0;\n  right: 5px;\n}\n.selected1 .drop {\n  transform: rotate(0deg);\n}\n.selected1 .icon-shanchutishiicon {\n  position: absolute;\n  font-size: 12px;\n  color: #e6e6e6;\n  width: 12px;\n  top: 0;\n  right: 5px;\n}\n.selected1 .drop_disabled {\n  background: #e8e8e8;\n  cursor: not-allowed !important;\n}\n._dropdown1 {\n  position: absolute;\n  display: none;\n  width: 100%;\n}\n._dropdown1 ul {\n  list-style: none;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 4px;\n  overflow: hidden;\n  background: #fff;\n  font-family: \"Microsoft YaHei\";\n  font-size: inherit;\n  z-index: 15;\n  color: #333;\n  border: 1px solid #e8e8e8;\n}\n._dropdown1 li {\n  margin: 0 5px;\n  min-height: 24px;\n  text-align: left;\n  cursor: pointer;\n  white-space: nowrap;\n  overflow: hidden;\n}\n._dropdown1 li:hover {\n  color: #448E97;\n  background: #ECF3F4;\n}\n._dropdown1 li.select {\n  color: #333333;\n  background: #ECF3F4;\n}\n._dropdown1 .mask {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9;\n}\n._dropdown1 .scroll {\n  position: relative;\n}\n.drop-down .selectbox {\n  min-height: 50px;\n}\n.drop-down .loading_xlk {\n  background: url(/images/loading1.gif) no-repeat 35px -28px;\n  height: 50px;\n  width: 100%;\n  top: 33px;\n  z-index: 2000;\n  position: absolute;\n}\n.drop_disabled .selected1 {\n  background: #e8e8e8;\n}\n.keepwhite {\n  background: #fff!important;\n}\n.keepwhite .selected1 {\n  background: #fff!important;\n}\n", ""]);

// exports


/***/ }),

/***/ 739:
/***/ (function(module, exports) {

module.exports = "<div class=drop-down> <div class=selected1> <input class=nowname type=text /> <i class=\"iconfont icon-shanchutishiicon\" style=display:none></i> <i class=\"iconfont icon-icon-test3 icon\"></i> </div> <div class=_dropdown1> <div class=scroll> <ul class=selectbox> </ul> </div> <div class=mask></div> </div> <div class=\"loading_xlk hide\"></div> </div>";

/***/ }),

/***/ 837:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

__webpack_require__(838);
// var html = require('./tpl.html')

var bztoollist = function (_Interstellar$moduleB) {
    _inherits(bztoollist, _Interstellar$moduleB);

    function bztoollist(app, dom, value, addMode) {
        _classCallCheck(this, bztoollist);

        var _this = _possibleConstructorReturn(this, (bztoollist.__proto__ || Object.getPrototypeOf(bztoollist)).call(this, app, dom, value, addMode));

        _this.html = __webpack_require__(840);
        _this.name = "bztoollist";
        _this.data = [];
        return _this;
    }

    _createClass(bztoollist, [{
        key: 'complete',
        value: function complete() {
            this.multiliModule = __webpack_require__(841);
        }
    }, {
        key: 'setData',
        value: function setData(value, type) {
            if (value.length != 0) {
                for (var i = 0; i < value.length; i++) {
                    this.addli(value[i], type);
                }
            }
        }
    }, {
        key: 'getData',
        value: function getData() {
            var _this2 = this;

            var that = this;
            var temp = [];
            console.log(this.data);
            var tempstr = ',';
            for (var i = 0; i < this.data.length; i++) {
                if (this.data[i].action == 3 && !this.data[i].id) {} else {
                    var _ret = function () {
                        console.log(that.data[i].type, 'that.data[i].type');
                        if (tempstr.lastIndexOf(',' + that.data[i].type + ',') !== -1 && that.data[i].type && _this2.nowParam.protype !== 'audit') {
                            that.app.alert.show({
                                title: ' ',
                                msg: '该影像标注已存在',
                                close: true
                            });
                            that.data[i].type == '';
                            that.ulitem[i].cleartype();
                            return {
                                v: void 0
                            };
                        } else {
                            tempstr += that.data[i].type + ',';
                        }
                        var tempD = { id: that.data[i].id ? that.data[i].id : null, action: that.data[i].id ? that.data[i].action : 1, type: _this2.data[i].type, annotationItemList: _this2.data[i].annotationItemList, toolList: [] };
                        _this2.data[i].toolList.map(function (res) {
                            if (res.action == 3 && !res.id) {} else {
                                tempD.toolList.push(res);
                            }
                        });
                        temp.push(tempD);
                    }();

                    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
                }
            }
            console.log(temp, 'this.data');
            return temp; //this.data
        }
    }, {
        key: 'addli',
        value: function addli(value, type) {
            var _this3 = this;

            console.log(value, 'value');
            this.dom.append('<li class="multili multili' + this.data.length + '"></li>');
            var temp = value ? value : { id: null, action: 1, annotationItemList: [], toolList: [{ id: null, action: 1 }] };
            temp.action = 1;
            var hascomp = false;
            if (value) {
                if (value.id) {
                    temp.action = 2;
                }
                if (value.annotationItemList.length > 0) {
                    hascomp = true;
                }
            }
            this.data.push(temp);
            this.ulitem = {};
            this.ulitem[this.data.length - 1] = this.app.loadModule(this.multiliModule, this.dom.find('.multili' + (this.data.length - 1)), {
                num: this.data.length - 1,
                toolList: temp.toolList,
                data: temp,
                type: type,
                hascomp: hascomp,
                protype: this.nowParam.protype
            });
            this.ulitem[this.data.length - 1].event._addEvent('li.delete', function (value) {
                //console.log('heredelete')
                _this3.dom.find('.multili' + value.num).remove();
                _this3.data[value.num].action = 3;
                _this3.event._dispatch('bztoollist.toolListchange');
            });
            this.ulitem[this.data.length - 1].event._addEvent('li.datachange', function (value) {
                console.log(value, 'li.datachange');
                _this3.data[value.num]['type'] = value.data.type;
                var newarr = value.data.toolList.filter(function (val) {
                    return val != undefined;
                });
                _this3.data[value.num]['toolList'] = newarr;
                _this3.event._dispatch('bztoollist.toolListchange');
            });
            this.ulitem[this.data.length - 1].event._addEvent('li.specialchange', function (value) {
                _this3.event._dispatch('bztoollist.specialchange');
            });
            this.ulitem[this.data.length - 1].event._addEvent('li.adddata', function (v1) {
                _this3.event._dispatch('bztoollist.add', v1);
            });
            this.ulitem[this.data.length - 1].event._addEvent('li.showdata', function (v1) {
                _this3.event._dispatch('bztoollist.show', v1);
            });
            this.event._dispatch('bztoollist.toolListchange');
        }
    }, {
        key: 'disable',
        value: function disable() {
            //console.log(ES.selctorDoc('.icon-shanchu'))
            ES.selctorDoc('.icon-shanchu').addClass('hide');
            ES.selctorDoc('.icon-tianjia').addClass('hide');
            ES.selctorDoc('.actionul .bzdata').addClass('hide');
        }
    }]);

    return bztoollist;
}(Interstellar.moduleBase);

//原型链一定要有的


module.exports = bztoollist;

/***/ }),

/***/ 838:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(839);
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(471)(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./bztoollist.less", function() {
			var newContent = require("!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./bztoollist.less");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ 839:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(470)(false);
// imports


// module
exports.push([module.i, ".bztoolli {\n  position: relative;\n}\n.bztoolli .icon-shanchu {\n  position: absolute;\n  margin-left: 10px;\n  color: red;\n  cursor: pointer;\n  font-size: 18px;\n}\n.bztoolli .borderarea {\n  border: 1px dashed #e8e8e8;\n  padding: 20px;\n  border-radius: 4px;\n  display: inline-block;\n  width: 93%;\n}\n.bztoolli .borderarea > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.bztoolli .borderarea .bzlx {\n  vertical-align: top;\n}\n.bztoolli .borderarea .toolarea {\n  display: inline-block;\n}\n.bztoolli .borderarea .toolarea .toolitem > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.bztoolli .borderarea .toolarea .mt10 {\n  margin-top: 10px;\n}\n.bztoolli .actionarea {\n  float: right;\n  margin-right: 20px;\n  margin-top: 10px;\n  position: relative;\n}\n.bztoolli .actionarea .icon-caozuo {\n  cursor: pointer;\n}\n.bztoolli .actionarea .actionul {\n  position: absolute;\n  width: 120px;\n  background: #fff;\n  text-align: center;\n  left: -50px;\n  border-radius: 4px;\n  box-shadow: 0px 2px 4px 2px rgba(180, 180, 180, 0.5);\n  z-index: 20;\n}\n.bztoolli .actionarea .actionul .actionli {\n  height: 40px;\n  line-height: 40px;\n  cursor: pointer;\n}\n.bztoolli .actionarea .actionul .actionli:hover {\n  background: #ECF3F4;\n}\n.bztoolli .actionarea .mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n}\n.bztoolli .bzxlk {\n  display: inline-block;\n}\n.bztoolli .xlk {\n  width: 130px!important;\n}\n.bztoolli .xlk .nowname {\n  width: 90px;\n}\n.bztoolli .adddelli {\n  width: 55px;\n}\n.bztoolli .adddelli i {\n  cursor: pointer;\n  font-size: 16px;\n}\n.bztoolli .adddelli .icon-tianjia {\n  color: #4c9fa9;\n}\n.bztoolli .adddelli .icon-shanchu {\n  color: red;\n}\n", ""]);

// exports


/***/ }),

/***/ 840:
/***/ (function(module, exports) {

module.exports = "";

/***/ }),

/***/ 841:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

__webpack_require__(842);
// var html = require('./tpl.html')

var bztoolli = function (_Interstellar$moduleB) {
    _inherits(bztoolli, _Interstellar$moduleB);

    function bztoolli(app, dom, value, addMode) {
        _classCallCheck(this, bztoolli);

        var _this = _possibleConstructorReturn(this, (bztoolli.__proto__ || Object.getPrototypeOf(bztoolli)).call(this, app, dom, value, addMode));

        _this.html = __webpack_require__(844);
        _this.name = "bztoolli";
        return _this;
    }

    _createClass(bztoolli, [{
        key: 'complete',
        value: function complete() {
            var that = this;
            this.dropdown1 = __webpack_require__(638);
            this.bzlx = that.app.loadModule(that.dropdown1, that.dom.find('.bzxlk'), {
                className: 'xlk',
                firstSelect: {
                    val: '病灶类型',
                    idx: ''
                },
                data: Tool.configxlkformat(that.app.constmap.LESION),
                maxshownum: 5,
                input: true
            });
            that.bzlx.event._addEvent('option.click', function (value) {
                that.apidata.type = value.idx;
                that.event._dispatch('li.datachange', { num: that.nowParam.num, data: that.apidata });
                that.event._dispatch('li.specialchange');
            });
            that.bzlx.event._addEvent('dropDown.clear', function (value) {
                that.apidata.type = '';
                that.event._dispatch('li.datachange', { num: that.nowParam.num, data: that.apidata });
                that.bzlx.renderHtml(Tool.configxlkformat(that.app.constmap.LESION));
            });
            that.bzlx.event._addEvent('drop.input', function (value) {
                var temp = Tool.configxlkformat(that.app.constmap.LESION).filter(function (val) {
                    console.log(val.val.indexOf(value), val, value);
                    return val.val.indexOf(value.data) >= 0;
                });
                that.bzlx.renderHtml(temp);
            });
            if (that.nowParam.protype == 'audit') {
                that.dom.find('.adddelli').remove();
                that.dom.find('.actionarea').remove();
                that.dom.find('.auditpercent').removeClass('hide');
            }
            this.apidata = {};
            this.apidata.toolList = this.nowParam.toolList ? this.nowParam.toolList : [{ id: null, action: 1 }];
            that.apidata.toolList.filter(function (value) {
                if (value.id) {
                    value.action = 2;
                }
            });
            console.log('================', this.apidata, this.nowParam);
            this.apidata.data = this.nowParam.data;
            this.dom.find('.toolarea').html('');
            //that.addtool(0)
            console.log('wwwwwwwwwwwwww');
            for (var i = 0; i < this.apidata.toolList.length; i++) {
                this.addtool(i);
            }
            console.log(this.apidata);
            if (that.nowParam.hascomp) {
                that.dom.find('.ytjdata').removeClass('hide');
            }
            if (that.apidata.data.type) {
                that.dom.find('.bzlx .option[data-idx="' + that.apidata.data.type + '"]').click();
            }
            if (that.nowParam.type) {
                that.bzlx.disable();
            }

            //删除整个元素
            that.dom.find('.bigdel').on('click', function () {
                that.event._dispatch('li.delete', { num: that.nowParam.num });
            });
            //打开添加标注组件
            that.dom.find('.icon-caozuo').on('click', function () {
                var dom = ES.selctorDoc(this).parent();
                dom.find('.actionul').removeClass('hide');
                dom.find('.mask').removeClass('hide');
            });
            //添加标注组件
            that.dom.find('.bzdata').on('click', function () {
                that.event._dispatch('li.adddata', { num: that.nowParam.num });
                ES.selctorDoc(this).parent().addClass('hide');
                ES.selctorDoc(this).parent().parent().find('.mask').addClass('hide');
            });
            //查看标注组件
            that.dom.find('.ytjdata').on('click', function () {
                that.event._dispatch('li.showdata', { num: that.nowParam.num });
                ES.selctorDoc(this).parent().addClass('hide');
                ES.selctorDoc(this).parent().parent().find('.mask').addClass('hide');
            });
            //关闭添加标注组件
            that.dom.find('.mask').on('click', function () {
                ES.selctorDoc(this).parent().find('.actionul').addClass('hide');
                ES.selctorDoc(this).addClass('hide');
            });
        }
    }, {
        key: 'initli',
        value: function initli(val) {
            console.log(val, 'val');
            var valType = Tool.configxlkformat(this.app.constmap['TOOL_TYPE'])[val] ? Tool.configxlkformat(this.app.constmap['TOOL_TYPE'])[val].type : "";
            //console.log(valType, 'valTypevalType')
            var choose = Tool.configxlkformat(this.app.constmap['TOOL_TYPE']).filter(function (item) {
                return item.idx == valType;
            })[0];
            //console.log(choose)
            var firstSelect = {
                val: '工具',
                idx: ''
                /*if(choose){
                   firstSelect=choose
                }*/

            };var that = this;
            var gongju = this.app.loadModule(that.dropdown1, that.dom.find('.toolitem' + val + ' .tool1'), {
                className: 'xlk',
                firstSelect: firstSelect,
                data: Tool.configxlkformat(that.app.constmap['TOOL_TYPE']),
                maxshownum: 5
            });

            var fztag = this.app.loadModule(that.dropdown1, that.dom.find('.toolitem' + val + ' .fztag'), {
                className: 'xlk',
                firstSelect: {
                    val: '选择辅助Tag',
                    idx: ''
                },
                data: [{
                    val: '',
                    idx: ''
                }]
            });
            //console.log(choose, 'valTypevalType')
            gongju.event._addEvent('option.click', function (value) {
                that.dom.find('.toolitem' + val + ' .notinit').addClass('hide');
                that.dom.find('.choose').removeClass('choose');
                //that.apidata.toolList[val]['property']=null
                that.apidata.toolList[val]['type'] = value.idx;
                that.event._dispatch('li.datachange', { num: that.nowParam.num, data: that.apidata });
                that.event._dispatch('li.specialchange');
            });
            gongju.event._addEvent('dropDown.clear', function (value) {
                that.dom.find('.toolitem' + val + ' .notinit').addClass('hide');
                that.apidata.toolList[val]['type'] = '';
                that.apidata.toolList[val]['property'] = null;
                that.event._dispatch('li.datachange', { num: that.nowParam.num, data: that.apidata });
            });
            that.dom.find('.toolitem' + val + ' .adddelli .icon-tianjia').on('click', function () {
                var data = { id: null, action: 1 };
                that.apidata.toolList.push(data);
                that.addtool(that.apidata.toolList.length - 1);
                that.event._dispatch('li.datachange', { num: that.nowParam.num, data: that.apidata });
            });
            that.dom.find('.toolitem' + val + ' .adddelli .icon-shanchu').on('click', function () {
                that.apidata.toolList[val].action = 3; // undefined
                ES.selctorDoc(this).parent().parent().remove();
                that.event._dispatch('li.datachange', { num: that.nowParam.num, data: that.apidata });
            });
            that.dom.find('.toolitem' + val + ' .yzsz .check-box').on('click', function () {
                if (ES.selctorDoc(this).hasClass('choose')) {
                    ES.selctorDoc(this).removeClass('choose');
                    //that.dom.find('.toolitem' + val + ' .yzsz')
                    that.dom.find('.toolitem' + val + ' .yzarea').addClass('hide');
                } else {
                    ES.selctorDoc(this).addClass('choose');
                    that.dom.find('.toolitem' + val + ' .yzset').val('');
                    //that.apidata.toolList[val]['property'] = JSON.stringify(tempobj);
                    that.dom.find('.toolitem' + val + ' .yzarea').removeClass('hide');
                }
                console.log();
                that.event._dispatch('li.datachange', { num: that.nowParam.num, data: that.apidata });
            });
            that.dom.find('.toolitem' + val + ' .canshu').on('change', function () {
                that.apidata.toolList[val]['property'] = ES.selctorDoc(this).val();
                that.event._dispatch('li.datachange', { num: that.nowParam.num, data: that.apidata });
            });
            //console.log(choose, 'valTypevalType', that.nowParam.type)
            if (that.nowParam.type) {
                //console.log(choose, 'valTypevalType', that.nowParam.type)
                gongju.disable();
                //console.log(choose,'valTypevalType',that.dom.find('.hbwidth'),that.dom.find('.yzset'))
                //that.dom.find('.hbwidth').attr('readonly', 'readonly')
                //that.dom.find('.yzset').attr('readonly', 'readonly')
                that.dom.find('.bzdata').addClass('hide');
                if (!that.nowParam.hascomp) {
                    that.dom.find('.actionarea').remove();
                }
                that.dom.find('.icon-shanchu').addClass('hide');
                that.dom.find('.icon-tianjia').addClass('hide');
            }
            //console.log(this.apidata.toolList[val], val)
            that.setToolData(this.apidata.toolList[val], val);
            //console.log('++++++++++++++++++++++')
        }
    }, {
        key: 'setToolData',
        value: function setToolData(value, idx) {
            var that = this;
            console.log(value, +'=========', idx);
            if (value.type) {
                that.dom.find('.toolitem' + idx + ' .option[data-idx="' + value.type + '"]').click();
                if (value.property) {
                    that.dom.find('.canshu').val(value.property);
                }
            }
        }
    }, {
        key: 'addtool',
        value: function addtool(pos) {
            var that = this;
            var html = '<li class="' + (pos != 0 ? "mt10" : "") + ' toolitem toolitem' + pos + '">\n' + '                <div class="inputLine" redlabel="xlk">\n' + '                    <div class="tool1" check="empty"></div>\n' + '                </div>' + '                <div class="adddelli">\n' + '                    <i class="iconfont icon-tianjia" title="继续添加工具"></i>\n' + '                    <i class="iconfont icon-shanchu deltool" title="删除此工具"></i>\n' + '                </div>\n' + '                <div class="fztag  notinit hide"></div>' + '                <div class="auditpercent hide">' + '                    <span>一致性匹配系数：</span>' + '                    <div class="inputLine hide" redlabel="inputBox">\n' + '                        <input type="text" class="canshu inputBox" check="empty|int" reg="/^([1-9]\\d{0,1}|100)$/" error="请输入1-100之间的整数"/>\n' + '                    </div>' + '                    <span>%</span>' + '                </div>' + '            </li>';
            this.dom.find('.toolarea').append(html);
            if (that.nowParam.protype == 'audit') {
                that.dom.find('.auditpercent').removeClass('hide');
                that.dom.find('.auditpercent .inputLine').removeClass('hide');
                that.dom.find('.adddelli').remove();
            }
            this.dom.find('.deltool').eq(0).addClass('hide');
            this.initli(pos);

            //this.render(pos);
        }
    }, {
        key: 'cleartype',
        value: function cleartype() {
            this.bzlx.reset();
        }
    }]);

    return bztoolli;
}(Interstellar.moduleBase);

//原型链一定要有的


module.exports = bztoolli;

/***/ }),

/***/ 842:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(843);
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(471)(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept("!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./bztoolli.less", function() {
			var newContent = require("!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./bztoolli.less");
			if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ 843:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(470)(false);
// imports


// module
exports.push([module.i, ".bztoolli {\n  position: relative;\n}\n.bztoolli .icon-shanchu {\n  position: absolute;\n  margin-left: 10px;\n  color: red;\n  cursor: pointer;\n  font-size: 18px;\n}\n.bztoolli .borderarea {\n  border: 1px dashed #e8e8e8;\n  padding: 20px;\n  border-radius: 4px;\n  display: inline-block;\n  width: 93%;\n}\n.bztoolli .borderarea > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.bztoolli .borderarea .bzlx {\n  vertical-align: top;\n}\n.bztoolli .borderarea .toolarea {\n  display: inline-block;\n}\n.bztoolli .borderarea .toolarea .toolitem > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.bztoolli .borderarea .toolarea .mt10 {\n  margin-top: 10px;\n}\n.bztoolli .actionarea {\n  float: right;\n  margin-right: 20px;\n  margin-top: 10px;\n  position: relative;\n}\n.bztoolli .actionarea .icon-caozuo {\n  cursor: pointer;\n}\n.bztoolli .actionarea .actionul {\n  position: absolute;\n  width: 120px;\n  background: #fff;\n  text-align: center;\n  left: -50px;\n  border-radius: 4px;\n  box-shadow: 0px 2px 4px 2px rgba(180, 180, 180, 0.5);\n  z-index: 20;\n}\n.bztoolli .actionarea .actionul .actionli {\n  height: 40px;\n  line-height: 40px;\n  cursor: pointer;\n}\n.bztoolli .actionarea .actionul .actionli:hover {\n  background: #ECF3F4;\n}\n.bztoolli .actionarea .mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  top: 0;\n  left: 0;\n}\n.bztoolli .bzxlk {\n  vertical-align: top;\n  display: inline-block;\n  margin-top: 5px;\n}\n.bztoolli .xlk {\n  width: 130px!important;\n}\n.bztoolli .xlk .nowname {\n  width: 90px;\n}\n.bztoolli .adddelli {\n  width: 55px;\n}\n.bztoolli .adddelli i {\n  cursor: pointer;\n  font-size: 16px;\n}\n.bztoolli .adddelli .icon-tianjia {\n  color: #4c9fa9;\n}\n.bztoolli .adddelli .icon-shanchu {\n  color: red;\n}\n.bztoolli .inputLine {\n  display: inline-block;\n}\n.bztoolli .inputLine input {\n  height: 30px;\n  line-height: 30px;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n.bztoolli .bzlx .inputLine {\n  vertical-align: top;\n}\n.bztoolli .required {\n  left: 0;\n  top: 25px;\n}\n", ""]);

// exports


/***/ }),

/***/ 844:
/***/ (function(module, exports) {

module.exports = "<div class=bztoolli> <div class=borderarea> <div class=bzlx> <span style=line-height:25px;text-align:center;margin-right:10px>影像标注<br>(病灶类型)</span> <div class=inputLine redlabel=xlk> <div class=bzxlk check=empty></div> </div> </div> <ul class=toolarea> <li class=\"toolitem toolitem1\"> <div class=inputLine redlabel=xlk> <div class=tool1 check=empty></div> </div> <div class=adddelli> <i class=\"iconfont icon-tianjia\" title=继续添加工具></i> <i class=\"iconfont icon-shanchu hide deltool\" title=删除此工具></i> </div> <div class=\"fztag notinit hide\"></div> <div class=\"auditpercent hide\"> <span>一致性匹配系数：</span> <div class=\"inputLine hide\" redlabel=inputBox> <input type=text class=\"canshu inputBox\" check=empty|int reg=/^([1-9]\\d{0,1}|100)$/ /> </div> <span>%</span> </div> </li> </ul> <div class=actionarea> <i class=\"iconfont icon-caozuo\"></i> <ul class=\"actionul hide\"> <li class=\"actionli bzdata\">添加标注组件</li> <li class=\"actionli ytjdata hide\">查看标注组件</li> </ul> <div class=\"mask hide\"></div> </div> </div> <i class=\"iconfont icon-shanchu bigdel\"></i> </div>";

/***/ }),

/***/ 957:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(470)(false);
// imports


// module
exports.push([module.i, ".createauditpro2 {\n  margin: 20px;\n  background: #fff;\n  height: 100%;\n  font-size: 14px;\n  overflow: hidden;\n  border: 1px solid #fff;\n  position: relative;\n}\n.createauditpro2 .bigtitle {\n  padding: 20px;\n  font-size: 17px;\n}\n.createauditpro2 .title {\n  font-size: 16px;\n  height: 60px;\n  line-height: 60px;\n  margin-bottom: 20px;\n}\n.createauditpro2 > div {\n  margin-left: 80px;\n  line-height: 40px;\n}\n.createauditpro2 .bigadd {\n  cursor: pointer;\n  margin-left: 20px;\n  color: #4c9fa9;\n}\n.createauditpro2 .xsyx {\n  display: inline-block;\n}\n.createauditpro2 > span {\n  margin-left: 20px;\n  text-align: right;\n}\n.createauditpro2 .yblx,\n.createauditpro2 .bzyq {\n  display: inline-block;\n  margin: 5px;\n}\n.createauditpro2 .xlk {\n  height: 30px;\n  line-height: 30px;\n  width: 180px;\n}\n.createauditpro2 .splitnum {\n  margin-top: 10px;\n}\n.createauditpro2 .splitnum input {\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  height: 30px;\n  line-height: 30px;\n  width: 170px;\n  padding-left: 10px;\n  margin-left: 5px;\n}\n.createauditpro2 .widthlevelset {\n  height: 50px;\n  line-height: 50px;\n}\n.createauditpro2 .widthlevelset .windowId,\n.createauditpro2 .widthlevelset p {\n  display: inline-block;\n}\n.createauditpro2 .yxtitle {\n  font-size: 15px;\n  margin-top: 30px;\n}\n.createauditpro2 .multi {\n  margin: 20px;\n  border-radius: 4px;\n  padding-bottom: 100px;\n}\n.createauditpro2 .multi .title {\n  padding-left: 0;\n  margin-left: 10px;\n}\n.createauditpro2 .multi .biaozhubtn {\n  border: 1px solid #4c9fa9;\n  color: #333;\n  height: 35px;\n  line-height: 35px;\n  width: 210px;\n  margin: 80px 40px 40px 20px;\n}\n.createauditpro2 .multi > li {\n  margin-top: 10px;\n}\n.createauditpro2 .multi .alldata {\n  margin-left: 0;\n}\n.createauditpro2 .required {\n  left: 358px;\n  top: 0;\n}\n.createauditpro2 .winWidthId {\n  margin: 10px 0;\n}\n.createauditpro2 .winWidthId .required {\n  left: 515px;\n  top: 0;\n}\n.createauditpro2 .discurdarea {\n  margin: 10px 0;\n}\n.createauditpro2 .discurdarea .biaozhubtn {\n  padding: 0 20px;\n  height: 35px;\n  line-height: 35px;\n  border: 1px solid #4c9fa9;\n  color: #4c9fa9;\n}\n.createauditpro2 .discurdarea .viewreason {\n  margin-left: 50px;\n  text-decoration: underline;\n  color: #4c9fa9;\n}\n.createauditpro2 .save {\n  background: #4c9fa9;\n  color: #fff;\n  height: 40px;\n  line-height: 40px;\n  width: 120px;\n  margin: 20px;\n  bottom: 5px;\n  position: absolute;\n  right: 20px;\n  top: 10px;\n}\n.createauditpro2 .w135 {\n  width: 155px!important;\n  text-align: right;\n}\n.createauditpro2 .windowId .required {\n  left: 510px;\n}\n", ""]);

// exports


/***/ })

});
//# sourceMappingURL=148a020f91641719a66c.32.min.js.map