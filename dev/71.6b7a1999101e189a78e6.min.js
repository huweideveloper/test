webpackJsonp([71],{2143:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".viewauditres {\n  margin: 20px;\n  background: #fff;\n  font-size: 14px;\n}\n.viewauditres .toparea {\n  border-bottom: 1px solid #e8e8e8;\n  padding-left: 20px;\n  padding-bottom: 20px;\n}\n.viewauditres .toparea p {\n  height: 60px;\n  line-height: 60px;\n  font-size: 20px;\n}\n.viewauditres .toparea .biaozhubtn {\n  background: #4c9fa9;\n  color: #fff;\n  padding: 0 20px;\n  height: 40px;\n  line-height: 40px;\n  float: right;\n  margin-right: 20px;\n}\n.viewauditres .toparea > div {\n  display: inline-block;\n  margin-top: 10px;\n  line-height: 40px;\n}\n.viewauditres .toparea .project {\n  width: 50%;\n  overflow: hidden;\n}\n.viewauditres .toparea .series {\n  overflow: hidden;\n}\n.viewauditres .toparea .bznum > div {\n  display: inline-block;\n}\n.viewauditres .toparea .bznum .number {\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  height: 35px;\n  line-height: 35px;\n  padding-left: 10px;\n}\n.viewauditres .toparea .bznum .xlk {\n  height: 35px;\n  line-height: 35px;\n}\n.viewauditres .toparea .bznum .xlk .nowname {\n  width: 88%;\n}\n.viewauditres .tablearea .maintable {\n  overflow: hidden;\n}\n",""])},322:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(i,o){try{var r=t[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.pagesBase),a(t,[{key:"complete",value:function(){var e=this;this.styleModel(1),this.id=this.app.parpam.id,this.total=0,this.render(),this.resize(),this.auditproject_read(),this.model._event._addEvent("querylist.change",i(regeneratorRuntime.mark(function t(){var n,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.model.getData("querylist").reset,e.app.loading.show(),t.next=4,e.api.series_result_search(e.model.getData("querylist"));case 4:a=t.sent,e.app.loading.hide(),0==a.code?(e.dom.find(".series span").html(parseInt(a.data.auditResultSeriesCount)),i="",a.data.importProjectNameList.forEach(function(e,t){i+=e+"&nbsp;&nbsp;&nbsp;&nbsp;"}),e.dom.find(".project span").html(i),e.setMain(a,n)):Tool.errorshow(a.msg,e.app);case 7:case"end":return t.stop()}},t,e)})))}},{key:"render",value:function(){var e=this,t=this;this.dom.find(".result").on("click",function(){var t=e.largeFigure?"drapCanvasPro":"markauditprojectview";window.location.href=window.location.origin+"/#!/"+t+"/"+e.app.parpam.id+"/"+e.total+"_0_"+encodeURIComponent(JSON.stringify(e.model.querylist))+"/check_viewer_all",window.location.reload()}),this.dom.find(".export").on("click",function(){var t={projectId:e.id},n=e.app.domain1+"v1/audit/project/series/result/export?param="+encodeURIComponent(JSON.stringify(t));Tool.downfile(n,e.app)}),this.dom.find(".search").on("click",function(){e.model.querylist.compareSymbol&&!/^[0-9]\d*$/.test(e.model.querylist.imageTotalCount)?e.dom.find(".number").css({border:"1px solid red"}):!e.model.querylist.compareSymbol&&e.model.querylist.imageTotalCount?(e.model.querylist.imageTotalCount=null,e.dom.find(".number").val("")):(e.dom.find(".number").css({border:"1px solid #e8e8e8"}),e.model.setData("querylist",e.model.querylist))}),this.dom.find(".number").on("change",function(){t.model.querylist.imageTotalCount=""==ES.selctorDoc(this).val()?null:ES.selctorDoc(this).val()}),n.e(82).then(function(){var t=n(919);e.symbol=e.app.loadModule(t,e.dom.find(".symbol"),{className:"xlk",firstSelect:{val:"",idx:""},data:[{val:"大于",idx:"2"},{val:"等于",idx:"1"},{val:"小于",idx:"3"}]}),e.symbol.event._addEvent("option.click",function(t){e.model.querylist.compareSymbol=parseInt(t.idx)}),e.symbol.event._addEvent("dropDown.clear",function(t){delete e.model.querylist.compareSymbol,e.dom.find(".number").val(""),delete e.model.querylist.imageTotalCount})}.bind(null,n)).catch(n.oe)}},{key:"setTitle",value:function(){var e=this;this.model.listheader.tablewidth=ES.selctorDoc(".viewauditres").box().clientWidth-40;var t=this.largeFigure?"drapCanvasPro":"markauditprojectview";n.e(83).then(function(){var a=n(930);e.table=e.app.loadModule(a,e.dom.find(".tablearea"),{id:"tablearea",header:e.model.listheader}),e.table.event._addEvent("table.action",function(n){window.location.href=window.location.origin+"/#!/"+t+"/"+e.app.parpam.id+"/"+n.id+"/check_viewer",window.location.reload()}),e.table.event._addEvent("table.pagenumber",function(t){var n=e.model.getData("querylist");n.reset=!1,n.page=parseInt(t),e.model.setData("querylist",n)}),e.table.event._addEvent("table.pagesize",function(t){var n=e.model.getData("querylist");n.page=1,n.pageSize=t.num,n.reset=!0,e.model.setData("querylist",n)}),e.dom.find(".list-content").removeClass("hide"),e.model.setData("querylist",{projectId:parseInt(e.id),page:1,pageSize:10,reset:!0}),e.resize()}.bind(null,n)).catch(n.oe)}},{key:"setMain",value:function(e,t){var n=this;0==e.code?e.data.list?(this.total=e.data.total,e.data.list.forEach(function(e,t){for(var a in e)e[a]=null==e[a]?"":e[a];e.id=e.seriesInstanceUid+"_"+e.sarId,e.operation=n.model.listicon.action}),this.table.setData(e.data.list)):this.table.noData():Tool.errorshow(e.msg,this.app),t&&this.table.getTotal(e.data.pages,2,e.data.total),this.initscroll()}},{key:"auditproject_read",value:function(){var e=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.auditproject_read({auditProjectId:this.id});case 2:t=e.sent,this.largeFigure=t.data.largeFigure,this.setTitle();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initscroll",value:function(){if(this.myScroll)this.myScroll.refresh();else{var e="aaa_"+Math.floor((new Date).getTime()*Math.random());this.dom.find(".viewauditres .maintable").attr("id",e),this.myScroll=new IScroll("#"+e,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}},{key:"resize",value:function(){var e=ES.selctorDoc(window).box().clientHeight,t=ES.selctorDoc(window).box().clientWidth-40;ES.selctorDoc(".viewauditres").css({height:e-100,width:t}),this.dom.find(".viewauditres .maintable").css({height:e-350,width:t})}}]),t}();e.exports=o},820:function(e,t,n){var a=n(2143);"string"==typeof a&&(a=[[e.i,a,""]]);var i={transform:void 0};n(705)(a,i);a.locals&&(e.exports=a.locals)},821:function(e,t,n){"use strict";var a="/audit/project/series/result/search",i="/audit/project/read",o={series_result_search:function(e){return this.HttpRequest.POST(a,e)},auditproject_read:function(e){return this.HttpRequest.POST(i,e)}};e.exports=o},822:function(e,t){e.exports='<div class=viewauditres> <div class=toparea> <p class=title>查看审核结果</p> <div class=project> <label>包含所属项目：</label> <span></span> </div> <div class=series> <label>共有审核结果序列：</label> <span></span> <label>个</label> </div> <a class="biaozhubtn result">进入查询结果</a> <a class="biaozhubtn search">查询</a> <br/> <div class=bznum> <label>病灶数量</label> <div class=symbol></div> <input class=number type=text /> </div> <a class="biaozhubtn export">导出</a> </div> <div class=tablearea></div> </div> '},823:function(e,t,n){"use strict";var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tempquery={},n.apidata={page:1,pageSize:10},n.listheader={icon:{seriesInstanceUid:{name:"<span>序列名称</span>",type:"text",code:"checkid",w:"25%",ww:"25%",n:"40"},imageTotalCount:{name:"<span>病灶数量</span>",type:"text",code:"pid",w:"15%",ww:"15%"},isTrueImageTotalCount:{name:"<span>正确病灶数</span>",type:"text",code:"pname",w:"20%",ww:"20%"},isFalseImageTotalCount:{name:"<span>错误病灶数</span>",type:"text",code:"psex",w:"20%",ww:"20%"},operation:{name:"<span>操作</span>",type:"action",code:"action",w:"20%",ww:"20%"}},type:"center"},n.listicon={action:{view:{dis:"inline",link:"noLink",content:"查看"}}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.modelBase),t}();e.exports=a}});