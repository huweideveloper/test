webpackJsonp([0,82,83,88,93],{1001:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1131);var o=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.name="list",s.html=n(1133),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),a(t,[{key:"complete",value:function(){this.choose=!0,this.data=[],this.jg=[],this.icon=[],this.type="",this.choose=this.nowParam.chose,this.choosew=this.nowParam.chosew,this.tablewidth=this.nowParam.tablewidth,this.minwidth=this.nowParam.minwidth,this.onofftype=this.nowParam.onofftype,this.jg=this.nowParam.jg,this.icon=this.nowParam.icon,this.type=this.nowParam.type,this.iconArr=this.nowParam.iconArr,this.mainId=this.nowParam.mainId||null,this.selectarr=[],this.finalwidth=this.tablewidth>this.minwidth?this.tablewidth:this.minwidth,this.drop=n(919);var e=this.dom.find(".list1").box().clientHeight-2*this.dom.find(".list-header").box().clientHeight;this.dom.find(".dataNone").css({"line-height":e}),"center"===this.type&&this.initView(this.icon)}},{key:"initView",value:function(e){var t=this,n="";for(var i in e)e[i].w?e[i].first?"string"!=typeof e[i].w?n+='<li style="width:'+e[i].w+"px;left:"+(e[i].left||0)+'px;"><span data-i18n='+e[i].code+' style="margin-left:2px">'+e[i].name+"</li>":n+='<li style="width:'+parseFloat(e[i].w)*t.finalwidth/100+"px;margin-left:"+e[i].n+"px;left:"+(e[i].left||0)+'px;"><span data-i18n='+e[i].code+' style="margin-left:2px">'+e[i].name+"</li>":"string"!=typeof e[i].w?n+='<li style="width:'+e[i].w+"px;padding-left:"+e[i].n+"px;left:"+(e[i].left||0)+'px;">'+e[i].name+"</li>":n+='<li style="width:'+parseFloat(e[i].w)*t.finalwidth/100+"px;padding-left:"+e[i].n+"px;left:"+(e[i].left||0)+'px;">'+e[i].name+"</li>":n+="<li>"+e[i].name+"</li>";this.dom.find(".list-header ul").html(n),this.app.languageMode.setTranslate(this.dom.find("[data-i18n]").dom,this.app.language,this.name);var a="",o="";this.iconArr&&(t.iconArr.forEach(function(e,n){t.dom.find(".list-header ul li").eq(n).on("mouseover",function(){t.resetIcon(ES.selctorDoc(this).find("i"),"mouseover")}),t.dom.find(".list-header ul li").eq(n).on("mouseout",function(){t.resetIcon(ES.selctorDoc(this).find("i"),"mouseout")})}),t.dom.find(".list-header li").on("click",function(){if(ES.selctorDoc(this).find("i").dom.length>0){t.dom.find(".list-header li i").removeClass("select"),ES.selctorDoc(this).find("i").addClass("select");var e=ES.selctorDoc(this).find("i").attr("nowid");t.dom.find(".list-header i").attr("nowid","0"),t.dom.find(".list-header i").parent("span").removeClass("arrow_reverse"),ES.selctorDoc(this).find("i").attr("nowid",e),a=ES.selctorDoc(this).find("i").attr("name"),"0"===ES.selctorDoc(this).find("i").attr("nowid")?(ES.selctorDoc(this).find("i").attr("nowid","1"),ES.selctorDoc(this).find("i").parent("span").addClass("arrow_reverse"),o=1):"1"==ES.selctorDoc(this).find("i").attr("nowid")&&(ES.selctorDoc(this).find("i").attr("nowid","0"),ES.selctorDoc(this).find("i").parent("span").removeClass("arrow_reverse"),o=0),t.event._dispatch("list.paixu",{sort:a,order:o})}})),"all"==this.choose&&(t.dom.find(".list-header ul").prepend('<li style="width:'+this.choosew.w+';"><p><span class="check-box" style="margin-left: '+this.choosew.ml+'"></span></p></li>'),t.dom.find(".list-header .check-box").on("click",function(){var e=[];t.data.forEach(function(t){t.formComponentId?e.push(t.formComponentId):e.push(t.id)}),t.dom.find(".list-content .check-box").removeClass("choose"),ES.selctorDoc(this).hasClass("choose")?(t.event._dispatch("list.allcheck",{id:e,data:t.data,type:"del"}),ES.selctorDoc(this).removeClass("choose")):(t.event._dispatch("list.allcheck",{id:e,data:t.data,type:"add"}),ES.selctorDoc(this).addClass("choose"),t.dom.find(".list-content .check-box").addClass("choose"))}))}},{key:"setData",value:function(e){this.dom.find(".dataNone").hasClass("hide")||(this.dom.find(".dataNone").addClass("hide"),this.dom.find(".list-content").removeClass("hide")),this.dom.find(".load").addClass("hide"),this.headerfirstPadding=!0,this.data=e,this.refreshList()}},{key:"noData",value:function(e){this.dom.find(".dataNone").removeClass("hide"),this.dom.find(".list-content").addClass("hide"),e&&this.dom.find(".dataNone").html(e)}},{key:"resetIcon",value:function(e,t){if("mouseover"==t)switch(e.attr("nowid")){case"0":e.css("background-image","url(/images/order/noHover.png)");break;case"1":e.css("background-image","url(/images/order/upHover.png)");break;case"2":e.css("background-image","url(/images/order/downHover.png)")}else switch(e.attr("nowid")){case"0":e.css("background-image","url(/images/order/no.png)");break;case"1":e.css("background-image","url(/images/order/up.png)");break;case"2":e.css("background-image","url(/images/order/down.png)")}}},{key:"loadList",value:function(){var e="";if(void 0!==this.data){for(var t=0;t<this.data.length;t++){var n=this.mainId?this.data[t][this.mainId]:this.data[t].id;for(var i in e+="<div><ul positionId='"+t+"' nowId='"+n+"' projectId='"+this.data[t].projectId+"' class='ul'>","all"==this.choose&&(this.data[t].choosed?e+="<li style='width:"+this.choosew.w+";text-overflow: ellipsis;overflow: hidden;' nowId='"+n+"'><p><span class='check-box choose' style='margin-left: "+this.choosew.ml+"'></span></p></li>":e+="<li style='width:"+this.choosew.w+";text-overflow: ellipsis;overflow: hidden;' nowId='"+n+"'><p><span class='check-box' style='margin-left: "+this.choosew.ml+"'></span></p></li>"),this.icon){var a="";switch(this.icon[i].style?a=this.icon[i].style:"string"!=typeof this.icon[i].ww?(a='style="width:'+this.icon[i].ww+"px;padding-left:"+this.icon[i].n+'px"','style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;width:'+(this.icon[i].w-20)+'px;"'):a='style="width:'+parseFloat(this.icon[i].ww)*this.finalwidth/100+"px;padding-left:"+this.icon[i].n+'px"',this.icon[i].type){case"text":""!=this.data[t][i]||0==this.data[t][i]?e+="<li  class='list0'"+a+" ><p class='overhide' title='"+this.data[t][i]+"' width1='"+parseFloat(this.icon[i].ww)*this.finalwidth/100+"'px>"+this.data[t][i]+"</p>":e+="<li  "+a+">  </li>";break;case"link":""!=this.data[t][i]||0==this.data[t][i]?e+="<li  class='listlink'"+a+" ><p class='overhide' title='"+this.data[t][i]+"' width1='"+parseFloat(this.icon[i].ww)*this.finalwidth/100+"'px>"+this.data[t][i]+"</p>":e+="<li  "+a+">  </li>";break;case"select":e+="<li  "+a+"><p class='lbxlk hide no"+n+"' nowid='"+n+"' data='"+this.data[t][i]+"'></p></li>";break;case"onoff":1==this.data[t][i]?e+="<li class='switch on'"+a+"><span style='width:"+(this.icon[i].w-30)+"px;margin-left:10px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;'>&nbsp;"+this.onofftype[1]+"<i></i></span></li>":e+="<li class='switch off'"+a+"><span style='width:"+(this.icon[i].w-30)+"px;margin-left:10px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;'>"+this.onofftype[0]+"&nbsp;<i></i></span></li>";break;case"onoff1":var o="open"===this.data[t][i]?"check":"";void 0!=this.type?e+="<li class='click-enable choose_onoff' "+a+" nowId='"+n+"'><span style='position: absolute;top: 35px;'><label class='tgl-btn "+o+"' for='cb1-1-0'></label></span></li>":e+="<li class='click-enable choose_onoff' "+a+" nowId='"+n+"'><span style='position: absolute;top: 25px;'><label class='tgl-btn "+o+"' for='cb1-1-0'></label></span></li>";break;case"action":var s='<li class="tableList" '+a+'nowId="'+n+'">';for(var l in this.data[t][i]){var r,d=l;if("config"==l)s+='<a class="iconfont icon-caozuo config"  title="" ></a><ul class="actionul hide">',this.data[t][i][l].content.forEach(function(e,t){s+='<li class="'+e.key+'">'+e.text+"</li>"}),s+="</ul>";else r=this.data[t][i][l].titleText?this.data[t][i][l].titleText:d,this.data[t][i][l].content?s+='<div class="content '+l+'" style="display:'+this.data[t][i][l].dis+'" title="'+this.data[t][i][l].content+'"link="'+this.data[t][i][l].link+'" classname="'+l+'">'+this.data[t][i][l].content+"</div>":s+='<a class="icon iconfont icon-'+l+'" style="display:'+this.data[t][i][l].dis+'" title="'+r+'"link="'+this.data[t][i][l].link+'"classname="'+l+'"></a>'}e+=s+="</li>"}}e+="</ul></div>"}return e}}},{key:"refreshList",value:function(){"center"===this.type&&(this.dom.find(".list-content").html(this.loadList()),this.addButton(),this.resize())}},{key:"addButton",value:function(){var e=this;e.dom.find(".lbxlk").dom&&e.dom.find(".lbxlk").dom.forEach(function(t,n){e.selectarr[n]=e.app.loadModule(e.drop,t,{className:"listxlk",firstSelect:{val:"",idx:""},maxshownum:3,datatype:"arr",data:t.attr("data").split(",")})}),this.dom.find(".list-content .switch span").on("click",function(t){t.stopPropagation(),e.app.model.set("listId",ES.selctorDoc(this).parent().attr("nowId")),ES.selctorDoc(this).parent().hasClass("on")?(ES.selctorDoc(this).parent().removeClass("on"),ES.selctorDoc(this).parent().addClass("off"),ES.selctorDoc(this).html(e.onofftype[0]+"&nbsp;<i></i>"),ES.selctorDoc(this).parent().attr("onoff",""),e.event._dispatch("list.onoff",{id:ES.selctorDoc(this).parent().parent().attr("nowId"),dom:ES.selctorDoc(this).parent(),action:"off"})):(ES.selctorDoc(this).parent().addClass("on"),ES.selctorDoc(this).parent().removeClass("off"),ES.selctorDoc(this).html("&nbsp;"+e.onofftype[1]+"<i></i>"),ES.selctorDoc(this).parent().attr("onoff",""),e.event._dispatch("list.onoff",{id:ES.selctorDoc(this).parent().parent().attr("nowId"),dom:ES.selctorDoc(this).parent(),action:"on"}))}),this.dom.find(".list-content .listlink").on("click",function(){var t={id:ES.selctorDoc(this).parent().attr("nowId"),projectId:ES.selctorDoc(this).parent().attr("projectId")};e.event._dispatch("list.listlink",t)}),this.dom.find(".list-content .ul").on("dblclick",function(){ES.selctorDoc(this).find(".list2").dom||e.event._dispatch("list.ul",ES.selctorDoc(this).attr("nowId"))}),this.dom.find(".list-content .tableList div").on("click",function(t){t.stopPropagation(),e.app.model.set("listId",ES.selctorDoc(this).parent().attr("nowId")),e.event._dispatch("list.action",{id:ES.selctorDoc(this).parent().attr("nowId"),position:ES.selctorDoc(this).parent().parent().attr("positionid"),dom:ES.selctorDoc(this).parent().parent(),classname:ES.selctorDoc(this).attr("classname")}),"noLink"!==ES.selctorDoc(this).attr("link")&&e.app.changePage(ES.selctorDoc(this).attr("link")+"/"+ES.selctorDoc(this).parent().attr("nowId"))}),this.dom.find(".list-content .tableList .config").on("click",function(t){t.stopPropagation(),ES.selctorDoc(this).parent().find(".actionul").hasClass("hide")?(ES.selctorDoc(this).parent().find(".actionul").removeClass("hide"),e.dom.find(".mask").removeClass("hide")):(ES.selctorDoc(this).parent().find(".actionul").addClass("hide"),e.dom.find(".mask").addClass("hide"))}),this.dom.find(".actionul li").on("click",function(t){t.stopPropagation();ES.selctorDoc(this).attr("class");e.event._dispatch("list.action",{id:ES.selctorDoc(this).parent().parent().attr("nowId"),dom:ES.selctorDoc(this).parent().parent(),classname:ES.selctorDoc(this).attr("class")}),ES.selctorDoc(this).parent().addClass("hide"),e.dom.find(".mask").addClass("hide")}),this.dom.find(".list-content .tableList .icon").on("click",function(t){t.stopPropagation(),e.event._dispatch("list.action",{id:ES.selctorDoc(this).parent().parent().attr("nowId"),dom:ES.selctorDoc(this).parent().parent(),classname:ES.selctorDoc(this).attr("classname")})}),e.dom.find(".mask").on("click",function(){e.dom.find(".actionul").addClass("hide"),e.dom.find(".mask").addClass("hide")}),e.dom.find(".list-content .check-box").on("click",function(){ES.selctorDoc(this).hasClass("choose")?(e.event._dispatch("list.check",{id:ES.selctorDoc(this).parent().parent().attr("nowid"),type:"del",data:e.data[ES.selctorDoc(this).parent().parent().parent().attr("positionId")]}),ES.selctorDoc(this).removeClass("choose")):(e.event._dispatch("list.check",{id:ES.selctorDoc(this).parent().parent().attr("nowid"),type:"add",data:e.data[ES.selctorDoc(this).parent().parent().parent().attr("positionId")]}),ES.selctorDoc(this).addClass("choose"))})}},{key:"refreshHeader",value:function(e){var t="";for(var n in e)e[n].w?e[n].first?"string"!=typeof e[n].w?t+='<li style="width:'+e[n].w+'px;text-align:center"><span style="margin-left:10px">'+e[n].name+"</li>":t+='<li style="width:'+e[n].w*this.finalwidth+';text-align:center"><span style="margin-left:10px">'+e[n].name+"</li>":"string"!=typeof e[n].w?t+='<li style="width:'+e[n].w+'px;text-align:center">'+e[n].name+"</li>":t+='<li style="width:'+e[n].w*this.finalwidth+';text-align:center">'+e[n].name+"</li>":t+="<li>"+e[n].name+"</li>";this.dom.find(".list-header ul").html(t)}},{key:"insertLine",value:function(e){this.dom.find(".list-content").append(this.insert(this.nowParam,e)),"center"===this.type&&this.addButton()}},{key:"insert",value:function(e,t){var n='<div><ul class="ul">';for(var a in e.icon){var o="",s="";if(e.icon[a].style)o=e.icon[a].style;else if("string"!=typeof e.icon[a].w){var l=e.icon[a].p,r=e.icon[a].a;o='style="width:'+l+"px;margin-left:"+r+"px;text-align:center;left:"+(this.icon[a].n||0)+'px"';this.icon[a].n;'style="text-align:center;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;width:'+(e.icon[a].w-20)+'px;"'}else{e.icon[a].w;o='style="width:'+parseFloat(this.icon[a].ww)*this.finalwidth/100+"px;padding-left:"+this.icon[a].n+'px"','style="text-align:center"'}switch(e.icon[a].type){case"text":0!=e.icon[a].new?n+="<li  class='list0'"+o+" ><input class='newinput' type='text'/></li>":n+="<li  class='list0'"+o+" ><p class='overhide' title='' width1="+parseFloat(this.icon[a].ww)*this.finalwidth/100+"px></p></li>";break;case"link":n+="<li  class='listlink'"+o+" ><p class='overhide' title='' width1=\"+parseFloat(that.icon[j].ww)*that.finalwidth/100+\"px></p></li>";break;case"updown":null==this.data[i][a]||0==this.data[i][a]?n+="<li "+o+">--</li>":1*this.data[i][a]>0?n+="<li "+o+"><span><i class='updown23'></i>"+this.data[i][a]+"%</span></li>":1*this.data[i][a]<0&&(n+="<li "+o+"><span><i class='updown1'></i>"+this.data[i][a].replace("-","")+"%</span></li>");break;case"onoff":var d=1==this.data[i][a]?"check":"";void 0!=this.type?n+="<li class='click-enable choose_onoff' "+o+" nowId='"+this.data[i].id+"'><span style='position: absolute;top: 35px;'><label class='tgl-btn "+d+"' for='cb1-1-0'></label></span></li>":n+="<li class='click-enable choose_onoff' "+o+" nowId='"+this.data[i].id+"'><span style='position: absolute;top: 25px;'><label class='tgl-btn "+d+"' for='cb1-1-0'></label></span></li>";break;case"choose":s='style="text-overflow: ellipsis;overflow: hidden;white-space:nowrap;margin-left:5px;width:'+this.icon[a].w+'px;"';this.choose,n+="<li class='click-enable choose_id' "+s+" title = '"+this.data[i][a]+"' nowId='"+this.data[i].id+"'>"+this.data[i][a]+"</li>";break;case"img":n+="<li "+o+"><img src='"+this.data[i][a]+"' style='width: 40px;height: 40px;margin-top: 15px;'></li>";break;case"action":var c='<li class="tableList" '+o+'nowId="">';for(var p in t){var h,u=p;if("config"==p)c+='<a class="iconfont icon-caozuo" style="display:'+t[p].dis+'" title="" link="'+t[p].link+'">'+u+"</a>";else h=t[p].content?t[p].content:u,c+='<div class="content '+p+'" style="display:'+t[p].dis+'" title="'+h+'"link="'+t[p].link+'">'+h+"</div>"}n+=c+="</li>"}}return n+="</ul></div>"}},{key:"showloading",value:function(e){this.dom.find(".load").removeClass("hide")}},{key:"resize",value:function(e){this.dom.find(".overhide").dom&&this.dom.find(".overhide").dom.forEach(function(e,t){var n=ES.selctorDoc(e).dom.attr("width1");ES.selctorDoc(e).dom.css({"max-width":n+"px"})})}}]),t}();e.exports=o},1023:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1037);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.name="pagination",s.html=n(1039),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),i(t,[{key:"complete",value:function(){this.total=1,this.pageId=1,this.jiexian=1,this.initView(),this.addButton()}},{key:"resetAll",value:function(){this.pageId=1,this.initView()}},{key:"getTotal",value:function(e,t){this.total=1*e,this.pageId=1,this.jiexian=1*t,this.halfl=Math.floor((t-1)/2),this.halfr=t-1-this.halfl,this.initView()}},{key:"initView",value:function(){this.dom.find(".jumpselect").removeClass("jumpselect"),this.dom.find(".jumpfirst").removeClass("jumpdisabled"),this.dom.find(".jumplast").removeClass("jumpdisabled"),this.dom.find(".tolast").removeClass("jumpdisabled"),this.dom.find(".tofirst").removeClass("jumpdisabled"),this.dom.find(".ellipsis").css({display:"inline-block"}),this.dom.find(".lastpage").css({display:"inline-block"}),this.dom.find(".firstpage").addClass("jumpselect"),(this.total<3||this.jiexian>=this.total-2)&&(this.dom.find(".ellipsis").hide(),1==this.total&&(this.dom.find(".lastpage").hide(),this.dom.find(".jumplast").addClass("jumpdisabled"),this.dom.find(".tofirst").addClass("jumpdisabled"),this.dom.find(".tolast").addClass("jumpdisabled")));var e="",t=this,n=this.jiexian+2<this.total?this.jiexian:this.total-2;this.dom.find(".jumppage").remove();for(var i=0;i<n;i++)e+='<span class="jump jumppage" title="'+(2+i)+'">'+(2+i)+"</span>";this.dom.find(".jumpright").before(e),this.dom.find(".lastpage").html(1*this.total),this.dom.find(".lastpage").attr("title",1*this.total),this.dom.find(".jumpfirst").addClass("jumpdisabled"),this.dom.find(".tofirst").addClass("jumpdisabled"),this.middle(),this.dom.find(".jumppage").on("click",function(e){t.dom.find(".jumpselect").removeClass("jumpselect"),t.dom.find(".jumpfirst").removeClass("jumpdisabled"),t.dom.find(".tofirst").removeClass("jumpdisabled"),t.dom.find(".jumplast").removeClass("jumpdisabled"),t.dom.find(".tolast").removeClass("jumpdisabled"),t.pageId=1*ES.selctorDoc(this).html(),t.jiexian>=t.total-2&&ES.selctorDoc(this).addClass("jumpselect"),t.middle(),t.event._dispatch("pagination.changePage",t.pageId)}),this.dom.find(".tofirst").on("click",function(){t.dom.find(".firstpage").click()}),this.dom.find(".tolast").on("click",function(){t.dom.find(".lastpage").click()})}},{key:"addButton",value:function(){var e=this;this.dom.find(".jumpfirst").on("click",function(){1!==e.total&&(e.dom.find(".jumplast").removeClass("jumpdisabled"),e.dom.find(".tolast").removeClass("jumpdisabled")),ES.selctorDoc(this).hasClass("jumpdisabled")||(e.pageId=e.pageId-1>0?e.pageId-1:1,e.dom.find(".jumpselect").removeClass("jumpselect"),1==e.pageId&&(e.dom.find(".firstpage").addClass("jumpselect"),e.dom.find(".jumpfirst").addClass("jumpdisabled"),e.dom.find(".tofirst").addClass("jumpdisabled")),e.jiexian>=e.total-2&&e.dom.find(".jump").eq(e.pageId+1).addClass("jumpselect"),e.middle(),e.event._dispatch("pagination.changePage",e.pageId))}),this.dom.find(".jumplast").on("click",function(){1!==e.total&&(e.dom.find(".jumpfirst").removeClass("jumpdisabled"),e.dom.find(".tofirst").removeClass("jumpdisabled")),ES.selctorDoc(this).hasClass("jumpdisabled")||(e.pageId=parseInt(e.pageId)+1<e.total?parseInt(e.pageId)+1:e.total,e.dom.find(".jumpselect").removeClass("jumpselect"),e.pageId==e.total&&(e.dom.find(".lastpage").addClass("jumpselect"),e.dom.find(".jumplast").addClass("jumpdisabled"),e.dom.find(".tolast").addClass("jumpdisabled")),e.jiexian>=e.total-2&&e.dom.find(".jump").eq(e.pageId+1).addClass("jumpselect"),e.middle(),e.event._dispatch("pagination.changePage",e.pageId))}),this.dom.find(".firstpage").on("click",function(){e.dom.find(".jumpselect").removeClass("jumpselect"),1!==e.total&&(e.dom.find(".jumplast").removeClass("jumpdisabled"),e.dom.find(".tolast").removeClass("jumpdisabled"),e.dom.find(".jumpfirst").addClass("jumpdisabled"),e.dom.find(".tofirst").addClass("jumpdisabled")),ES.selctorDoc(this).addClass("jumpselect"),e.pageId=1*ES.selctorDoc(this).html(),e.middle(),e.event._dispatch("pagination.changePage",e.pageId)}),this.dom.find(".lastpage").on("click",function(){e.dom.find(".jumpselect").removeClass("jumpselect"),1!==e.total?(e.dom.find(".jumplast").addClass("jumpdisabled"),e.dom.find(".tolast").addClass("jumpdisabled"),e.dom.find(".jumpfirst").removeClass("jumpdisabled"),e.dom.find(".tofirst").removeClass("jumpdisabled")):e.dom.find(".firstpage").addClass("jumpselect"),ES.selctorDoc(this).addClass("jumpselect"),e.pageId=1*ES.selctorDoc(this).html(),e.middle(),e.event._dispatch("pagination.changePage",e.pageId)})}},{key:"changePage",value:function(e){this.pageId=e,this.middle(),1==e?this.dom.find(".pagelist .firstpage").addClass("jumpselect"):this.dom.find('.pagelist span[title="'+e+'"]').click()}},{key:"middle",value:function(){if(this.jiexian<this.total-2){if(this.dom.find(".ellipsis").css({display:"inline-block"}),1*this.pageId+this.halfr>=this.total-1){this.dom.find(".jumpright").hide();for(var e=0;e<=this.jiexian;e++)console.log(this.dom.find(".jumppage").eq(e).dom,e),this.dom.find(".jumppage").eq(e).dom[0]&&(this.dom.find(".jumppage").eq(e).html(this.total-this.jiexian+e),this.dom.find(".jumppage").eq(e).attr("title",this.total-this.jiexian+e),this.pageId==this.total-this.jiexian+e&&this.dom.find(".jumppage").eq(e).addClass("jumpselect"));return}if(this.pageId-this.halfl<=2){this.dom.find(".jumpleft").hide();for(var t=0;t<this.jiexian;t++)this.dom.find(".jumppage").eq(t).html(2+t),this.dom.find(".jumppage").eq(t).attr("title",2+t),this.pageId==2+t&&this.dom.find(".jumppage").eq(t).addClass("jumpselect");return}for(var n=0;n<this.halfl;n++)this.dom.find(".jumppage").eq(n).html(this.pageId-this.halfl+n),this.dom.find(".jumppage").eq(n).attr("title",this.pageId-this.halfl+n);for(var i=this.halfl;i<this.jiexian;i++)this.dom.find(".jumppage").eq(i).html(1*this.pageId+i-this.halfl),this.dom.find(".jumppage").eq(i).attr("title",1*this.pageId+i-this.halfl),i==this.halfl&&(this.dom.find(".jumppage").removeClass("jumpselect"),this.dom.find(".jumppage").eq(i).addClass("jumpselect"))}}}]),t}();e.exports=a},1024:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1040);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(1042),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),i(t,[{key:"complete",value:function(){this.render()}},{key:"config",value:function(e){this.pagesize.render({firstSelect:e[0],data:e})}},{key:"render",value:function(){var e=this,i=t.dropConfig;this.deferred=ES.Deferred(),n.e(82).then(function(){var t=n(919);e.pagesize=e.app.loadModule(t,e.dom.find(".pagesize"),{className:"xlk",firstSelect:i[0],data:i}),e.pagesize.event._addEvent("option.click",function(t){e.event._dispatch("pagesizeset.change",{num:t.idx})}),e.pagesize.event._addEvent("dropDown.clear",function(t){e.event._dispatch("pagesizeset.change",{num:10})}),e.deferred.resolve({})}.bind(null,n)).catch(n.oe)}},{key:"getTotal",value:function(e,t){this.dom.find(".nowpage").html(1),this.dom.find(".totalpage").html(e),this.dom.find(".totalnum").html(t)}},{key:"setnowpage",value:function(e,t){this.dom.find(".nowpage").html(e),t&&(this.dom.find(".nowname").attr("placeholder","每页"+t+"条"),this.dom.find(".pagesize .select").removeClass("select"),this.dom.find('.pagesize .option[data-idx="'+t+'"]').addClass("select"))}}],[{key:"dropConfig",get:function(){return[{val:"每页10条",idx:10},{val:"每页20条",idx:20},{val:"每页50条",idx:50},{val:"每页100条",idx:100}]}}]),t}();e.exports=a},1025:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1026),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=a.a},1026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={inheritAttrs:!1,props:{minValue:{type:Number},maxValue:{type:Number},value:[String,Number],precision:{type:Number,default:0},maxlength:{type:[Number,String]},negative:{type:Boolean,default:!1}},data:function(){return{textInput:""}},computed:{inputType:function(){return 0===this.precision?"integer":"float"}},methods:{emitEventHandler:function(e){this.$emit.apply(this,[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(arguments).slice(1))))},handleInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Number(this.maxlength);t&&e.length>t&&(e=e.slice(0,t)),e=e?e.toString().replace(/^0+(\d+)/g,"$1"):"",this.negative&&(e=e.startsWith("-")?"-"+e.replace(/-/g,""):e.replace(/-/g,""));var n=e.split(".")[1]||"",i=new RegExp("(.+\\.\\d{"+this.precision+"})(.*)$","g"),a=n&&n.length>this.precision?e.replace(i,"$1"):e;this.$emit("input",a)},handleKeyUp:function(e){var t=event.target.value;8===(e.which||e.keyCode)&&(this.textInput=t)},handleChage:function(e){this.$emit("change",e)},handleBlur:function(e){var t=e.target.value;/\.$/.test(t)&&(t=t.replace(/\.$/,""),this.$emit("input",t)),this.$emit("blur",e)},handleKeyPress:function(e){var t=e.key,n=e.target.value;this.textInput=""+(this.textInput||n);var i=["0","1","2","3","4","5","6","7","8","9"],a=[".","Del"];this.negative&&i.push("-"),this.negative&&a.push("-");var o=["Backspace"];if(i.includes(t)||a.includes(t)||o.includes(t)){if("integer"===this.inputType){if(a.includes(t))return void e.preventDefault();n.length}else{if(0===n.length&&!i.includes(t))return void e.preventDefault();if(1!==n.length||"0"!==n||a.includes(t)||o.includes(t)){if(this.textInput.includes(".")&&a.includes(t))return void e.preventDefault();n.split(".")[1]&&n.split(".")[1].length===this.precision&&o.includes(t)}else;}a.includes(t)&&n&&(this.textInput=""+this.textInput+t)}else e.preventDefault()}}}},1037:function(e,t,n){var i=n(1038);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1038:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".pagination_new {\n  text-align: right;\n  margin-right: 35px;\n}\n.pagination_new .pagelist span {\n  font-size: 12px;\n  font-weight: normal;\n}\n.pagination_new .pagelist .jump {\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-left: 5px;\n  text-align: center;\n  width: 26px;\n  height: 26px;\n  line-height: 25px;\n  display: inline-block;\n  overflow: hidden;\n}\n.pagination_new .pagelist .jump:hover {\n  background: #1f474c;\n  color: #fff;\n  border-color: #1f474c;\n}\n.pagination_new .pagelist .ellipsis {\n  border-radius: 4px;\n  width: 26px;\n  height: 26px;\n  margin-left: 5px;\n  text-align: center;\n  background-color: #ffffff;\n  border: 1px solid #d9d9d9;\n  line-height: 26px;\n  overflow: hidden;\n}\n.pagination_new .pagelist .jumpselect {\n  color: #fff;\n  background-color: #448e97 !important;\n  border-color: #448e97 !important;\n  cursor: pointer;\n}\n.pagination_new .pagelist .jumpselect:hover {\n  background: #1f474c !important;\n  color: #fff;\n  border-color: #1f474c !important;\n}\n.pagination_new .pagelist .jumppoint {\n  margin-left: 30px;\n}\n.pagination_new .pagelist .jumpinput input {\n  width: 55px;\n  height: 26px;\n  border: 1px solid #ccc;\n  text-align: center;\n  border-radius: 4px;\n}\n.pagination_new .pagelist .jumpdisabled {\n  cursor: not-allowed;\n  opacity: 0.3;\n  background: #ddd;\n}\n.pagination_new .pagelist .firstpage,\n.pagination_new .pagelist .lastpage,\n.pagination_new .pagelist .tofirst,\n.pagination_new .pagelist .tolast {\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  line-height: 25px;\n}\n.pagination_new .pagelist .jumplast,\n.pagination_new .pagelist .jumpfirst {\n  display: inline-block !important;\n}\n",""])},1039:function(e,t){e.exports='<div class=pagination_new> <div class=pagelist> <a class="jump tofirst">|&lt;</a> <a class="jump jumpfirst">&lt;</a> <span class="jump firstpage">1</span> <span class="ellipsis jumpleft">...</span> <span class="ellipsis jumpright">...</span> <span class="jump lastpage"></span> <a class="jump jumplast">&gt;</a> <a class="jump tolast">&gt;|</a> </div> <div></div> </div>'},1040:function(e,t,n){var i=n(1041);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1041:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".pagesizeset {\n  font-size: 14px;\n  color: #333;\n}\n.pagesizeset span {\n  margin-right: 10px;\n}\n.pagesizeset .pagesize {\n  display: inline-block;\n  margin-right: 10px;\n}\n.pagesizeset .xlk {\n  height: 35px;\n  line-height: 35px;\n}\n",""])},1042:function(e,t){e.exports="<div class=pagesizeset> <div class=pagesize></div> <span>页码<label class=nowpage>1</label>/<label class=totalpage>100</label> </span> <span>共<label class=totalnum>1000</label>条记录</span> </div>"},113:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(n(2020));function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,o){try{var s=t[a](o),l=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}("next")})}}var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.pagesBase),o(t,[{key:"complete",value:function(){var e=this;if(this.projectType=-1!==window.location.hash.indexOf("createprotwo")?1:3,1===this.projectType?this.app.header.openControl("projectmanage"):this.app.header.openControl("backflowproject"),this.yymcdata=[{val:"",idx:""}],this.app.header.changeselected(2),this.styleModel(1),this.dropobj={},this.type=this.app.parpam.type,this.projectId=1*this.app.parpam.projectid,this.status=this.app.parpam.status,this.clickTime=0,this.hasSeries=!1,this.initVuePage(),this.loadmodule(),"new"==this.type){if(!this.app.session.get("data_1"))return void this.app.changePage("createproone",{type:"new"});this.dom.find(".export").remove()}else if(!this.projectId||!this.type)return void this.app.changePage("projectmanage");this.model._event._addEvent("componentdata.change",l(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.app.loading.show(),t.next=3,e.api.querycomponent(e.model.getData("componentdata"));case 3:n=t.sent,e.app.loading.hide(),0==n.code?e.addcomponent.setMain(!0,n):Tool.errorshow(n.msg,e.app);case 6:case"end":return t.stop()}},t,e)}))),this.model._event._addEvent("discurddata.change",l(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.app.loading.show(),t.next=3,e.api.dict_root_child(e.model.getData("discurddata"));case 3:n=t.sent,e.app.loading.hide(),0==n.code?(n.data[0].children=n.data[0].children.filter(function(e){return 98!=e.value&&99!=e.value}),e.discurdreason.setMain(!0,n.data[0].children)):Tool.errorshow(n.msg,e.app);case 6:case"end":return t.stop()}},t,e)}))),this.model._event._addEvent("apiData.change",function(){e.app.session.set("data_2",JSON.stringify(e.model.apiData))}),"new"!==this.type&&this.series_count(),this.btnEvent()}},{key:"getSegmentLayerList",value:function(){var e=this.app.constmap.SINGLE_CONFIG;if(!e||!Array.isArray(e.children))return[];var t=e.children.find(function(e){return"HEART_SEGMENT_LABEL_NAME_CONFIG"===e.value});return t?JSON.parse(t.remark).labelNames:[]}},{key:"initVuePage",value:function(){var e=this;this.vuePage=new Vue({el:"#createproTwo",provide:{app:e.app},components:{AnnoItemList:s.default},data:function(){return{id:e.projectId,type:e.type,status:e.status,projectData:{},imageAnnotationListInitData:[],annoListIndex:{n1:0,n2:0},annoDisabled:!1,segmentLayerList:e.getSegmentLayerList(),ruleForm:{sicknessType:void 0,projectFunction:void 0,projectTarget:void 0,projectTargetDesc:void 0,seriesImgFileType:"",segmentLayer:[],type2:1},rules:{segmentLayer:[{required:!0,message:"请选择分割层数",trigger:"change"}]},sicknessTypeList:Tool.configxlkformat(e.app.constmap.SICKNESS_TYPE),projectFunctionList:Tool.configxlkformat(e.app.constmap.PROJECT_FUNCTION),projectTargetList:Tool.configxlkformat(e.app.constmap.ANNO_PROJECT_TARGET)}},computed:{isView:function(){return"view"===this.type},isStart:function(){return 2===Number(this.status)}},created:function(){},methods:{setProjectData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.projectData=e||{},this.imageAnnotationListInitData=this.projectData.imageAnnotationList||[];var t=e.extendJson?JSON.parse(e.extendJson):"";this.ruleForm=Object.assign(this.ruleForm,{seriesImgFileType:e.seriesImgFileType,segmentLayer:t&&t.segmentLayer||[]})},setProjectBasicData:function(e){this.ruleForm=Object.assign(this.ruleForm,{sicknessType:e.sicknessType,projectFunction:e.projectFunction,projectTarget:e.projectTarget,projectTargetDesc:e.projectTargetDesc,type2:e.type2})},handleSeriesImgFileTypeChange:function(e){this.$set(this.ruleForm,"seriesImgFileType",e);var t=this.ruleForm.segmentLayer||"";6===Number(e)?this.$set(this.ruleForm,"segmentLayer",t.length?this.ruleForm.segmentLayer:[7]):this.$set(this.ruleForm,"segmentLayer",""),this.resetImageAnnotationListBySeriesImgFileType(e)},getFormData:function(){var e=this,t=!1;return this.$refs.ruleForm.validate(function(n){n&&(t=e.ruleForm)}),t},getImageAnnoItemList:function(){return this.$refs.annoListForm.getAnnoItemList()||[]},handleShowAddAnnoModal:function(t){var n=t.n1,i=t.n2;this.annoListIndex={n1:n,n2:i},e.chooseComponent("",{n1:n,n2:i})},handleShowDetailAnnoModal:function(t){var n=t.n1,i=t.n2;this.annoListIndex={n1:n,n2:i},e.showytjComponent("",{n1:n,n2:i})},updateAnnotationItemList:function(e){this.$refs.annoListForm.updateAnnotationItemList(e,this.annoListIndex)},getAnnoFormData:function(){return this.$refs.annoListForm.getFormData()},setAnnoListDisabled:function(e){this.annoDisabled=e},resetImageAnnotationListBySeriesImgFileType:function(e){this.$refs.annoListForm.resetDataBySeriesImgFileType(e)}}})}},{key:"field_query",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.field_query({service:"DR",method:"/v1/sys/field/query",params:{}});case 2:(t=e.sent).data.forEach(function(e){e.val=e.fieldName,e.idx=e.fieldName,e.props=e.fieldType}),this.conditions=t.data,i=n(2026),this.projectGroupSet=this.app.loadModule(i,this.dom.find(".groupSet"),{conditions:this.conditions});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"series_count",value:function(){var e=l(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.app.loading.show(),e.next=3,this.api.series_count({projectId:this.projectId});case 3:n=e.sent,this.app.loading.hide(),this.hasSeries=n.data.count>0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queryProjectGroupList",value:function(){var e=l(regeneratorRuntime.mark(function e(t){var n,i,a,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.queryProjectGroupList({category:this.model.apiData.category,name:t,page:1});case 2:if(n=e.sent,i=n.data,a=i.list.map(function(e){return{idx:e.id,val:e.name}}),this.dropobj.groupId.renderHtml(a),!t){e.next=8;break}return e.abrupt("return");case 8:setTimeout(function(){o.dom.find(".inputLine .groupId .icon-shanchutishiicon").click(),o.projectDetail2&&o.projectDetail2.groupId&&o.dom.find('.groupId .option[data-idx="'+o.projectDetail2.groupId+'"]').click()},20);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"btnEvent",value:function(){var e=this,t=this;this.dom.find(".apidata").on("change",function(){if(null!==ES.selctorDoc(this).attr("api")){var e=ES.selctorDoc(this).attr("api");t.model.apiData[e]=parseInt(ES.selctorDoc(this).val().trim()),t.model.setData("apiData",t.model.apiData)}}),this.dom.find(".widthlevelset .check-box").on("click",function(){var e=ES.selctorDoc(this);if(e.hasClass("disabled"))return!1;e.hasClass("choose")?(e.removeClass("choose"),t.dom.find(".windowId").addClass("hide"),t.model.apiData.windowCode="",t.model.apiData.window=null,t.model.setData("apiData",t.model.apiData)):(e.addClass("choose"),t.dom.find(".windowId").removeClass("hide"))}),this.dom.find(".widthlevelset1 .check-box").on("click",function(){var e=ES.selctorDoc(this);if(e.hasClass("disabled"))return!1;e.hasClass("choose")?(e.removeClass("choose"),t.dom.find(".windowId1").addClass("hide"),t.model.apiData.vrWindowCode="",t.model.setData("apiData",t.model.apiData)):(e.addClass("choose"),t.dom.find(".windowId1").removeClass("hide"))}),this.dom.find(".largeFigure .check-box").on("click",function(){var e=ES.selctorDoc(this);if(e.hasClass("disabled"))return!1;e.hasClass("choose")?(e.removeClass("choose"),t.model.apiData.largeFigure=!1,t.model.setData("apiData",t.model.apiData)):(e.addClass("choose"),t.model.apiData.largeFigure=!0,t.model.setData("apiData",t.model.apiData))}),this.dom.find(".isYayAttributes .check-box").on("click",function(){var e=ES.selctorDoc(this);if(e.hasClass("disabled"))return!1;e.hasClass("choose")?(t.model.apiData.isYayAttributes=!1,t.dom.find(".choosearea").addClass("hide"),e.removeClass("choose")):(t.model.apiData.isYayAttributes=!0,t.dom.find(".choosearea").removeClass("hide"),e.addClass("choose"));var n=t.dom.find(".isYayAttributes .choosearea .choose");n.dom?2==n.dom.length?t.model.apiData.yayAttributes=4:1==n.parent().attr("data-id")?t.model.apiData.yayAttributes=1:t.model.apiData.yayAttributes=3:t.model.apiData.yayAttributes=2;t.model.setData("apiData",t.model.apiData)}),this.dom.find(".isLungPdf .check-box").on("click",function(){var e=ES.selctorDoc(this);if(e.hasClass("disabled"))return!1;e.hasClass("choose")?(e.removeClass("choose"),t.model.apiData.isLungPdf=!1,t.model.setData("apiData",t.model.apiData)):(e.addClass("choose"),t.model.apiData.isLungPdf=!0,t.model.setData("apiData",t.model.apiData))}),this.dom.find(".showReport .check-box").on("click",function(){var e=ES.selctorDoc(this);if(e.hasClass("disabled"))return!1;e.hasClass("choose")?(e.removeClass("choose"),t.model.apiData[e.parent().attr("type")]=!1,t.model.setData("apiData",t.model.apiData)):(e.addClass("choose"),t.model.apiData[e.parent().attr("type")]=!0,t.model.setData("apiData",t.model.apiData))}),this.dom.find(".marktypeset .check-box").on("click",function(){if(ES.selctorDoc(this).hasClass("disabled"))return!1;if(t.hasSeries&&0!==t.clickTime)t.app.alert.show({title:" ",msg:"项目下已存在序列，请先跳转至第三步删除所有序列。",close:!0,footer:!0});else{t.clickTime++;var e=ES.selctorDoc(this);e.hasClass("choose")?(e.removeClass("choose"),t.model.apiData.studyAnno=!1,t.model.setData("apiData",t.model.apiData)):(e.addClass("choose"),t.model.apiData.studyAnno=!0,t.model.setData("apiData",t.model.apiData))}}),this.dom.find(".category .radio-box").on("click",function(){t.dom.find(".category .choose").removeClass("choose"),ES.selctorDoc(this).addClass("choose"),t.model.apiData.category=1*ES.selctorDoc(this).parent().attr("data-id"),t.model.setData("apiData",t.model.apiData),t.queryProjectGroupList()});var n=function(t){if(!t.isLungPdf)return!0;var n=t.seriesImgFileType,o=t.aggreConditions,s=t.imageAnnotationList;if(3!==n)return!1;if(!o.find(function(e){return"seriesInstanceUID"===e.field||"studyInstanceUID"===e.field}))return!1;if(!s||!s.length)return!1;var l={};((e.app.constmap.PN_ANNO_ITEM||{}).children||[]).map(function(e){var t=JSON.parse(e.remark);t&&t.id&&(l[t.id]=!0)});var r=function(e){var t=s[e];if(!(t.toolList||[]).find(function(e){return 3!==e.action&&"CUBOID"===e.type}))return"break";var n=t.annotationItemList||[],a=i({},l);return n.forEach(function(e){e.action<3&&a[e.formComponentId]&&delete a[e.formComponentId]}),Object.keys(a).length?void 0:{v:!0}};e:for(var d=0;d<s.length;d++){var c=r(d);switch(c){case"break":break e;default:if("object"===(void 0===c?"undefined":a(c)))return c.v}}return!1};this.dom.find(".save").on("click",l(regeneratorRuntime.mark(function e(){var i,a,o,s,l,r,d,c,p,h,u,f,m,b,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!0,(a=JSON.parse(JSON.stringify(t.model.apiData))).type=t.projectType,a.name=JSON.parse(t.app.session.get("data_1")).name,a.bizFileId=JSON.parse(t.app.session.get("data_1")).bizFileId,a.remark=JSON.parse(t.app.session.get("data_1")).remark,a.remarkFileUrl=JSON.parse(t.app.session.get("data_1")).remarkFileUrl,a.id="new"!=t.type?t.projectId:null,a.action="new"!=t.type?2:1,a.seriesList=[],o=[],s="",a.annotationItemList&&(a.annotationItemList.forEach(function(e,t){3!==e.action&&(e.action=e.id?2:1);var n={id:e.id,formComponentId:e.formComponentId,action:e.action,sequence:10*(t+1),optional:e.optional,alias:e.alias};o.push(n)}),a.annotationItemList=o),a.discardList&&(a.discardList.forEach(function(e,t){s+=e.value+","}),a.discardCodeList=s),delete a.discardList,a.window&&(a.windowCode=JSON.parse(a.window).value),!1===(l=t.vuePage.getFormData())&&(i=!1),a.imageAnnotationList=t.vuePage.getAnnoFormData(),!1===a.imageAnnotationList&&(i=!1),t.dom.find(".inputLine:not(.justToJudge)").dom.forEach(function(e){e.find("."+e.attr("redlabel")).removeClass("redborder"),e.find(".required").remove(),""!==Tool.checkForm(ES.selctorDoc(e).dom,"red")&&(e.find("."+e.attr("redlabel"))&&e.find("."+e.attr("redlabel")).addClass("redborder"),e.find("."+e.attr("redlabel")).after('<span class="required">'+Tool.checkForm(ES.selctorDoc(e).dom,"red")+"</span>"))}),!t.dom.find(".redborder").dom||!t.dom.find(".redborder").dom.some(function(e){return!e.parent().hasClass("hide")})){e.next=25;break}return e.abrupt("return",!1);case 25:if("view"==t.type){e.next=47;break}if(a.aggreConditions=[],r=!0,d="",(c=t.projectGroupSet)&&c.liArr&&c.liArr.map(function(e,t){-1!==d.lastIndexOf(e.field)&&(c.errorShow("聚合条件设置重复"),r=!1,i=!1),d+=","+e.field+",",e.delete&&2===e.delete||(delete e.delete,a.aggreConditions.push(e))}),r||(i=!1),i){e.next=34;break}return e.abrupt("return");case 34:if(p=l.seriesImgFileType,h=l.segmentLayer,u=l.sicknessType,f=l.projectFunction,m=l.projectTarget,b=l.projectTargetDesc,v=l.type2,6===Number(p)?a.extendJson={segmentLayer:h}:a.extendJson="",Object.assign(a,{sicknessType:u,projectFunction:f,projectTarget:m,projectTargetDesc:b,type2:v}),n(a)){e.next=41;break}return t.app.alert.show({title:" ",msg:"该项目设置不支持图文报告，请检查数据类型、聚合条件、工具类型、病灶征象等相关信息",close:!0,footer:!0}),e.abrupt("return");case 41:return t.app.loading.show(),e.next=44,t.api.editproject(a);case 44:g=e.sent,t.app.loading.hide(),0==g.code?(t.app.changePage(1==t.projectType?"createprothree":"createbackflowpro3",{type:"edit",projectid:g.data.id?g.data.id:t.projectId,status:this.status}),t.app.session.del("data_2"),t.app.session.del("ischanged")):401==g.code?t.app.alert.show({title:" ",msg:"项目名称已存在",close:!0,footer:!0}):Tool.errorshow(g.msg,t.app);case 47:case"end":return e.stop()}},e,this)}))),this.dom.find(".alldata").on("click",function(){t.chooseComponent("all")}),this.dom.find(".showalldata").on("click",function(){t.showytjComponent("all")}),this.dom.find(".export").on("click",function(){var e=t.app.domain1+"v1/project/component/export?projectId="+t.projectId;Tool.downfile(e,t.app)}),this.dom.find(".discardreason").on("click",function(){t.choosediscurdreason()}),this.dom.find(".viewreason").on("click",function(){t.showdiscurdreason()})}},{key:"loadmodule",value:function(){var e=this,t=[{name:"yblx",className:"xlk",firstSelect:{val:"样本类型",idx:""},data:Tool.configxlkformat(this.app.constmap.MODALITY)},{name:"windowId",className:"xlk",firstSelect:{val:"",idx:""},data:Tool.configxlkformat(this.app.constmap.WINDOW)},{name:"windowId1",className:"xlk",firstSelect:{val:"",idx:""},data:Tool.configxlkformat(this.app.constmap.WINDOW)},{className:"xlk",name:"seriesImgFileType",firstSelect:{val:"",idx:""},data:function(){var t=[{val:"非原始数据",idx:"1"},{val:"原始数据",idx:"2"},{val:"MPR",idx:"3"},{val:"动脉瘤",idx:"4"},{val:"肝肿瘤",idx:"5"},{val:"冠脉分割",idx:"6"},{val:"冠脉狭窄",idx:"7"},{val:"冠脉命名",idx:"8"}];return 1===e.projectType&&t.push({val:"随访配准",idx:"9"}),t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[{val:"脑血管分割",idx:"10"},{val:"冠脉斑块分割",idx:"11"},{val:"脑中线",idx:"12"},{val:"脑动脉瘤",idx:"13"},{val:"肺气道",idx:"14"},{val:"C端病理大图",idx:"15"},{val:"冠脉分岔点",idx:"16"},{val:"肋骨分割",idx:"17"},{val:"病理配准",idx:"18"}])}()},{className:"xlk",name:"yang",firstSelect:{val:"否",idx:"0"},data:[{val:"是",idx:"1"},{val:"否",idx:"0"}]},{className:"xlk",name:"yin",firstSelect:{val:"否",idx:"0"},data:[{val:"是",idx:"1"},{val:"否",idx:"0"}]},{className:"xlk",name:"rangeConditions",firstSelect:{val:"",idx:""},data:[{val:"序列号（切片号）",idx:"1"},{val:"检查号",idx:"2"}]},{name:"groupId",className:"xlk",firstSelect:{val:"请选择一个项目群组",idx:""},input:!0,data:this.yymcdata}];this.biaozhulist=n(2030),this.ytjbiaozhulist=n(2034),this.discurdlist=n(2038),this.ytjdiscurdlist=n(2042),new Promise(function(e){e()}).then(function(){var i=n(919);t.forEach(function(t,n){var a=e.app.loadModule(i,e.dom.find("."+t.name),{className:t.className,firstSelect:t.firstSelect,data:t.data,input:t.input});a.event._addEvent("option.click",function(n){e.model.apiData[t.name]=n.idx,e.model.setData("apiData",e.model.apiData),e.app.session.set("ischanged",!0)}),a.event._addEvent("dropDown.clear",function(n){e.model.apiData[t.name]="",e.model.setData("apiData",e.model.apiData)}),"groupId"===t.name&&a.event._addEvent("drop.input",function(t){e.queryProjectGroupList(t.data)}),e.dropobj[t.name]=a}),e.dropobj.yblx.event._addEvent("option.click",function(t){e.model.apiData.modality=t.idx,e.model.setData("apiData",e.model.apiData)}),e.dropobj.yblx.event._addEvent("dropDown.clear",function(t){e.model.apiData.modality="",e.model.setData("apiData",e.model.apiData)}),e.dropobj.windowId.event._addEvent("option.click",function(t){var n={id:t.idx.split(",")[0],value:t.idx.split(",")[1],name:t.val};e.model.apiData.window=JSON.stringify(n),e.model.setData("apiData",e.model.apiData)}),e.dropobj.windowId.event._addEvent("dropDown.clear",function(t){e.model.apiData.window=null,e.model.setData("apiData",e.model.apiData)}),e.dropobj.windowId1.event._addEvent("option.click",function(t){var n={id:t.idx.split(",")[0],value:t.idx.split(",")[1],name:t.val};e.model.apiData.vrWindowCode=n.value,e.model.setData("apiData",e.model.apiData)}),e.dropobj.windowId1.event._addEvent("dropDown.clear",function(t){e.model.apiData.vrWindowCode=void 0,e.model.setData("apiData",e.model.apiData)}),e.dropobj.seriesImgFileType.event._addEvent("option.click",function(t){e.model.apiData.seriesImgFileType=1*t.idx,e.model.setData("apiData",e.model.apiData),e.handleChangeSeriesImgFileType(t)}),e.dropobj.seriesImgFileType.event._addEvent("dropDown.clear",function(t){e.model.apiData.seriesImgFileType=null,e.model.setData("apiData",e.model.apiData)}),e.dropobj.yin.event._addEvent("option.click",function(t){0==t.idx?0==e.dom.find(".yang .nowname").attr("data-idx")?e.model.apiData.yayAttributes=2:e.model.apiData.yayAttributes=1:0==e.dom.find(".yang .nowname").attr("data-idx")?e.model.apiData.yayAttributes=3:e.model.apiData.yayAttributes=4,e.model.setData("apiData",e.model.apiData)}),e.dropobj.yin.event._addEvent("dropDown.clear",function(t){0==e.dom.find(".yang .nowname").attr("data-idx")?e.model.apiData.yayAttributes=2:e.model.apiData.yayAttributes=1,e.model.setData("apiData",e.model.apiData)}),e.dropobj.yang.event._addEvent("option.click",function(t){0==t.idx?0==e.dom.find(".yin .nowname").attr("data-idx")?e.model.apiData.yayAttributes=2:e.model.apiData.yayAttributes=3:0==e.dom.find(".yin .nowname").attr("data-idx")?e.model.apiData.yayAttributes=1:e.model.apiData.yayAttributes=4,e.model.setData("apiData",e.model.apiData)}),e.dropobj.yang.event._addEvent("dropDown.clear",function(t){0==e.dom.find(".yin .nowname").attr("data-idx")?e.model.apiData.yayAttributes=2:e.model.apiData.yayAttributes=1,e.model.setData("apiData",e.model.apiData)}),e.dict_root_child(),e.field_query(),e.render()}.bind(null,n)).catch(n.oe)}},{key:"handleChangeSeriesImgFileType",value:function(e){var t=this;this.vuePage.handleSeriesImgFileTypeChange(e.idx),"9"===e.idx?(this.dom.find('.rangeConditions .option[data-idx="1"]').click(),this.dropobj.rangeConditions.disable(),this.projectGroupSet&&(this.projectGroupSet.liArr=[],this.projectGroupSet.resetAndDisable(function(){t.dom.find('.projectGroupSet .option[data-idx="seriesInstanceUID"]').click()})),this.setCheckboxDisabled(".largeFigure .check-box"),this.setCheckboxDisabled(".isYayAttributes .check-box"),this.dom.find(".biaozhubtns-ops").addClass("hide"),this.model.apiData.annotationItemList=[]):("14"===e.idx?this.dom.find(".widthlevelset1").removeClass("hide"):this.dom.find(".widthlevelset1").addClass("hide"),this.dropobj.rangeConditions.able(),this.projectGroupSet&&this.projectGroupSet.able(),this.setProjectGroupSetData(this.model.initApiData.aggreConditions),"15"===e.idx?this.setCheckboxDisabled(".largeFigure .check-box"):this.setCheckboxAbled(".largeFigure .check-box"),this.setCheckboxAbled(".isYayAttributes .check-box"),this.setSelectAbled(".bzlx"),this.setSelectAbled(".toolarea"),this.dom.find(".biaozhubtns-ops").removeClass("hide")),this.lastSeriesImgFileType=e.idx}},{key:"setSelectDisabled",value:function(e){this.dom.find(e+" .nowname").addClass("drop_disabled"),this.dom.find(e+" .drop-down").addClass("drop_disabled")}},{key:"setSelectAbled",value:function(e){this.dom.find(e+" .nowname").removeClass("drop_disabled"),this.dom.find(e+" .drop-down").removeClass("drop_disabled")}},{key:"setCheckboxDisabled",value:function(e){var t=this.dom.find(e);t.hasClass("choose")&&t.click(),t.addClass("disabled")}},{key:"setCheckboxAbled",value:function(e){this.dom.find(e).removeClass("disabled")}},{key:"dict_root_child",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n={value:"WINDOW"},e.next=4,this.api.dict_root_child(n);case 4:e.sent.data[0].children.forEach(function(e,n){t.push({idx:e.id+","+e.value,val:e.name})}),this.dropobj.windowId.renderHtml(t),this.dropobj.windowId1.renderHtml(t);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t,n,i,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={},e.t0=this.type,e.next="new"===e.t0?4:18;break;case 4:return t=(t=JSON.parse(this.app.session.get("data_2")))||{},this.model.setData("apiData",t),this.model.setData("initApiData",JSON.parse(JSON.stringify(t))),t.modality&&this.dom.find('.yblx .option[data-idx="'+t.modality+'"]').click(),t.seriesImgFileType&&this.dom.find('.seriesImgFileType .option[data-idx="'+t.seriesImgFileType+'"]').click(),t.window&&(t.window=JSON.parse(t.window),this.dom.find(".widthlevelset .check-box").click(),this.dom.find('.windowId .option[data-idx="'+t.window.id+","+t.window.value+'"]').click()),t.vrWindow&&(t.vrWindow=JSON.parse(t.vrWindow),this.dom.find(".widthlevelset1 .check-box").click(),this.dom.find('.windowId1 .option[data-idx="'+t.vrWindow.id+","+t.vrWindow.value+'"]').click()),t.discardList&&t.discardList.length>0&&this.dom.find(".viewreason").removeClass("hide"),t.diagnosisIncome&&this.dom.find('.showReport[type="diagnosisIncome"]').click(),t.inspectSee&&this.dom.find('.showReport[type="inspectSee"]').click(),t.annotationItemList&&t.annotationItemList.length>0&&this.dom.find(".showalldata").removeClass("hide"),t.imageAnnotationList&&this.multlist.setData(t.imageAnnotationList),e.abrupt("break",77);case 18:return n={projectId:this.projectId},this.app.loading.show(),e.next=22,this.api.projectdetail(n);case 22:if(i=e.sent,this.app.loading.hide(),0!=i.code){e.next=75;break}return t=i.data,this.vuePage.setProjectData(t),this.model.setData("apiData",t),this.model.setData("initApiData",JSON.parse(JSON.stringify(t))),o=void 0,s={id:this.projectId},t.window&&("object"!==a(t.window)&&(t.window=JSON.parse(t.window)),this.dom.find(".widthlevelset .check-box").click(),this.dom.find('.windowId .option[data-idx="'+t.window.id+","+t.window.value+'"]').click()),t.vrWindow&&("object"!==a(t.vrWindow)&&(t.vrWindow=JSON.parse(t.vrWindow)),this.dom.find(".widthlevelset1 .check-box").click(),this.dom.find('.windowId1 .option[data-idx="'+t.vrWindow.id+","+t.vrWindow.value+'"]').click()),t.discardList&&t.discardList.length>0&&this.dom.find(".viewreason").removeClass("hide"),t.diagnosisIncome&&this.dom.find('.showReport[type="diagnosisIncome"] .check-box').click(),t.inspectSee&&this.dom.find('.showReport[type="inspectSee"] .check-box').click(),t.componetCount<=0&&this.dom.find(".export").remove(),this.app.loading.show(),e.next=40,this.api.project_basic_read(s);case 40:if(l=e.sent,this.app.loading.hide(),this.projectDetail2=o=l.data,this.vuePage.setProjectBasicData(o),this.app.session.get("data_1")||this.app.session.set("data_1",JSON.stringify(o)),o.modality&&this.dom.find('.yblx .option[data-idx="'+o.modality+'"]').click(),o.rangeConditions&&this.dom.find('.rangeConditions .option[data-idx="'+o.rangeConditions+'"]').click(),o.studyAnno,o.largeFigure&&this.dom.find(".largeFigure .check-box").click(),o.isLungPdf&&this.dom.find(".isLungPdf .check-box").click(),o.aggreConditions&&this.setProjectGroupSetData(o.aggreConditions),this.dom.find('.department[data-id="'+o.category+'"]').find(".radio-box").click(),!o.isYayAttributes){e.next=69;break}this.dom.find(".isYayAttributes .check-box").click(),e.t1=o.yayAttributes,e.next=1===e.t1?57:2===e.t1?60:3===e.t1?63:4===e.t1?66:69;break;case 57:return this.dom.find('.yin .option[data-idx="0"]').click(),this.dom.find('.yang .option[data-idx="1"]').click(),e.abrupt("break",69);case 60:return this.dom.find('.yin .option[data-idx="0"]').click(),this.dom.find('.yang .option[data-idx="0"]').click(),e.abrupt("break",69);case 63:return this.dom.find('.yin .option[data-idx="1"]').click(),this.dom.find('.yang .option[data-idx="0"]').click(),e.abrupt("break",69);case 66:return this.dom.find('.yin .option[data-idx="1"]').click(),this.dom.find('.yang .option[data-idx="1"]').click(),e.abrupt("break",69);case 69:t.annotationItemList.length>0&&this.dom.find(".showalldata").removeClass("hide"),o.seriesImgFileType&&this.dom.find('.seriesImgFileType .option[data-idx="'+o.seriesImgFileType+'"]').click(),("view"==this.type||2==this.status)&&this.todisabled(),this.app.session.del("ischanged"),e.next=76;break;case 75:Tool.errorshow(i.msg,this.app);case 76:return e.abrupt("break",77);case 77:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setProjectGroupSetData",value:function(e){e&&("view"==this.type||2==this.status?this.projectGroupSet.setData(JSON.parse(e),"view"):this.projectGroupSet.setData(JSON.parse(e),"edit"))}},{key:"todisabled",value:function(){for(var e in"view"==this.type&&this.dom.find(".save").addClass("hide"),this.dropobj)this.dropobj[e].disable();this.dom.find(".alldata").addClass("hide"),this.dom.find(".discardreason").addClass("hide"),this.dom.find(".check-box").off("click"),this.dom.find(".radio-box").off("click"),this.dom.find(".inputBox").dom&&this.dom.find(".inputBox").attr("readonly","readonly"),this.vuePage.setAnnoListDisabled(!0),this.projectGroupSet.disableAll()}},{key:"showytjComponent",value:function(e,t){var n=this,i={type:this.type,status:this.status,data:[]};if("all"==e)i.data=JSON.parse(JSON.stringify(this.model.apiData.annotationItemList));else{var a=t.n1,o=t.n2,s=this.vuePage.getImageAnnoItemList()[a].children[o];i.data=s.annotationItemList?s.annotationItemList:[]}this.ytjcomponent=this.app.loadModal(this.ytjbiaozhulist,{adv:!0},i),this.ytjcomponent.event._addEvent("biaozhulist.showcomponent",function(e){n.showDetailComponent(e)}),this.ytjcomponent.event._addEvent("ytjbiaozhulist.datachange",function(i){n.addComponentData(i.data,e,t),n.ytjcomponent.close()})}},{key:"chooseComponent",value:function(e,t){var n=this,i={chooseddata:[]};if("all"==e)i.chooseddata=this.model.apiData.annotationItemList;else{var a=t.n1,o=t.n2,s=this.vuePage.getImageAnnoItemList()[a].children[o];i.chooseddata=s.annotationItemList?s.annotationItemList:[]}this.addcomponent=this.app.loadModal(this.biaozhulist,{adv:!0},i),this.model.setData("componentdata",{page:1,pageSize:10}),this.addcomponent.event._addEvent("biaozhulist.showcomponent",function(e){n.showDetailComponent(e)}),this.addcomponent.event._addEvent("search.change",function(e){n.model.setData("componentdata",e)}),this.addcomponent.event._addEvent("biaozhulist.adddata",function(i){n.addComponentData(i.list,e,t),n.addcomponent.close()})}},{key:"choosediscurdreason",value:function(e,t){var n=this,i={chooseddata:[]};i.chooseddata=this.model.apiData.discardList?JSON.parse(JSON.stringify(this.model.apiData.discardList)):[],this.discurdreason=this.app.loadModal(this.discurdlist,{adv:!0},i),this.model.setData("discurddata",{page:1,pageSize:10,value:"DISCARD"}),this.discurdreason.event._addEvent("search.change",function(e){n.model.setData("discurddata",e)}),this.discurdreason.event._addEvent("biaozhulist.adddata",function(e){n.addDiscurdData(e.list),n.discurdreason.close()})}},{key:"showDetailComponent",value:function(){var e=l(regeneratorRuntime.mark(function e(t){var i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={id:t.id},this.app.loading.show(),e.next=4,this.api.getcomponentdetail(i);case 4:a=e.sent,this.app.loading.hide(),0==a.code?(o=n(1788),this.app.loadModal(o,{adv:!0},{type:"view",data:a.data})):Tool.errorshow(a.msg,this.app);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addComponentData",value:function(e,t,n){"all"==t?(this.model.apiData.annotationItemList=JSON.parse(JSON.stringify(e)),0==this.model.apiData.annotationItemList.length?this.dom.find(".showalldata").addClass("hide"):this.model.apiData.annotationItemList.some(function(e){return 3!==e.action})?this.dom.find(".showalldata").removeClass("hide"):this.dom.find(".showalldata").addClass("hide")):this.vuePage.updateAnnotationItemList(JSON.parse(JSON.stringify(e))),this.model.setData("apiData",this.model.apiData)}},{key:"addDiscurdData",value:function(e){var t=this;this.model.apiData.discardList=e,this.model.setData("apiData",this.model.apiData),0==e.length?this.dom.find(".viewreason").addClass("hide"):e.map(function(e){3==e.action?t.dom.find(".viewreason").addClass("hide"):t.dom.find(".viewreason").removeClass("hide")})}},{key:"showdiscurdreason",value:function(){var e=this,t={type:this.type,status:this.status,data:[]};t.data=JSON.parse(JSON.stringify(this.model.apiData.discardList)),this.ytjcomponent=this.app.loadModal(this.ytjdiscurdlist,{adv:!0},t),this.ytjcomponent.event._addEvent("ytjbiaozhulist.datachange",function(t){e.addDiscurdData(t.data),e.ytjcomponent.close()})}}]),t}();e.exports=r},1131:function(e,t,n){var i=n(1132);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1132:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,'.list1 {\n  display: inline-block;\n  width: auto;\n  border-left: 0px solid #e1e4e8;\n  border-right: 0px solid #e1e4e8;\n  min-height: 200px;\n}\n.list1 .list-header {\n  display: inline-block;\n  width: auto;\n  height: 50px;\n  line-height: 50px;\n  font-family: MicrosoftYaHei-Bold;\n  font-size: 14px;\n  color: #000000;\n  letter-spacing: 0;\n  font-weight: bolder;\n}\n.list1 .list-header ul {\n  width: auto;\n  overflow: hidden;\n  white-space: nowrap;\n  font-size: 14px;\n  height: 50px;\n  line-height: 50px;\n  color: #17335a;\n  border-bottom: 1px solid #fafafa;\n}\n.list1 .list-header ul li {\n  display: inline-block;\n  position: relative;\n  text-align: center;\n}\n.list1 .list-header ul li .check-box {\n  width: 12px;\n  border: 1px solid #e8e8e8;\n  font-size: 12px;\n  height: 12px;\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  top: 3px;\n}\n.list1 .list-header ul li .check-box.choose:before {\n  content: "\\2714";\n  font-size: 12px;\n  line-height: 10px;\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  color: #528fcc;\n}\n.list1 .list-header ul span {\n  font-family: "Microsoft YaHei";\n  color: #333;\n}\n.list1 .list-header .arrowimg1,\n.list1 .list-header .arrowimg2,\n.list1 .list-header .arrowimg3,\n.list1 .list-header .arrowimg4 {\n  background: url(/images/page/dropdownblack.png);\n  height: 7px;\n  width: 12px;\n  display: inline-block;\n  font-size: 8px;\n  margin: 0 6px;\n  color: #448e97;\n  margin-bottom: 2px;\n  /* margin-top: 24px; */\n}\n.list1 .list-header .arrowimg1.select,\n.list1 .list-header .arrowimg2.select,\n.list1 .list-header .arrowimg3.select,\n.list1 .list-header .arrowimg4.select {\n  background: url(/images/page/dropdowngreen.png);\n}\n.list1 .list-header .arrow_reverse {\n  transform: rotate(180deg);\n}\n.list1 .list-header .arrowimg1 {\n  left: 97px;\n}\n.list1 .list-header .arrowimg2 {\n  left: 117px;\n}\n.list1 .list-header .arrowimg3 {\n  left: 138px;\n}\n.list1 .list-header .arrowimg4 {\n  left: 221px;\n}\n.list1 .button1 {\n  display: inline-block;\n  width: 104px;\n  height: 26px;\n  line-height: 26px;\n  background: #3f82c5;\n  color: #fff;\n  border-radius: 3px;\n  text-align: center;\n  margin-left: 1000px;\n  margin-top: -19px;\n  margin-bottom: 30px;\n  margin-right: 30px;\n  cursor: pointer;\n  float: left;\n}\n.list1 .list-content {\n  margin-bottom: 20px;\n}\n.list1 .list-content .tableList .content {\n  margin: 0 4px;\n  color: #448e97;\n  cursor: pointer;\n}\n.list1 .list-content > div {\n  height: 41px;\n}\n.list1 .list-content > div > ul {\n  width: auto;\n  overflow: hidden;\n  white-space: nowrap;\n  font-size: 12px;\n  height: 40px;\n  line-height: 40px;\n  background: #fff;\n  border-bottom: 1px solid #fafafa;\n  color: #333;\n}\n.list1 .list-content > div > ul .list {\n  border-color: white;\n}\n.list1 .list-content > div > ul > li {\n  height: 40px;\n  line-height: 40px;\n  position: relative;\n  vertical-align: middle;\n  text-align: center;\n  font-family: MicrosoftYaHei;\n  font-size: 14px;\n  letter-spacing: 0;\n  display: inline-block;\n}\n.list1 .list-content > div > ul > li .check-box {\n  width: 12px;\n  border: 1px solid #d9e2e9;\n  font-size: 12px;\n  height: 12px;\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  top: 3px;\n}\n.list1 .list-content > div > ul > li .check-box.choose:before {\n  content: "\\2714";\n  font-size: 12px;\n  line-height: 10px;\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  color: #528fcc;\n}\n.list1 .list-content > div > ul .list1 span {\n  cursor: pointer;\n  color: #448e97;\n  font-size: 14px;\n}\n.list1 .list-content > div > ul .off span {\n  background: #ccc;\n  border-radius: 40px;\n  width: 50px;\n  height: 25px;\n  line-height: 25px;\n  color: #fff;\n  position: relative;\n  text-align: right;\n  padding: 0 5px 0 5px;\n  cursor: pointer;\n  margin-top: 5px;\n}\n.list1 .list-content > div > ul .off span i {\n  width: 21px;\n  height: 21px;\n  border-radius: 23px;\n  display: inline-block;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  background: #fff;\n}\n.list1 .list-content > div > ul .on span {\n  background: #4c9fa9;\n  border-radius: 40px;\n  width: 50px;\n  height: 25px;\n  line-height: 25px;\n  color: #fff;\n  position: relative;\n  text-align: left;\n  padding: 0 5px 0 5px;\n  margin-top: 5px;\n  cursor: pointer;\n}\n.list1 .list-content > div > ul .on span i {\n  width: 21px;\n  height: 21px;\n  border-radius: 23px;\n  display: inline-block;\n  position: absolute;\n  right: 2px;\n  top: 2px;\n  background: #fff;\n}\n.list1 .list-content > div .tableList {\n  border: 0;\n  text-align: center;\n}\n.list1 .list-content > div .tableList .iconfont {\n  margin: 0 5px;\n}\n.list1 .list-content > div .dwdiv {\n  position: unset;\n}\n.list1 .list-content > div .actionul {\n  position: absolute;\n  z-index: 1000;\n  left: -32px;\n  top: 19px;\n  line-height: unset;\n  height: unset;\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  background: #fff;\n  width: 80px;\n  text-align: center;\n}\n.list1 .list-content > div .actionul li {\n  display: block;\n  position: unset;\n  line-height: 30px;\n  height: 30px;\n  border-bottom: 1px solid #e8e8e8;\n}\n.list1 .list-content > div .actionul li:hover {\n  background: #e8e8e8;\n  cursor: pointer;\n}\n.list1 .list-content > div .listlink {\n  color: #4c9fa9;\n  text-decoration: underline;\n  cursor: pointer;\n}\n.list1 .list-content > div:last-child .actionul,\n.list1 .list-content > div:nth-last-child(2) .actionul,\n.list1 .list-content > div:nth-last-child(3) .actionul {\n  top: 0;\n  transform: translate(0, -100%);\n}\n.list1 .list-content > div:first-child .actionul,\n.list1 .list-content > div:nth-child(2) .actionul {\n  top: 0;\n  transform: unset;\n}\n.list1 .list-content > div:nth-child(2n + 1) ul {\n  background: #fafafa;\n}\n.list1 .list-content > div:nth-child(2n + 1) ul .tableList {\n  background: #fafafa;\n}\n.list1 .list-content .newinput {\n  height: 30px;\n  line-height: 30px;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  width: 98%;\n}\n.list1 .updown23 {\n  display: inline-block;\n  background: url(/images/iconDmp.png) -347px -15px;\n  width: 20px;\n  height: 20px;\n  top: 10px;\n}\n.list1 .updown1 {\n  display: inline-block;\n  background: url(/images/iconDmp.png) -347px -39px;\n  width: 20px;\n  height: 20px;\n}\n.list1 .over_css {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  text-align: center;\n}\n.list1 .down {\n  width: 23px;\n  height: 23px;\n  display: inline-block;\n  background: url(/images/sassIcon.png);\n  background-position: -631px -106px;\n}\n.list1 .down:hover {\n  background-position: -631px -129px;\n}\n.list1 .content {\n  font-size: 12px !important;\n}\n.list1 .starGray,\n.list1 .star {\n  width: 155px;\n  height: 23px;\n  margin: 10px 15%;\n  background-image: url(/images/icon.png);\n  background-position: 0px -166px;\n}\n.list1 .star {\n  background-position: 0px -138px;\n  position: absolute;\n  left: 0px;\n  top: 1px;\n}\n.list1 .starS {\n  width: 100px;\n  height: 14px;\n  margin: 5px 0px;\n  background-image: url(/images/icon.png);\n  background-position: 0px -192px;\n}\n.list1 .starTip {\n  padding: 10px;\n  position: absolute;\n  left: 0px;\n  top: -118px;\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  border-radius: 8px;\n}\n.list1 .tipTitle {\n  display: block;\n  width: 100%;\n  text-align: center;\n}\n.list1 .starGroup {\n  position: relative;\n  height: 26px;\n  display: flex;\n  flex-flow: row nowrap;\n}\n.list1 .tipspan {\n  display: inline-block;\n  width: 100px;\n  height: 26px;\n  line-height: 26px;\n  text-align: left;\n}\n.list1 .list0_after {\n  margin-left: 33px;\n  border: 1px solid gainsboro;\n  display: table;\n}\n.list1 .test {\n  border: 1px solid gainsboro;\n  width: 200px;\n  border-radius: 5px;\n}\n.list1 .test input:focus {\n  border-style: solid;\n  border-color: #03a9f4;\n  box-shadow: 0 0 15px #03a9f4;\n}\n.list1 .list0 {\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n  white-space: nowrap;\n}\n.list1 .overhide {\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n}\n.list1 .load .content {\n  width: 100px;\n  color: #fff;\n  border-radius: 10px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -50px;\n  margin-top: -50px;\n  height: 100px;\n}\n.list1 .load .content .pic {\n  background: url(/images/loading1.gif);\n  height: 100%;\n  width: 100%;\n}\n.list1 .mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  z-index: 10;\n}\n',""])},1133:function(e,t){e.exports='<div class=list1> <div class=list-header> <ul></ul> </div> <div class=list-content></div> <div class="dataNone hide">未查询到对应数据，请更改查询条件重新查询！</div> <div class="load hide"> <div class=content> <div class=pic></div> </div> </div> <div class="mask hide"></div> </div> '},1154:function(e,t,n){var i=n(1155);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1155:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".table {\n  overflow: hidden;\n}\n.table > div {\n  float: left;\n}\n.table .maintable {\n  position: relative;\n  margin-bottom: 20px;\n  overflow: hidden;\n}\n.table .list {\n  width: auto;\n  display: inline-block;\n}\n.table .pageset {\n  display: inline-block;\n  margin-left: 30px;\n}\n.table .pageset ._dropdown1 ul {\n  top: -180px;\n}\n.table .pagination {\n  float: right !important;\n}\n.table .list-content ul {\n  overflow: unset !important;\n}\n.table .dataNone {\n  display: inline-block;\n  text-align: center;\n  width: 100%;\n  height: 200px;\n  line-height: 200px;\n  font-size: 20px;\n  font-weight: bold;\n}\n",""])},1156:function(e,t){e.exports='<div class=table> <div class="maintable nodata"> <div class=list></div> </div> <div class="pageset nodata"></div> <div class="pagination nodata"></div> <div class="dataNone hide">未查询到对应数据，请更改查询条件重新查询！</div> </div> '},1178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1179),a=n(1025);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n(1181);var s=n(921),l=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);l.options.__file="app/components/input-number/index.vue",t.default=l.exports},1179:function(e,t,n){"use strict";var i=n(1180);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b})},1180:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",e._b({staticClass:"input-number-wrapper",attrs:{type:"number",value:e.value,maxlength:e.maxlength},on:{input:e.handleInput,blur:e.handleBlur,change:e.handleChage},nativeOn:{keypress:function(t){return e.handleKeyPress.apply(null,arguments)},mousewheel:function(e){e.preventDefault()},keydown:[function(e){if(!e.type.indexOf("key")&&38!==e.keyCode)return null;e.preventDefault()},function(e){if(!e.type.indexOf("key")&&40!==e.keyCode)return null;e.preventDefault()}],keyup:function(t){return e.handleKeyUp.apply(null,arguments)}}},"el-input",e.$attrs,!1),[n("template",{slot:"append"},[e._t("append")],2),e._v(" "),e._t("default")],2)},a=[];i._withStripped=!0},1181:function(e,t,n){"use strict";var i=n(1182);n.n(i)},1182:function(e,t,n){var i=n(1183);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1183:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".input-number-wrapper input[type='number'] {\n  -moz-appearance: textfield;\n}\n.input-number-wrapper input::-webkit-outer-spin-button,\n.input-number-wrapper input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n}\n",""])},1503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1504),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=a.a},1504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(75),a=l(n(706)),o=l(n(1178)),s=l(n(1792));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{InputNumber:o.default,AddTagList:s.default},props:{data:{type:Object,default:function(){}},actionType:{type:String,default:""}},data:function(){return{ruleForm:{type:"child_select",id:"",name:"",isdefault:!1,tagIdList:[],selectList:[{id:this.getRandom(),index:0,code:1,text:"",isChild:!1}]},defaultTagList:[],rules:{name:[{required:!0,message:"请输入下拉列表名称",trigger:"blur"}]}}},computed:{isView:function(){return"view"===this.actionType},isEditLabel:function(){return"editlabel"===this.actionType}},mounted:function(){this.initData()},methods:{initData:function(){if(this.data&&this.data.id){var e=this.data||{},t=e.id,n=e.name,i=e.parameter,a=e.tagList,o=e.data,s=JSON.parse(i),l=JSON.parse(o),r=this.initSelectList(l),d=this.initTagIdList(a);this.ruleForm={id:t,name:n,isdefault:s.isdefault,tagIdList:d,selectList:r}}},initTagIdList:function(e){return this.defaultTagList=e,e.map(function(e){return e.id})},initSelectList:function(e){var t=this;return e&&e.length?e.map(function(e,n){return t.initOption(e,n,-1)}):[]},initOption:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=e.child||[];return a&&a.length&&(a=a.map(function(e,i){return n.initOption(e,i,t)})),{id:this.getRandom(),parentIndex:i,index:t,isChild:i>=0,code:isNaN(e.code)?"":Number(e.code),text:e.text,child:a}},getRandom:function(){return Math.random()},handleDelete:function(e){var t=e.id,n=(e.code,e.isChild),i=this.ruleForm.selectList;if(n)i.some(function(e){var n=e.child||[],i=n.findIndex(function(e){return e.id===t});return-1!==i&&n.splice(i,1),-1!==i});else{var a=i.findIndex(function(e){return e.id===t});i.splice(a,1)}},handleAdd:function(e,t){var n=this.ruleForm.selectList;if(e){var i=-1,a=n.find(function(e,n){return e.id===t&&(i=n),e.id===t});if(a){!a.child&&this.$set(a,"child",[]);var o=this.getListMaxCode(a.child),s=this.getRandom();a.child.splice(a.child.length,0,{id:s,parentIndex:i,index:a.child.length,code:o+1,text:"",isChild:e})}}else{var l=this.getListMaxCode(n),r=this.getRandom();n.splice(n.length,0,{id:r,index:n.length,code:l+1,text:"",isChild:e})}this.ruleForm.selectList=n},getListMaxCode:function(e){return e.reduce(function(e,t){return t.code>e?t.code:e},0)},handleCancel:function(){this.$emit("cancel")},handleSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,o){try{var s=t[a](o),l=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}("next")})}}(regeneratorRuntime.mark(function t(n){var o,s,l,r,d,c,p,h,u,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return i.Message.closeAll(),t.abrupt("return",e.$message.error("请先完善数据"));case 3:if(o=e.ruleForm,s=o.id,l=o.name,r=o.isdefault,d=o.tagIdList,c=o.type,p=o.selectList,h=p.map(function(e){var t=e.child||[];return t=t.map(function(e){return{code:""+e.code,text:e.text}}),{code:""+e.code,text:e.text,child:t}}),u={id:s,name:l,parameter:JSON.stringify({isdefault:r}),tagIdList:d,type:c,data:h},f=void 0,!u.id){t.next=13;break}return t.next=10,a.default.update(u);case 10:f=t.sent,t.next=16;break;case 13:return t.next=15,a.default.create(u);case 15:f=t.sent;case 16:0===f.code&&(e.$message.success("保存成功"),e.$emit("success"));case 17:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())},validateNumberSingle:function(e,t,n,a){var o=this.ruleForm.selectList,s=a.parentIndex,l=(s>=0?o[s].child:o).some(function(e){return e.id!==a.id&&e.code===t});void 0===t?n(new Error("数据不能为空")):t>=0&&l?(i.Message.closeAll(),this.$message.error("数据已重复"),n(new Error("数据已重复"))):n()}}}},1505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1506),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=a.a},1506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(706));function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,o){try{var s=t[a](o),l=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}("next")})}}t.default={props:{value:{type:Array,default:function(){return[]}},defaultTagList:{type:Array,default:function(){return[]}}},data:function(){return{oldSelectIds:[],selectIds:[],tagOptions:[]}},watch:{selectIds:function(e){this.$emit("input",e)},defaultTagList:{handler:function(e){this.tagOptions=e||[]},immediate:!0,deep:!0},value:function(e){this.selectIds=e||[]}},methods:{handleClose:function(e,t){this.selectIds.splice(this.selectIds.indexOf(t.id),1)},queryTags:function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.searchlabel({pageSize:100,category:"component",text:t});case 2:n=e.sent,this.tagOptions=n.data?n.data.list:[];case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleSelectTag:function(e){this.chekIsNew(),this.oldSelectIds=this.selectIds},chekIsNew:function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,a,o,s,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.oldSelectIds,n=this.selectIds,n.length>t.length){e.next=4;break}return e.abrupt("return");case 4:if(a=n[n.length-1],!this.tagOptions.find(function(e){return e.id===a})){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,i.default.createlabel({category:"COMPONENT",text:a});case 10:0===(o=e.sent).code&&o.data&&o.data.id&&(s=o.data.id,this.tagOptions.push({id:s,text:a}),this.$nextTick(function(e){l.selectIds.splice(l.selectIds.indexOf(s),1),l.selectIds.push(s)}));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}}},1762:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1763);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(1765),s.name="textcontrols",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),i(t,[{key:"complete",value:function(){this.render(),this.addevent(),this.hasinput={};var e=this;this.dom.find(".textname").on("change",function(t){e.hasinput.textname=ES.selctorDoc(this).val()})}},{key:"render",value:function(e){var t=this,i=n(919);t.drop=t.app.loadModule(i,t.dom.find(".texttype"),{className:"xlk",firstSelect:{val:"请选择",idx:""},data:[{val:"文本型",idx:"text"},{val:"数字型",idx:"num"}]}),t.drop.event._addEvent("option.click",function(e){t.hasinput.texttype=e.idx}),e&&t.setData(e)}},{key:"addevent",value:function(){var e=this;e.dom.find(".labelsinput").on("keydown",function(t){t.keyCode;13===event.keyCode&&""!=ES.selctorDoc(this).val()&&e.createlabel(ES.selctorDoc(this).val())}),e.dom.find(".labelsarea").on("blur",function(){""!=ES.selctorDoc(this).val()&&e.createlabel(ES.selctorDoc(this).val())}),e.dom.find(".labelsarea").on("click",function(){$(".labelsinput").focus()}),e.dom.find(".labelsinput").on("input",function(){e.dom.find(".labelitem .icon-guanbi").off("click"),e.event._dispatch("controls.inputlabel",{val:ES.selctorDoc(this).val()})})}},{key:"bindlabeldelete",value:function(){var e=this;e.dom.find(".labelitem .icon-guanbi").on("click",function(){ES.selctorDoc(this).parent().parent().remove(),e.event._dispatch("controls.heightchange")})}},{key:"checkrequired",value:function(){return this.dom.find(".inputLine").dom.forEach(function(e,t){e.find("."+e.attr("redlabel")).removeClass("redborder"),e.find(".required").remove(),""!==Tool.checkForm(ES.selctorDoc(e).dom,"red")&&(console.log(e.attr("redlabel")),e.find("."+e.attr("redlabel")).addClass("redborder"),e.find("."+e.attr("redlabel")).after('<span class="required">'+Tool.checkForm(ES.selctorDoc(e).dom,"red")+"</span>"))}),!this.dom.find(".redborder").dom&&this.returndata()}},{key:"returndata",value:function(){var e={type:"text"};e.name=this.dom.find(".textname").val(),e.parameter={},e.parameter.texttype=this.dom.find(".texttype .nowname").attr("data-idx"),e.parameter=JSON.stringify(e.parameter);var t=[];return this.dom.find(".labelsarea .labelitem").dom&&this.dom.find(".labelsarea .labelitem").dom.forEach(function(e,n){e.attr("dataid")&&t.push(parseInt(e.attr("dataid")))}),e.tagIdList=t,e}},{key:"setData",value:function(e){var t=this;t.dom.find(".textname").val(e.name),console.log(t.dom.find(".texttype .nowname")),t.dom.find(".texttype .nowname").click(),t.dom.find('.texttype .option[data-idx="'+JSON.parse(e.parameter).texttype+'"]').click(),e.tagList.forEach(function(e,n){var i='<span class="labelitem" dataid="'+e.id+'">\n                            <label>'+e.text+'</label>\n                            <span><i class="iconfont icon-guanbi"></i></span>\n                        </span>';t.dom.find(".labelsinput").before(i)}),t.bindlabeldelete()}},{key:"labelul",value:function(e){var t=this,n="";e?(e.forEach(function(e,t){n+='<li class="labelli" dataid="'+e.id+'">'+e.text+"</li>"}),t.dom.find(".labelul").html(n),t.dom.find(".labelli").on("click",function(){ES.selctorDoc(this).parent().html(""),t.createlabel(ES.selctorDoc(this).html(),ES.selctorDoc(this).attr("dataid"))})):t.dom.find(".labelul").html("")}},{key:"createlabel",value:function(e,t){if(this.hasinput.tagList="",this.dom.find(".mask").dom&&this.dom.find(".mask").addClass("hide"),this.dom.find(".labelul").html(""),this.dom.find(".tips").css({color:"#666"}),this.dom.find(".labelitem").dom&&this.dom.find(".labelitem").dom.length>=10)this.dom.find(".tips").css({color:"red"}),this.dom.find(".labelsinput").val("");else{var n='<span class="labelitem" dataid="'+t+'">\n                            <label>'+e+'</label>\n                            <span><i class="iconfont icon-guanbi"></i></span>\n                        </span>';this.dom.find(".labelsinput").before(n),t||this.event._dispatch("controls.createlabel",{val:this.dom.find(".labelsinput").val()}),this.dom.find(".labelitem .icon-guanbi").off("click"),this.bindlabeldelete(),this.dom.find(".labelsinput").val(""),this.event._dispatch("controls.heightchange"),this.hasinput.tagList="yes"}}},{key:"setid",value:function(e,t){console.log(e,t),this.dom.find(".labelitem").dom.forEach(function(n,i){n.find("label").html()==t&&n.attr("dataid",e)})}},{key:"getisinput",value:function(){return console.log(this.hasinput,"this,hasinput"),this.hasinput}}]),t}();e.exports=a},1763:function(e,t,n){var i=n(1764);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1764:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".textcontrols {\n  margin-bottom: 50px;\n  margin-left: 60px;\n}\n.textcontrols .inputLine {\n  margin-left: 60px;\n  margin-bottom: 10px;\n}\n.textcontrols .inputLine > span {\n  width: 100px;\n}\n.textcontrols .inputLine > input {\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  height: 35px;\n  line-height: 35px;\n  width: 250px;\n  padding-left: 20px;\n}\n.textcontrols .inputLine .texttype {\n  display: inline-block;\n}\n.textcontrols .inputLine .texttype .xlk {\n  height: 35px;\n  line-height: 35px;\n  width: 270px;\n}\n.textcontrols .inputLine .tips {\n  width: 150px;\n  margin-left: 20px;\n}\n.textcontrols .textparam {\n  margin-left: 63px;\n  margin-top: 40px;\n}\n.textcontrols .textparam > span {\n  margin-right: 20px;\n}\n.textcontrols .labelsarea {\n  width: 400px;\n  min-height: 100px;\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  display: inline-block;\n  padding: 10px;\n  position: relative;\n}\n.textcontrols .labelsarea > span {\n  height: 22px;\n  line-height: 22px;\n  border: 1px solid red;\n  border-radius: 4px;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n.textcontrols .labelsarea > span label {\n  padding: 0 5px 0 10px;\n  font-size: 15px;\n  vertical-align: top;\n}\n.textcontrols .labelsarea > span i {\n  color: #fff;\n  font-size: 14px;\n  cursor: pointer;\n}\n.textcontrols .labelsarea > span span {\n  width: 22px;\n  height: 22px;\n  text-align: center;\n  background: red;\n  position: relative;\n}\n.textcontrols .labelsarea > span span:hover {\n  color: darkred;\n}\n.textcontrols .labelsarea > span span .icon-guanbi {\n  top: 0px;\n  right: 4px;\n}\n.textcontrols .labelsarea > input {\n  border: none;\n  margin-top: 10px;\n}\n.textcontrols .labelsarea .labelul {\n  position: absolute;\n  width: 95%;\n  background: #fff;\n  border-left: 1px solid #e8e8e8;\n  border-right: 1px solid #e8e8e8;\n}\n.textcontrols .labelsarea .labelul .labelli {\n  height: 30px;\n  line-height: 30px;\n  border-bottom: 1px solid #e8e8e8;\n  cursor: pointer;\n}\n.textcontrols .labelsarea .labelul .labelli:hover {\n  background: #ECF3F4;\n}\n.textcontrols .remarkline {\n  margin-top: 60px;\n}\n.textcontrols .remarkline > span {\n  vertical-align: top;\n}\n.textcontrols .required {\n  left: 400px;\n  top: 8px;\n}\n",""])},1765:function(e,t){e.exports='<div class="textarea textcontrols hide"> <div class=inputLine redlabel=inputBox> <label class=redstar>*</label> <span>文本框标题：</span> <input type=text class="textname inputBox" check=empty title=标题 /> </div> <div class=inputLine redlabel=xlk> <label class=redstar>*</label> <span>文本类型：</span> <div class=texttype check=empty></div> </div> <div class="inputLine remarkline"> <span>标签：</span> <div class=labelsarea> <input type=text class=labelsinput /> <ul class=labelul> </ul> </div> <span class=tips>最多可添加10个标签</span> </div> </div> '},1766:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1767);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(1769),s.name="selectcontrols",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),i(t,[{key:"complete",value:function(){this.bindxlkli(),this.addevent(),this.hasinput={};var e=this;switch(this.dom.find(".inputBox").on("change",function(){e.hasinput[ES.selctorDoc(this).attr("class")]=ES.selctorDoc(this).val()}),console.log(e.nowParam),e.nowParam.controlType){case"radiobox":e.dom.find(".wspan").html("单选框标题"),e.dom.find(".selectcontrols").addClass("radioboxarea");break;case"select":e.dom.find(".selectcontrols").addClass("selectarea")}}},{key:"addevent",value:function(){var e=this;e.dom.find(".labelsinput").on("keydown",function(t){t.keyCode;13===event.keyCode&&""!=ES.selctorDoc(this).val()&&e.createlabel(ES.selctorDoc(this).val())}),e.dom.find(".labelsarea").on("blur",function(){""!=ES.selctorDoc(this).val()&&e.createlabel(ES.selctorDoc(this).val())}),e.dom.find(".labelsarea").on("click",function(){$(".labelsinput").focus()}),e.dom.find(".labelsinput").on("input",function(){e.dom.find(".labelitem .icon-guanbi").off("click"),e.event._dispatch("controls.inputlabel",{val:ES.selctorDoc(this).val()})}),e.dom.find(".check-box").on("click",function(){ES.selctorDoc(this).hasClass("choose")?ES.selctorDoc(this).removeClass("choose"):ES.selctorDoc(this).addClass("choose")})}},{key:"bindlabeldelete",value:function(){this.dom.find(".labelitem .icon-guanbi").on("click",function(){ES.selctorDoc(this).parent().parent().remove()})}},{key:"bindxlkli",value:function(){var e=this;e.dom.find(".icon-tianjia").on("click",function(){e.dom.find(".itemarea").append('<li class="item">\n<p class="inputLine" redlabel="inputBox"><label class="redstar">*</label>                    <span class="num">选项<label>'+(e.dom.find(".selectmain .item").dom.length+1)+'</label></span>\n                    <input type="text" class="item'+(e.dom.find(".selectmain .item").dom.length+1)+'value inputBox " check="empty" api="value"/>\n</p><p class="inputLine" redlabel="inputBox"><label class="redstar">*</label>\n                <span>默认值</span>\n                <input type="text" class="item'+(e.dom.find(".selectmain .item").dom.length+1)+'code inputBox " check="empty|num" api="code" reg ="/^[0-9]*$/" error="请输入大于等于0的整数"/>                    <i class="iconfont icon-shanchu"></i>\n</p>                </li>'),e.dom.find(".icon-tianjia").off("click"),e.dom.find(".item").dom.length>1&&"correct"!==e.nowParam.type&&e.dom.find(".icon-shanchu").removeClass("hide"),console.log("aaaaa"),e.bindxlkli(),e.event._dispatch("controls.heightchange")}),e.dom.find(".icon-shanchu").on("click",function(){ES.selctorDoc(this).parent().parent().remove(),e.dom.find(".item").dom.length<2&&e.dom.find(".icon-shanchu").addClass("hide"),e.dom.find(".item").dom.forEach(function(e,t){console.log(ES.selctorDoc(e).dom,"number"),ES.selctorDoc(e).dom.find(".num label").html(t+1+"")}),e.event._dispatch("controls.heightchange")})}},{key:"checkrequired",value:function(){if(this.dom.find(".inputLine").dom.forEach(function(e,t){e.find("."+e.attr("redlabel")).removeClass("redborder"),e.find(".required").remove(),""!==Tool.checkForm(ES.selctorDoc(e).dom,"red")&&(console.log(e.attr("redlabel")),e.find("."+e.attr("redlabel")).addClass("redborder"),e.find("."+e.attr("redlabel")).after('<span class="required">'+Tool.checkForm(ES.selctorDoc(e).dom,"red")+"</span>"))}),this.dom.find(".redborder").dom)return!1;var e=this.returndata();return e||!1}},{key:"returndata",value:function(){var e={};e.type=this.nowParam.controlType,e.name=this.dom.find(".xialaname").val(),e.parameter={},e.parameter.isdefault=this.dom.find(".isdefault").hasClass("choose"),e.parameter=JSON.stringify(e.parameter);var t=[];this.dom.find(".labelsarea .labelitem").dom&&this.dom.find(".labelsarea .labelitem").dom.forEach(function(e,n){e.attr("dataid")&&t.push(parseInt(e.attr("dataid")))}),e.tagIdList=t,e.data=[];var n=",",i=",",a=!0;return this.dom.find(".itemarea li").dom.forEach(function(t,o){if(console.log(t,"val"),-1!=n.lastIndexOf(","+t.find("input[api=code]").val()+","))return t.find("input[api=code]").addClass("redborder"),t.find("input[api=code]").val(""),t.find("input[api=code]").after('<span class="required">重复</span>'),void(a=!1);if(-1!=i.lastIndexOf(","+t.find("input[api=value]").val()+","))return t.find("input[api=value]").addClass("redborder"),t.find("input[api=value]").val(""),t.find("input[api=value]").after('<span class="required">重复</span>'),void(a=!1);n+=t.find("input[api=code]").val()+",",i+=t.find("input[api=value]").val()+",";var s={};console.log(t,t.find("input[api=value]").val(),t.find("input[api=code]").val()),s.text=t.find("input[api=value]").val(),s.code=t.find("input[api=code]").val(),e.data.push(s)}),e.data=JSON.stringify(e.data),!!a&&e}},{key:"render",value:function(e){console.log(e);var t=this;t.dom.find(".xialaname").val(e.name),JSON.parse(e.parameter).isdefault&&t.dom.find(".isdefault").click(),JSON.parse(e.data).forEach(function(n,i){i!=JSON.parse(e.data).length-1&&t.dom.find(".icon-tianjia").click(),t.dom.find(".item"+(1*i+1)+"value").val(n.text),t.dom.find(".item"+(1*i+1)+"code").val(n.code)}),e.tagList.forEach(function(e,n){var i='<span class="labelitem" dataid="'+e.id+'">\n                            <label>'+e.text+'</label>\n                            <span><i class="iconfont icon-guanbi"></i></span>\n                        </span>';t.dom.find(".labelsinput").before(i)}),t.bindlabeldelete()}},{key:"labelul",value:function(e){var t=this,n="";e?(e.forEach(function(e,t){n+='<li class="labelli" dataid="'+e.id+'">'+e.text+"</li>"}),t.dom.find(".labelul").html(n),t.dom.find(".labelli").on("click",function(){ES.selctorDoc(this).parent().html(""),t.createlabel(ES.selctorDoc(this).html(),ES.selctorDoc(this).attr("dataid"))})):t.dom.find(".labelul").html("")}},{key:"createlabel",value:function(e,t){if(this.hasinput.tagList="",this.dom.find(".mask").dom&&this.dom.find(".mask").addClass("hide"),this.dom.find(".labelul").html(""),this.dom.find(".tips").css({color:"#666"}),this.dom.find(".labelitem").dom&&this.dom.find(".labelitem").dom.length>=10)this.dom.find(".tips").css({color:"red"}),this.dom.find(".labelsinput").val("");else{var n='<span class="labelitem" dataid="'+t+'">\n                            <label>'+e+'</label>\n                            <span><i class="iconfont icon-guanbi"></i></span>\n                        </span>';this.dom.find(".labelsinput").before(n),t||this.event._dispatch("controls.createlabel",{val:this.dom.find(".labelsinput").val()}),this.dom.find(".labelitem .icon-guanbi").off("click"),this.bindlabeldelete(),this.dom.find(".labelsinput").val(""),this.event._dispatch("controls.heightchange"),this.hasinput.tagList="yes"}}},{key:"setid",value:function(e,t){this.dom.find(".labelitem").dom.forEach(function(n,i){n.find("label").html()==t&&n.attr("dataid",e)})}},{key:"getisinput",value:function(){return this.hasinput}}]),t}();e.exports=a},1767:function(e,t,n){var i=n(1768);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1768:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".selectcontrols {\n  margin-bottom: 50px;\n  margin-left: 60px;\n}\n.selectcontrols .inputLine {\n  margin-left: 60px;\n  margin-bottom: 20px;\n}\n.selectcontrols .inputLine > span {\n  width: 50px;\n  white-space: nowrap;\n}\n.selectcontrols .inputLine > input {\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  height: 35px;\n  line-height: 35px;\n  width: 100px;\n  padding-left: 20px;\n  margin-right: 10px;\n}\n.selectcontrols .inputLine .texttype {\n  display: inline-block;\n}\n.selectcontrols .inputLine .texttype .xlk {\n  height: 35px;\n  line-height: 35px;\n  width: 270px;\n}\n.selectcontrols .inputLine .tips {\n  width: 150px;\n  margin-left: 20px;\n}\n.selectcontrols .inputLine .wspan {\n  width: 100px;\n}\n.selectcontrols .inputLine .winput {\n  width: 250px;\n}\n.selectcontrols .labelsarea {\n  width: 400px;\n  min-height: 100px;\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  display: inline-block;\n  padding: 10px;\n  position: relative;\n}\n.selectcontrols .labelsarea > span {\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid red;\n  border-radius: 4px;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n.selectcontrols .labelsarea > span label {\n  padding: 0 5px 0 10px;\n  font-size: 15px;\n  vertical-align: top;\n}\n.selectcontrols .labelsarea > span i {\n  color: #fff;\n  font-size: 14px;\n  cursor: pointer;\n}\n.selectcontrols .labelsarea > span span {\n  width: 22px;\n  height: 22px;\n  text-align: center;\n  background: red;\n  position: relative;\n}\n.selectcontrols .labelsarea > span span:hover {\n  color: darkred;\n}\n.selectcontrols .labelsarea > span span .icon-guanbi {\n  top: 0px;\n  right: 4px;\n}\n.selectcontrols .labelsarea > input {\n  border: none;\n  margin-top: 10px;\n}\n.selectcontrols .labelsarea .labelul {\n  position: absolute;\n  width: 95%;\n  background: #fff;\n  border-left: 1px solid #e8e8e8;\n  border-right: 1px solid #e8e8e8;\n}\n.selectcontrols .labelsarea .labelul .labelli {\n  height: 30px;\n  line-height: 30px;\n  border-bottom: 1px solid #e8e8e8;\n  cursor: pointer;\n}\n.selectcontrols .labelsarea .labelul .labelli:hover {\n  background: #ecf3f4;\n}\n.selectcontrols .remarkline {\n  margin-top: 60px;\n}\n.selectcontrols .remarkline > span {\n  vertical-align: top;\n}\n.selectcontrols .selectparam {\n  margin-left: 63px;\n  margin-top: 40px;\n}\n.selectcontrols .selectparam > span {\n  margin-right: 20px;\n}\n.selectcontrols {\n  position: relative;\n}\n.selectcontrols .icon-tianjia {\n  color: #4c9fa9;\n  position: absolute;\n  left: 560px;\n  bottom: 30px;\n  z-index: 1000;\n  cursor: pointer;\n}\n.selectcontrols .icon-shanchu {\n  color: red;\n  cursor: pointer;\n  margin-left: 100px;\n}\n.selectcontrols .itemarea {\n  position: relative;\n}\n.selectcontrols .itemarea .item > p {\n  display: inline-block;\n}\n.selectcontrols .itemarea .item > p:nth-child(2n + 1) {\n  margin-left: 80px;\n}\n.selectcontrols .itemarea .item > p:nth-child(2n) {\n  margin-left: 20px;\n}\n.selectcontrols .required {\n  left: 400px;\n  top: 8px;\n}\n.selectcontrols .item .required {\n  left: 65px;\n  top: 36px;\n}\n",""])},1769:function(e,t){e.exports='<div class="selectcontrols hide"> <div class=inputLine redlabel=inputBox> <label class=redstar>*</label> <span class=wspan>下拉菜单标题：</span> <input type=text class="xialaname inputBox winput" check=empty /> </div> <div class=selectmain> <ul class=itemarea> <i class="iconfont icon-tianjia"></i> <li class=item> <p class=inputLine redlabel=inputBox> <label class=redstar>*</label> <span>选项1</span> <input type=text class="item1value inputBox" check=empty api=value /> </p> <p class=inputLine redlabel=inputBox> <label class=redstar>*</label> <span>默认值</span> <input type=text class="item1code inputBox" check=empty|num api=code reg=/^[0-9]*$/ error=请输入大于等于0的整数 /> <i class="iconfont icon-shanchu hide"></i> </p> </li> </ul> <div class=selectparam> <i class="isdefault check-box"></i> <span>是否要设置默认值</span> <span>提示：设置的默认值是选项1</span> </div> <div class="inputLine remarkline"> <span>标签：</span> <div class=labelsarea> <input type=text class=labelsinput /> <ul class=labelul> </ul> </div> <span class=tips>最多可添加10个标签</span> </div> </div> </div> '},1770:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1771);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(1773),s.name="checkboxcontrols",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),i(t,[{key:"complete",value:function(){var e=this;this.bindcheckboxli(),this.addevent(),this.hasinput={},console.log(this.nowParam,"fffff"),this.dom.find(".inputBox").on("change",function(){e.hasinput[ES.selctorDoc(this).attr("class")]=ES.selctorDoc(this).val()})}},{key:"addevent",value:function(){var e=this;e.dom.find(".labelsinput").on("keydown",function(t){t.keyCode;13===event.keyCode&&""!=ES.selctorDoc(this).val()&&e.createlabel(ES.selctorDoc(this).val())}),e.dom.find(".labelsarea").on("blur",function(){""!=ES.selctorDoc(this).val()&&e.createlabel(ES.selctorDoc(this).val())}),e.dom.find(".labelsarea").on("click",function(){$(".labelsinput").focus()}),e.dom.find(".labelsinput").on("input",function(){e.dom.find(".labelitem .icon-guanbi").off("click"),e.event._dispatch("controls.inputlabel",{val:ES.selctorDoc(this).val()})}),e.dom.find(".check-box").on("click",function(){ES.selctorDoc(this).hasClass("choose")?ES.selctorDoc(this).removeClass("choose"):ES.selctorDoc(this).addClass("choose")})}},{key:"createlabel",value:function(e,t){if(this.hasinput.tagList="",this.dom.find(".mask").dom&&this.dom.find(".mask").addClass("hide"),this.dom.find(".labelul").html(""),this.dom.find(".tips").css({color:"#666"}),this.dom.find(".labelitem").dom&&this.dom.find(".labelitem").dom.length>=10)this.dom.find(".tips").css({color:"red"}),this.dom.find(".labelsinput").val("");else{var n='<span class="labelitem" dataid="'+t+'">\n                            <label>'+e+'</label>\n                            <span><i class="iconfont icon-guanbi"></i></span>\n                        </span>';this.dom.find(".labelsinput").before(n),t||this.event._dispatch("controls.createlabel",{val:this.dom.find(".labelsinput").val()}),this.dom.find(".labelitem .icon-guanbi").off("click"),this.bindlabeldelete(),this.dom.find(".labelsinput").val(""),this.event._dispatch("controls.heightchange"),this.hasinput.tagList="yes"}}},{key:"bindlabeldelete",value:function(){this.dom.find(".labelitem .icon-guanbi").on("click",function(){ES.selctorDoc(this).parent().parent().remove()})}},{key:"bindcheckboxli",value:function(){var e=this;e.dom.find(".icon-tianjia").on("click",function(){e.dom.find(".itemarea").append('<li class="item">\n<p class="inputLine" redlabel="inputBox">                    <label class="redstar">*</label>                    <span class="num">选项<label>'+(e.dom.find(".checkboxmain .item").dom.length+1)+'</label></span>\n                    <input type="text" class="item'+(e.dom.find(".checkboxmain .item").dom.length+1)+'value inputBox" redlabel="inputBox" check="empty" api="value"/>\n</p><p class="inputLine" redlabel="inputBox"><label class="redstar">*</label>\n                <span>默认值</span>\n                <input type="text" class="item'+(e.dom.find(".checkboxmain .item").dom.length+1)+'code inputBox" check="empty|num" api="code" reg ="/^[0-9]*$/" error="请输入大于等于0的整数"/>                    <i class="iconfont icon-shanchu"></i>\n                </p></li>'),e.dom.find(".icon-tianjia").off("click"),e.dom.find(".itemarea .check-box").off("click"),e.dom.find(".itemarea .check-box").on("click",function(){ES.selctorDoc(this).hasClass("choose")?ES.selctorDoc(this).removeClass("choose"):ES.selctorDoc(this).addClass("choose")}),e.dom.find(".item").dom.length>1&&"correct"!==e.nowParam.type&&e.dom.find(".icon-shanchu").removeClass("hide"),e.bindcheckboxli(),e.event._dispatch("controls.heightchange")}),e.dom.find(".icon-shanchu").on("click",function(){ES.selctorDoc(this).parent().parent().remove(),e.dom.find(".item").dom.length<2&&e.dom.find(".icon-shanchu").addClass("hide"),e.dom.find(".item").dom.forEach(function(e,t){console.log(ES.selctorDoc(e).dom,"number"),ES.selctorDoc(e).dom.find(".num label").html(t+1+"")}),e.event._dispatch("controls.heightchange")})}},{key:"checkrequired",value:function(){if(console.log(this.dom.find(".inputLine").dom.length),this.dom.find(".inputLine").dom.forEach(function(e,t){e.find("."+e.attr("redlabel")).removeClass("redborder"),e.find(".required").remove(),console.log(Tool.checkForm(ES.selctorDoc(e).dom,"red")),""!==Tool.checkForm(ES.selctorDoc(e).dom,"red")&&(e.find("."+e.attr("redlabel")).addClass("redborder"),e.find("."+e.attr("redlabel")).after('<span class="required">'+Tool.checkForm(ES.selctorDoc(e).dom,"red")+"</span>"))}),this.dom.find(".redborder").dom)return!1;var e=this.returndata();return e||!1}},{key:"returndata",value:function(){var e={type:"checkbox"};e.name=this.dom.find(".checkboxname").val();var t=[];this.dom.find(".labelsarea .labelitem").dom&&this.dom.find(".labelsarea .labelitem").dom.forEach(function(e,n){e.attr("dataid")&&t.push(parseInt(e.attr("dataid")))}),e.tagIdList=t,e.data=[],e.parameter={},e.parameter.hasnull=this.dom.find(".nullarea i").hasClass("choose"),e.parameter=JSON.stringify(e.parameter);var n=",",i=",",a=!0;return this.dom.find(".itemarea li").dom.forEach(function(t,o){if(-1!=n.lastIndexOf(","+t.find("input[api=code]").val()+","))return t.find("input[api=code]").addClass("redborder"),t.find("input[api=code]").val(""),t.find("input[api=code]").after('<span class="required">重复</span>'),void(a=!1);if(-1!=i.lastIndexOf(","+t.find("input[api=value]").val()+","))return t.find("input[api=value]").addClass("redborder"),t.find("input[api=value]").val(""),t.find("input[api=value]").after('<span class="required">重复</span>'),void(a=!1);n+=t.find("input[api=code]").val()+",",i+=t.find("input[api=value]").val()+",";var s={};s.text=t.find("input[api=value]").val(),s.code=t.find("input[api=code]").val(),e.data.push(s)}),e.data=JSON.stringify(e.data),!!a&&e}},{key:"render",value:function(e){var t=this;t.dom.find(".checkboxname").val(e.name),JSON.parse(e.data).forEach(function(n,i){i!=JSON.parse(e.data).length-1&&t.dom.find(".icon-tianjia").click(),t.dom.find(".item"+(1*i+1)+"value").val(n.text),t.dom.find(".item"+(1*i+1)+"code").val(n.code)}),JSON.parse(e.parameter).hasnull&&t.dom.find(".nullarea i").addClass("choose"),e.tagList.forEach(function(e,n){var i='<span class="labelitem" dataid="'+e.id+'">\n                            <label>'+e.text+'</label>\n                            <span><i class="iconfont icon-guanbi"></i></span>\n                        </span>';t.dom.find(".labelsinput").before(i)}),t.bindlabeldelete()}},{key:"labelul",value:function(e){var t=this,n="";e?(e.forEach(function(e,t){n+='<li class="labelli" dataid="'+e.id+'">'+e.text+"</li>"}),t.dom.find(".labelul").html(n),t.dom.find(".labelli").on("click",function(){ES.selctorDoc(this).parent().html(""),t.createlabel(ES.selctorDoc(this).html(),ES.selctorDoc(this).attr("dataid"))})):t.dom.find(".labelul").html("")}},{key:"setid",value:function(e,t){this.dom.find(".labelitem").dom.forEach(function(n,i){n.find("label").html()==t&&n.attr("dataid",e)})}},{key:"getisinput",value:function(){return this.hasinput}}]),t}();e.exports=a},1771:function(e,t,n){var i=n(1772);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1772:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".checkboxarea {\n  margin-bottom: 50px;\n  margin-left: 60px;\n}\n.checkboxarea .inputLine {\n  margin-left: 60px;\n  margin-bottom: 20px;\n}\n.checkboxarea .inputLine > span {\n  width: 50px;\n  white-space: nowrap;\n}\n.checkboxarea .inputLine > input {\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  height: 35px;\n  line-height: 35px;\n  width: 100px;\n  padding-left: 20px;\n  margin-right: 10px;\n}\n.checkboxarea .inputLine .texttype {\n  display: inline-block;\n}\n.checkboxarea .inputLine .texttype .xlk {\n  height: 35px;\n  line-height: 35px;\n  width: 270px;\n}\n.checkboxarea .inputLine .tips {\n  width: 150px;\n  margin-left: 20px;\n}\n.checkboxarea .inputLine .wspan {\n  width: 100px;\n}\n.checkboxarea .inputLine .winput {\n  width: 250px;\n}\n.checkboxarea .labelsarea {\n  width: 400px;\n  min-height: 100px;\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  display: inline-block;\n  padding: 10px;\n  position: relative;\n}\n.checkboxarea .labelsarea > span {\n  height: 22px;\n  line-height: 22px;\n  border: 1px solid red;\n  border-radius: 4px;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n.checkboxarea .labelsarea > span label {\n  padding: 0 5px 0 10px;\n  font-size: 15px;\n  vertical-align: top;\n}\n.checkboxarea .labelsarea > span i {\n  color: #fff;\n  font-size: 14px;\n  cursor: pointer;\n}\n.checkboxarea .labelsarea > span span {\n  width: 22px;\n  height: 22px;\n  text-align: center;\n  background: red;\n  position: relative;\n}\n.checkboxarea .labelsarea > span span:hover {\n  color: darkred;\n}\n.checkboxarea .labelsarea > span span .icon-guanbi {\n  top: 0px;\n  right: 4px;\n}\n.checkboxarea .labelsarea > input {\n  border: none;\n  margin-top: 10px;\n}\n.checkboxarea .labelsarea .labelul {\n  position: absolute;\n  width: 95%;\n  background: #fff;\n  border-left: 1px solid #e8e8e8;\n  border-right: 1px solid #e8e8e8;\n}\n.checkboxarea .labelsarea .labelul .labelli {\n  height: 30px;\n  line-height: 30px;\n  border-bottom: 1px solid #e8e8e8;\n  cursor: pointer;\n}\n.checkboxarea .labelsarea .labelul .labelli:hover {\n  background: #ECF3F4;\n}\n.checkboxarea .remarkline {\n  margin-top: 60px;\n}\n.checkboxarea .remarkline > span {\n  vertical-align: top;\n}\n.checkboxparam {\n  margin-left: 63px;\n  margin-top: 40px;\n}\n.checkboxparam > span {\n  margin-right: 20px;\n}\n.checkboxarea {\n  position: relative;\n}\n.checkboxarea .icon-tianjia {\n  color: #4c9fa9;\n  position: absolute;\n  left: 560px;\n  bottom: 30px;\n  cursor: pointer;\n  z-index: 1000;\n}\n.checkboxarea .icon-shanchu {\n  color: red;\n  cursor: pointer;\n  margin-left: 100px;\n}\n.checkboxarea .itemarea {\n  position: relative;\n}\n.checkboxarea .itemarea .item > p {\n  display: inline-block;\n}\n.checkboxarea .itemarea .item > p:nth-child(2n+1) {\n  margin-left: 80px;\n}\n.checkboxarea .itemarea .item > p:nth-child(2n) {\n  margin-left: 20px;\n}\n.checkboxarea .ishuchi {\n  display: inline-block;\n  margin-left: 80px;\n}\n.checkboxarea .nullarea {\n  margin-left: 60px;\n  margin-top: 30px;\n}\n.checkboxarea .required {\n  left: 400px;\n  top: 8px;\n}\n.checkboxarea .item .required {\n  left: 65px;\n  top: 36px;\n}\n",""])},1773:function(e,t){e.exports='<div class="checkboxarea checkboxcontrols hide"> <div class=inputLine redlabel=inputBox> <label class=redstar>*</label> <span class=wspan>复选组标题：</span> <input type=text class="checkboxname inputBox winput" check=empty /> </div> <div class=checkboxmain> <ul class=itemarea> <i class="iconfont icon-tianjia"></i> <li class=item> <p class=inputLine redlabel=inputBox> <label class=redstar>*</label> <span>选项1</span> <input type=text class="item1value inputBox" check=empty api=value /> </p> <p class=inputLine redlabel=inputBox> <label class=redstar>*</label> <span>默认值</span> <input type=text class="item1code inputBox" check=empty|num api=code reg=/^[0-9]*$/ error=请输入大于等于0的整数 /> <i class="iconfont icon-shanchu hide"></i> </p> </li> </ul> <div class=nullarea> <i class="check-box mutex"></i> <span>是否设置“无”选项&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此选项为互斥效果</span> </div> <div class="inputLine remarkline"> <span>标签：</span> <div class=labelsarea> <input type=text class=labelsinput /> <ul class=labelul> </ul> </div> <span class=tips>最多可添加10个标签</span> </div> </div> </div>'},1788:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1789));n(1801);var o=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(1803),s.name="createcomponent",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.modalBase),i(t,[{key:"complete",value:function(){this.initVuePage();var e=this;switch(this.flag=!0,this.yymcdata=[{val:"医院1",idx:"1"},{val:"医院2",idx:"2"}],console.log(this.api,"this.api"),this.type=this.api.type,this.componentId=this.api.componentid,this.apiData={},this.nowcontrols=null,this.dom.find(".component").on("click",function(){if(!ES.selctorDoc(this).hasClass("disabled"))if("child_select"!==ES.selctorDoc(this).attr("type")){var t=n(1762),i=n(1766),a={text:t,select:i,radiobox:i,checkbox:n(1770)};e.nowcontrols=e.app.loadModule(a[ES.selctorDoc(this).attr("type")],e.dom.find(".mainarea"),{type:e.type,controlType:ES.selctorDoc(this).attr("type")}),"view"!==e.type&&e.dom.find(".save").removeClass("hide"),e.nowcontrols.event._addEvent("controls.heightchange",function(){e.initscroll()}),e.nowcontrols.event._addEvent("controls.createlabel",function(t){e.event._dispatch("component.createlabel",{data:t})}),e.nowcontrols.event._addEvent("controls.inputlabel",function(t){setTimeout(function(){e.event._dispatch("component.inputlabel",{data:t})},1e3)}),e.flag=!1,e.dom.find(".component").addClass("hide"),ES.selctorDoc(this).removeClass("hide"),e.apiData={},e.apiData.type=ES.selctorDoc(this).attr("type"),e.dom.find("."+ES.selctorDoc(this).attr("type")+"area").removeClass("hide"),e.dom.find(".component").addClass("disabled"),e.initscroll()}else e.vuePage.showChildSelect(!0)}),e.dom.find(".mask").on("click",function(){e.nowcontrols.labelul(""),e.dom.find(".mask").addClass("hide")}),e.dom.find(".icon-guanbi").on("click",function(){e.close()}),this.dom.find(".cancel").on("click",function(){if(e.dom.find(".mask").addClass("hide"),e.dom.find(".component").removeClass("disabled"),"edit"==e.type||"view"==e.type||"correct"==e.type)e.close();else if(null!==e.nowcontrols){var t=e.getisinput();for(var n in t)if(console.log(t),""!==t[n]&&void 0!=t[n])return e.app.alert.show({title:" ",msg:"内容有更新，返回将不做保存。",close:!0,sure:function(){e.dom.find(".mainarea").html(""),e.dom.find(".component").removeClass("hide"),e.initscroll(),e.nowcontrols=null,e.dom.find(".save").addClass("hide")}}),!1;e.dom.find(".mainarea").html(""),e.dom.find(".component").removeClass("hide"),e.initscroll(),e.nowcontrols=null,e.dom.find(".save").addClass("hide")}else e.close()}),e.dom.find(".save").on("click",function(){e.apiData=e.nowcontrols.checkrequired(),e.apiData&&("new"==e.type?e.event._dispatch("component.new",{data:e.apiData}):(console.log(e.apiData,"that.apiData",e.componentId),e.apiData.id=e.componentId,e.event._dispatch("component.edit",{data:e.apiData})))}),this.type){case"edit":e.dom.find(".bigtitle").html("编辑标注字段"),e.dom.find(".stitle").addClass("hide"),e.setData(e.api.data);break;case"view":e.dom.find(".bigtitle").html("查看标注字段"),e.dom.find(".save").addClass("hide"),e.dom.find(".cancel").html("关闭"),e.dom.find(".stitle").addClass("hide"),e.setData(e.api.data);break;case"editlabel":e.dom.find(".bigtitle").html("编辑标签"),e.dom.find(".stitle").addClass("hide"),e.setData(e.api.data);break;case"correct":e.dom.find(".bigtitle").html("修正标注"),e.dom.find(".stitle").addClass("hide"),e.setData(e.api.data)}}},{key:"initVuePage",value:function(){var e=this;this.vuePage=new Vue({el:"#createcomponent",components:{CreateSelect:a.default},data:function(){return{isShowChildSelect:!1,actionType:"",selectData:{}}},methods:{setChildSelectData:function(e,t){this.selectData=e,this.actionType=t},showChildSelect:function(t){this.isShowChildSelect=t,t?(e.dom.find(".createcomponent").addClass("hide"),e.dom.find(".btnarea").addClass("hide")):(e.dom.find(".createcomponent").removeClass("hide"),e.dom.find(".btnarea").removeClass("hide"))},handleSaveSuccess:function(){this.showChildSelect(!1),e.dom.find(".cancel").click(),e.event._dispatch("component.saveSuccess")},handleCancel:function(){this.showChildSelect(!1),this.selectData.id&&e.dom.find(".cancel").click()}}})}},{key:"createlabel",value:function(e,t){this.nowcontrols.setid(e.data.id,t.data.val)}},{key:"showlabel",value:function(e){e.data.list.length>0?(this.nowcontrols.labelul(e.data.list),this.dom.find(".mask").removeClass("hide")):(this.nowcontrols.labelul(""),this.dom.find(".mask").addClass("hide"))}},{key:"setData",value:function(e){var t=this;parseInt(t.componentId);switch(t.dom.find('.component[type="'+e.type+'"]').click(),"child_select"===e.type?t.vuePage.setChildSelectData(e,t.type):t.nowcontrols.render(e),t.dom.find(".component").off("click"),t.type){case"view":t.dom.find(".iconfont").dom&&t.dom.find(".mainarea .iconfont").addClass("hide"),t.dom.find(".labelitem span").css({background:"#fff"}),t.dom.find(".check-box").dom&&t.dom.find(".check-box").dom.forEach(function(e,n){e.hasClass("choose")?(e.removeClass("choose"),t.dom.find(".check-box").off("click"),e.addClass("choose")):t.dom.find(".check-box").off("click")}),t.dom.find(".isdefault").off("click"),t.dom.find("input").attr("disabled","disabled"),t.nowcontrols.drop.disable();break;case"edit":break;case"editlabel":t.dom.find(".inputLine").addClass("hide"),t.dom.find(".remarkline").removeClass("hide"),t.dom.find(".selectparam").addClass("hide"),t.dom.find(".itemarea").addClass("hide"),t.dom.find(".nullarea").addClass("hide"),t.initscroll();break;case"correct":t.dom.find('input[api="code"]').dom&&t.dom.find('input[api="code"]').attr("disabled","disabled"),t.dom.find(".icon-shanchu").addClass("hide")}}},{key:"initscroll",value:function(){if(this.myScroll)this.myScroll.refresh();else{var e="aaa_"+Math.floor((new Date).getTime()*Math.random());ES.selctorDoc(".createcomponent").attr("id",e),this.myScroll=new IScroll("#"+e,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}},{key:"getisinput",value:function(){return this.nowcontrols.getisinput()}}]),t}();e.exports=o},1789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1790),a=n(1503);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n(1798);var s=n(921),l=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);l.options.__file="app/modal/createcomponent/components/create-select.vue",t.default=l.exports},1790:function(e,t,n){"use strict";var i=n(1791);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b})},1791:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"child-selectcontrols"},[n("el-form",{ref:"ruleForm",staticClass:"form-wrapper",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"下拉菜单标题",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入下拉菜单标题",disabled:e.isEditLabel||e.isView},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"",prop:"isdefault"}},[n("el-checkbox",{attrs:{disabled:e.isEditLabel||e.isView},model:{value:e.ruleForm.isdefault,callback:function(t){e.$set(e.ruleForm,"isdefault",t)},expression:"ruleForm.isdefault"}},[e._v("是否设置默认值 "),n("span",{staticClass:"tip-info"},[e._v("（设置的默认值是选项1）")])])],1)],1)],1),e._v(" "),n("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.isEditLabel,expression:"!isEditLabel"}]},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"下拉选项"}},[n("el-table",{staticClass:"tree-table-wrapper",attrs:{data:e.ruleForm.selectList,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"child",hasChildren:"hasChildren"}}},[n("el-table-column",{attrs:{label:"选项"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isChild?n("el-form-item",{attrs:{prop:"selectList."+t.row.parentIndex+".child."+t.row.index+".text",rules:[{required:!0,trigger:["blur","change"]}]}},[n("el-input",{attrs:{autocomplete:"off",placeholder:"请输入选项名称",maxlength:30,disabled:e.isView},model:{value:t.row.text,callback:function(n){e.$set(t.row,"text",n)},expression:"scope.row.text"}})],1):n("el-form-item",{attrs:{prop:"selectList."+t.row.index+".text",rules:[{required:!0,trigger:["blur","change"]}]}},[t.row.isChild||t.row.child&&t.row.child.length?e._e():n("div",{staticClass:"no-child-arraw el-table__expand-icon"},[n("i",{staticClass:"el-icon-arrow-right"})]),e._v(" "),n("el-input",{attrs:{autocomplete:"off",placeholder:"请输入选项名称",maxlength:30,disabled:e.isView},model:{value:t.row.text,callback:function(n){e.$set(t.row,"text",n)},expression:"scope.row.text"}})],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"默认值"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isChild?n("el-form-item",{attrs:{prop:"selectList."+t.row.parentIndex+".child."+t.row.index+".code",rules:[{required:!0,validator:function(n,i,a){e.validateNumberSingle(n,i,a,t.row)},trigger:["blur","change"]}]}},[n("el-input-number",{attrs:{size:"small",min:0,disabled:e.isView},model:{value:t.row.code,callback:function(n){e.$set(t.row,"code",n)},expression:"scope.row.code"}})],1):n("el-form-item",{attrs:{prop:"selectList."+t.row.index+".code",rules:[{required:!0,validator:function(n,i,a){e.validateNumberSingle(n,i,a,t.row)},trigger:["blur","change"]}]}},[n("el-input-number",{attrs:{size:"small",min:0,disabled:e.isView},model:{value:t.row.code,callback:function(n){e.$set(t.row,"code",n)},expression:"scope.row.code"}})],1)]}}])}),e._v(" "),e.isView?e._e():n("el-table-column",{staticClass:"action-wrapper",attrs:{label:"操作",width:"80",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popconfirm",{directives:[{name:"show",rawName:"v-show",value:t.row.isChild||e.ruleForm.selectList.length>1,expression:"scope.row.isChild || ruleForm.selectList.length > 1"}],attrs:{title:"确定删除吗？",placement:"top"},on:{onConfirm:function(n){return e.handleDelete(t.row)}}},[n("i",{staticClass:"del-icon el-icon-remove",staticStyle:{"font-size":"18px",color:"#e95d57"},attrs:{slot:"reference"},slot:"reference"})]),e._v(" "),t.row.isChild?e._e():n("i",{staticClass:"add-icon el-icon-circle-plus",staticStyle:{"font-size":"18px",color:"#6fb4af"},on:{click:function(n){return e.handleAdd(!0,t.row.id)}}})]}}],null,!1,1320696712)})],1),e._v(" "),e.isView?e._e():n("div",[n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.handleAdd(!1)}}},[e._v("添加下拉选项")])],1)],1)],1)],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"标签",prop:""}},[n("add-tag-list",{attrs:{"default-tag-list":e.defaultTagList,disabled:e.isView},model:{value:e.ruleForm.tagIdList,callback:function(t){e.$set(e.ruleForm,"tagIdList",t)},expression:"ruleForm.tagIdList"}})],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"footer-btn"},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:"view"!==e.actionType,expression:"actionType !== 'view'"}],attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:e.handleCancel}},[e._v("取消")])],1)],1)},a=[];i._withStripped=!0},1792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1793),a=n(1505);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n(1795);var s=n(921),l=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);l.options.__file="app/modal/createcomponent/components/add-tag-list.vue",t.default=l.exports},1793:function(e,t,n){"use strict";var i=n(1794);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b})},1794:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-tag-list-wrapper"},[n("el-select",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.selectIds.length<=10,expression:"selectIds.length <= 10"}],staticClass:"tag-select",attrs:{placeholder:"请选择",filterable:"","allow-create":"",multiple:"","filter-method":e.queryTags},on:{change:e.handleSelectTag},model:{value:e.selectIds,callback:function(t){e.selectIds=t},expression:"selectIds"}},"el-select",e.$attrs,!1),e.$listeners),e._l(e.tagOptions,function(e){return n("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})}),1)],1)},a=[];i._withStripped=!0},1795:function(e,t,n){"use strict";var i=n(1796);n.n(i)},1796:function(e,t,n){var i=n(1797);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1797:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".add-tag-list-wrapper .tag-select {\n  width: 100%;\n}\n.add-tag-list-wrapper .el-select .el-tag:not(:last-child) .el-select__tags-text,\n.add-tag-list-wrapper .el-select .el-tag:first-child .el-select__tags-text .el-tag + .el-tag {\n  max-width: none;\n}\n.add-tag-list-wrapper .button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.add-tag-list-wrapper .input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n",""])},1798:function(e,t,n){"use strict";var i=n(1799);n.n(i)},1799:function(e,t,n){var i=n(1800);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1800:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".child-selectcontrols {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: calc(100% - 85px);\n  padding: 0 20px;\n  overflow: auto;\n}\n.child-selectcontrols .form-wrapper {\n  flex: 1;\n  width: 100%;\n  height: calc(100%  - 80px);\n  overflow: auto;\n}\n.child-selectcontrols .form-wrapper .el-form-item__label {\n  line-height: 34px;\n}\n.child-selectcontrols .form-wrapper .el-form-item__content {\n  line-height: 34px;\n}\n.child-selectcontrols .form-wrapper .el-input__inner {\n  height: 34px;\n  line-height: 34px;\n}\n.child-selectcontrols .form-wrapper .tip-info {\n  font-size: 12px;\n  color: #ccc;\n}\n.child-selectcontrols .form-wrapper .between-item .el-button {\n  margin-left: 260px;\n}\n.child-selectcontrols .tree-table-wrapper {\n  width: 100%;\n  margin-bottom: 20px;\n}\n.child-selectcontrols .tree-table-wrapper.el-table td,\n.child-selectcontrols .tree-table-wrapper.el-table th {\n  padding: 6px 0;\n}\n.child-selectcontrols .tree-table-wrapper.el-table .cell {\n  display: flex;\n}\n.child-selectcontrols .tree-table-wrapper .el-form-item__label {\n  line-height: 30px;\n}\n.child-selectcontrols .tree-table-wrapper .el-form-item__content {\n  display: flex;\n  align-items: center;\n  line-height: 30px;\n}\n.child-selectcontrols .tree-table-wrapper .no-child-arraw {\n  padding: 0 5px;\n  line-height: 1px;\n}\n.child-selectcontrols .tree-table-wrapper .el-input-number__decrease,\n.child-selectcontrols .tree-table-wrapper .el-input-number__increase {\n  height: 28px;\n}\n.child-selectcontrols .tree-table-wrapper .el-input__inner {\n  height: 30px;\n  line-height: 30px;\n}\n.child-selectcontrols .tree-table-wrapper .action-wrapper {\n  display: flex;\n  align-items: center;\n}\n.child-selectcontrols .footer-btn {\n  text-align: center;\n  padding: 10px 0;\n  background: #fff;\n  border-top: 1px solid #eee;\n}\n.child-selectcontrols .footer-btn .el-button {\n  margin-right: 30px;\n}\n.child-selectcontrols .el-input.is-disabled .el-input__inner {\n  background-color: unset;\n  color: unset;\n}\n",""])},1801:function(e,t,n){var i=n(1802);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},1802:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".createcom {\n  background: #fff;\n  height: 500px;\n  font-size: 14px;\n  overflow: hidden;\n  position: relative;\n  width: 850px;\n  margin-left: -400px;\n  margin-top: -250px;\n}\n.createcom .icon-guanbi {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  cursor: pointer;\n}\n.createcom .createcomponent {\n  height: 340px;\n  overflow: hidden;\n  position: relative;\n}\n.createcom .createcomponent > .scroll {\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n  padding-bottom: 50px;\n}\n.createcom .bigtitle {\n  font-size: 18px;\n  margin: 30px;\n}\n.createcom .componentmain {\n  margin-left: 60px;\n  font-size: 16px;\n}\n.createcom .componentmain .component {\n  cursor: pointer;\n  display: inline-block;\n  margin: 30px 50px;\n}\n.createcom .componentmain .component i {\n  color: #4c9fa9;\n  font-size: 16px;\n}\n.createcom .details {\n  margin-bottom: 50px;\n  margin-left: 60px;\n}\n.createcom .details .inputLine {\n  margin-left: 60px;\n  margin-bottom: 10px;\n}\n.createcom .details .inputLine > span {\n  width: 100px;\n}\n.createcom .details .inputLine > input {\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  height: 35px;\n  line-height: 35px;\n  width: 250px;\n  padding-left: 20px;\n}\n.createcom .details .inputLine .texttype {\n  display: inline-block;\n}\n.createcom .details .inputLine .texttype .xlk {\n  height: 35px;\n  line-height: 35px;\n  width: 270px;\n}\n.createcom .details .inputLine .tips {\n  width: 150px;\n  margin-left: 20px;\n}\n.createcom .details .labelsarea {\n  width: 400px;\n  min-height: 100px;\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  display: inline-block;\n  padding: 10px;\n}\n.createcom .details .labelsarea > span {\n  height: 22px;\n  line-height: 22px;\n  border: 1px solid red;\n  border-radius: 4px;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n.createcom .details .labelsarea > span label {\n  padding: 0 5px 0 10px;\n  font-size: 15px;\n  vertical-align: top;\n}\n.createcom .details .labelsarea > span i {\n  color: #fff;\n  font-size: 14px;\n  cursor: pointer;\n}\n.createcom .details .labelsarea > span span {\n  width: 22px;\n  text-align: center;\n  background: red;\n  height: 22px;\n}\n.createcom .details .labelsarea > span span:hover {\n  color: darkred;\n}\n.createcom .details .labelsarea > input {\n  border: none;\n  margin-top: 10px;\n}\n.createcom .details .remarkline {\n  margin-top: 60px;\n}\n.createcom .details .remarkline > span {\n  vertical-align: top;\n}\n.createcom .btnarea {\n  height: 40px;\n  bottom: 30px;\n  text-align: center;\n}\n.createcom .btnarea .biaozhubtn {\n  height: 40px;\n  width: 120px;\n  line-height: 40px;\n  margin-right: 30px;\n}\n.createcom .btnarea .save {\n  background: #4c9fa9;\n  color: #fff;\n}\n.createcom .btnarea .cancel {\n  border: 1px solid #4c9fa9;\n  color: #4c9fa9;\n}\n.createcom .mask {\n  position: fixed;\n  width: 2000px;\n  height: 2000px;\n  top: 0;\n  left: 0;\n  z-index: 10;\n}\n.createcom .labelul {\n  z-index: 11;\n}\n.createcom input {\n  background: #fff;\n}\n",""])},1803:function(e,t){e.exports='<div id=createcomponent class="modal createcom"> <div class=bigtitle>创建标注字段</div> <i class="iconfont icon-guanbi"></i> <div class=createcomponent> <div class=scroll> <div class=componentmain> <p class=stitle>添加选择控件</p> <div class="text component" type=text> <i class="iconfont icon-wenbenkuang"></i> <span>文本框</span> </div> <div class="select component" type=select> <i class="iconfont icon-xialacaidan"></i> <span>下拉菜单</span> </div> <div class="radiobox component" type=radiobox> <i class="iconfont icon-xuanzhong"></i> <span>单选框</span> </div> <div class="checkbox component" type=checkbox> <i class="iconfont icon-duoxuankuang"></i> <span>复选组</span> </div> <div class="child_select component" type=child_select> <i class="iconfont icon-xialacaidan"></i> <span>二级下拉菜单</span> </div> </div> <div class=mainarea> </div> <div class="mask hide"></div> </div> </div> <div class=btnarea> <a class="biaozhubtn save hide">保存</a> <a class="biaozhubtn cancel">取消</a> </div> <create-select v-if=isShowChildSelect :action-type=actionType :data=selectData @success=handleSaveSuccess @cancel=handleCancel></create-select> </div> '},1906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1907),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=a.a},1907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(75),o=function(e){return e&&e.__esModule?e:{default:e}}(n(241));t.default={inject:["app"],props:{data:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},annoDisabled:{type:Boolean,default:!1}},data:function(){return{annoTypeOptions:[],annoToolOptions:[],annoTypeMap:{},seriesImgFileType:"",ruleForm:{isExpanded:!0,activeNames:[],selectItems:[],annoItemList:[]},errColoueField:[]}},computed:{allDisabled:function(){return this.annoDisabled||"9"===this.seriesImgFileType}},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData()}},"ruleForm.isExpanded":function(e){this.handleExpanded()},"ruleForm.annoItemList":{deep:!0,handler:function(e){var t=[];e&&e.length&&e.map(function(e){t.push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.children))}),this.$emit("input",t)}}},created:function(){this.initOptions()},methods:{initOptions:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,o){try{var s=t[a](o),l=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}("next")})}}(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Tool.configxlkformat(this.app.constmap.TOOL_TYPE),this.annoToolOptions=t,e.next=4,o.default.queryAnnoList();case 4:n=e.sent,i=n.data&&n.data.list||[],this.annoTypeOptions=i.map(function(e){return!e.childImageAnnos||!e.childImageAnnos.length&&delete e.childImageAnnos,e}),this.initAnnoTypeMap(this.annoTypeOptions,this.annoTypeMap),this.initData();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),initData:function(){var e=this;if(Object.keys(this.annoTypeMap).length){var t=[],n={};this.clone(this.data).forEach(function(i){i.id;var a=i.type,o=(i.colour,i.toolList,i.annotationItemList,e.annoTypeMap[a]),s=o.parent?[o.parent.type,a]:[a];t.push(s),n[a]=i}),this.handleAnnoTypeChange(t),this.ruleForm.annoItemList.forEach(function(e){e.children&&e.children.forEach(function(e){var t=n[e.type],i=t.id,a=(t.type,t.colour),o=t.toolList,s=t.annotationItemList;e.id=i,e.colour=a,e.toolList=o.map(function(e){return e.type}),e.annotationItemList=s})})}},initAnnoTypeMap:function(e,t,n){for(var i=0;i<e.length;i++){var a=e[i];a.childImageAnnos&&a.childImageAnnos.length&&this.initAnnoTypeMap(a.childImageAnnos,t,a),n&&(a.parent={type:n.value,name:n.name});var o=a.id,s=a.name,l=a.value,r=a.colour,d=a.parent;t[a.value]={id:o,name:s,type:l,colour:r,parent:d}}},handleExpanded:function(){var e=[];if(this.ruleForm.isExpanded)for(var t=0;t<this.ruleForm.annoItemList.length;t++)e.push(""+(t+1));this.ruleForm.activeNames=e},handleAnnoTypeChange:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.ruleForm.selectItems=e;var a=this.ruleForm.annoItemList,o=[];e.forEach(function(e){var s=2===e.length?e[1]:e[0],l=t.annoTypeMap[s],r={},d=a.find(function(t){return t.type===e[0]});n&&d&&d.children&&(r=d.children.find(function(e){return e.type===s}));var c=i({id:null,name:l.name,type:l.type,colour:l.colour,toolList:[],annotationItemList:[]},r),p=o.find(function(t){return t.type===e[0]});if(!p){var h=t.annoTypeMap[e[0]];p={name:h.name,type:h.type,children:[]},o.push(p)}p.children.push(c)});o.forEach(function(e){e.children&&e.children.sort(function(e,t){return e.type.localeCompare(t.type,"zh-CN",{numeric:!0})})}),this.ruleForm.annoItemList=o,this.handleExpanded()},handleDeleteItem:function(e,t){var n=t!==e,i=this.ruleForm.selectItems.filter(function(t){return n?t.length<=1||t[1]!==e:t[0]!==e});this.handleAnnoTypeChange(i)},getFormData:function(){var e=this,t=[];return this.$refs.annoListForm.validate(function(n){if(!n)return a.Message.closeAll(),e.$message.error("请先完善数据"),void(t=!1);var o=e.ruleForm.annoItemList,s=e.getOldMapData();o.forEach(function(e){(e.children||[]).forEach(function(e){e.id;var n=e.name,i=e.type,a=e.colour,o=e.toolList,l=e.annotationItemList,r=[];o.forEach(function(e){var t=e,n=s[i]?s[i].toolsMap[t]:null;r.push({action:n&&n.id?2:1,id:n&&n.id?n.id:"",type:t}),n&&delete s[i].toolsMap[t]});var d=l.map(function(e,t){return 3!==e.action&&(e.action=e.id?2:1),{id:e.id,formComponentId:e.formComponentId,action:e.action,sequence:10*(t+1),optional:e.optional,alias:e.alias}});if(s[i]){var c=s[i],p=c.toolsMap;c.annosMap;for(var h in p){var u=p[h];u&&u.id&&r.push({action:3,id:u.id,type:u.type})}}var f=s[i]?2:1,m=s[i]?s[i].id:"";t.push({action:f,id:m,name:n,type:i,colour:a,toolList:r,annotationItemList:d}),s[i]&&delete s[i]})});var l=function(n){var a=e.data.find(function(e){return e.type===n}),o=e.clone(a),s=o.toolList,l=o.annotationItemList;s&&s.length&&s.forEach(function(e){return e.action=3}),l&&l.length&&l.forEach(function(e){return e.action=3}),o&&t.push(i({},o,{action:3}))};for(var r in s)l(r)}),t},getOldMapData:function(e){var t={};return this.clone(this.data).forEach(function(e){var n=e.id,i=e.toolList,a=e.annotationItemList,o={},s={};i&&i.forEach(function(e){o[e.type]=e}),a&&a.forEach(function(e){s[e.type]=e}),t[e.type]={id:n,toolsMap:o,annosMap:s}}),t},handleAnnoCommand:function(e){var t=e.type,n=e.data;if("add"===t){if(this.annoDisabled)return;this.$emit("add-anno",n)}else this.$emit("show-anno",n)},updateAnnotationItemList:function(e,t){var n=t.n1,i=t.n2,a=this.ruleForm.annoItemList[n].children[i];a&&(a.annotationItemList=e)},resetDataBySeriesImgFileType:function(e){if(this.seriesImgFileType=e,"9"===e){this.handleAnnoTypeChange([["ANNO3"]]),this.ruleForm.annoItemList.forEach(function(e){e.children&&e.children.forEach(function(e){e.colour="",e.toolList=["CUBOID"],e.annotationItemList=[]})})}},handleChangeColour:function(e,t,n){for(var i=[],a=this.ruleForm.annoItemList[t].children.length,o=0;o<a;o++)i.push("annoItemList."+t+".children."+o+".colour");this.$refs.annoListForm.validateField(i)},validateColourUnique:function(e,t,n,i,a){if(t){var o=this.ruleForm.annoItemList[i].children.filter(function(e,n){return e.colour===t});if(o&&o.length>1)return n(new Error("颜色重复"))}return n()},getAnnoItemList:function(){return this.ruleForm.annoItemList||[]},clone:function(e){return JSON.parse(JSON.stringify(e))}}}},2020:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2021),a=n(1906);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n(2023);var s=n(921),l=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);l.options.__file="app/pages/createpro/step2/anno-item-list.vue",t.default=l.exports},2021:function(e,t,n){"use strict";var i=n(2022);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b})},2022:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"anno-item-list-container"},[n("el-form",{ref:"annoListForm",attrs:{model:e.ruleForm,"label-width":"160px"}},[n("el-form-item",{attrs:{label:"影像标注 (病灶类型）",prop:"selectItems",rules:[{required:!0,message:"请选择病灶类型",trigger:["blur","change"]}]}},[n("el-cascader",{attrs:{placeholder:"请选择病灶类型",options:e.annoTypeOptions,props:{multiple:!0,value:"value",label:"name",children:"childImageAnnos"},disabled:e.allDisabled},on:{change:e.handleAnnoTypeChange},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return[n("span",[e._v(e._s(a.name))]),e._v(" "),i.isLeaf?e._e():n("span",[e._v(" ("+e._s(a.childImageAnnos.length)+") ")])]}}]),model:{value:e.ruleForm.selectItems,callback:function(t){e.$set(e.ruleForm,"selectItems",t)},expression:"ruleForm.selectItems"}})],1),e._v(" "),n("el-switch",{attrs:{"active-text":"全部展开","inactive-text":"全部收缩"},model:{value:e.ruleForm.isExpanded,callback:function(t){e.$set(e.ruleForm,"isExpanded",t)},expression:"ruleForm.isExpanded"}}),e._v(" "),n("el-collapse",{model:{value:e.ruleForm.activeNames,callback:function(t){e.$set(e.ruleForm,"activeNames",t)},expression:"ruleForm.activeNames"}},e._l(e.ruleForm.annoItemList,function(t,i){return n("el-collapse-item",{key:""+t.type+i,attrs:{title:t.name+"（"+t.children.length+"）",name:""+(i+1)}},e._l(t.children,function(a,o){return n("el-row",{key:a.type},[n("el-col",{attrs:{span:4}},[n("el-input",{attrs:{readonly:""},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"anno.name"}})],1),e._v(" "),n("el-col",{attrs:{span:2}},[n("el-form-item",{attrs:{label:"","label-width":"0px",prop:"annoItemList."+i+".children."+o+".colour",rules:[{validator:function(t,n,a){e.validateColourUnique(t,n,a,i,o)},trigger:["blur","change"]}]}},[n("el-color-picker",{attrs:{disabled:e.allDisabled},on:{change:function(t){return e.handleChangeColour(t,i,o)}},model:{value:a.colour,callback:function(t){e.$set(a,"colour",t)},expression:"anno.colour"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:16}},[n("el-form-item",{attrs:{label:"病灶工具","label-width":"80px",prop:"annoItemList."+i+".children."+o+".toolList",rules:[{required:!0,message:"请选择病灶工具",trigger:["blur","change"]}]}},[n("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择病灶工具",clearable:"",disabled:e.allDisabled},model:{value:a.toolList,callback:function(t){e.$set(a,"toolList",t)},expression:"anno.toolList"}},e._l(e.annoToolOptions,function(e){return n("el-option",{key:e.idx,attrs:{label:e.val,value:e.idx}})}),1)],1)],1),e._v(" "),n("el-col",{attrs:{span:2}},[e.allDisabled?e._e():n("i",{staticClass:"iconfont icon-shanchu",attrs:{title:"删除此病灶"},on:{click:function(n){return e.handleDeleteItem(a.type,t.type)}}}),e._v(" "),!e.allDisabled||a.annotationItemList&&a.annotationItemList.length?n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleAnnoCommand}},[n("i",{staticClass:"iconfont icon-caozuo",attrs:{title:"添加标注组件"}}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.allDisabled?e._e():n("el-dropdown-item",{attrs:{command:{type:"add",data:{n1:i,n2:o}}}},[e._v("添加标注组件")]),e._v(" "),a.annotationItemList&&a.annotationItemList.length?n("el-dropdown-item",{attrs:{command:{type:"show",data:{n1:i,n2:o}}}},[e._v("查看标注组件")]):e._e()],1)],1):e._e()],1)],1)}),1)}),1)],1)],1)},a=[];i._withStripped=!0},2023:function(e,t,n){"use strict";var i=n(2024);n.n(i)},2024:function(e,t,n){var i=n(2025);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},2025:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".anno-item-list-container {\n  padding: 20px;\n  border: 1px solid #eee;\n}\n.anno-item-list-container .el-cascader {\n  width: 100%;\n}\n.anno-item-list-container .el-collapse {\n  border: 1px dashed #e8e8e8;\n}\n.anno-item-list-container .el-collapse .el-collapse-item__header {\n  height: 40px;\n  line-height: 40px;\n  font-size: 14px;\n  padding: 0 20px;\n  color: #448e97;\n  background: #f8fafb;\n}\n.anno-item-list-container .el-collapse .el-collapse-item__content {\n  padding: 10px 20px;\n}\n.anno-item-list-container .el-collapse .el-collapse-item__content .el-input__inner,\n.anno-item-list-container .el-collapse .el-collapse-item__content .el-color-picker__trigger {\n  height: 34px !important;\n  line-height: 34px !important;\n}\n.anno-item-list-container .el-collapse .el-collapse-item__content .el-select {\n  width: 100%;\n}\n.anno-item-list-container .el-collapse .el-collapse-item__content .iconfont {\n  margin-left: 10px;\n}\n.anno-item-list-container .el-collapse .el-form-item {\n  margin-bottom: 16px;\n}\n.anno-item-list-container .el-select .el-tag .el-select__tags-text,\n.anno-item-list-container .el-select .el-tag .el-select__tags-text {\n  max-width: 100% !important;\n}\n",""])},2026:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2027);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(2029),s.name="projectGroupSet",s.data=[],s.DayToMillisecond=864e5,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),i(t,[{key:"complete",value:function(){this.index=0,this.liArr=[{type:"NON_TIME"}],this.objArr=[],this.initConditionHtml=this.dom.find(".condition").html(),this.condition=this.nowParam.conditions,this.dropdown=n(919),this.render()}},{key:"render",value:function(){var e=this;this.dom.find(".groupSet").on("click",function(t){e.dom.find(".projectGroupSet .item").dom.length<3?(e.addHtml(!0),e.addli(e.index)):e.dom.find(".projectGroupSet .icon-tianjia").after('<span class="required">最多可选择三个聚合条件</span>')}),this.dom.find(".condition").on("click",function(t){"I"==t.target.nodeName&&(ES.selctorDoc(t.target).parent().remove(),e.liArr[ES.selctorDoc(t.target).parent().attr("data-id")].delete=2)}),this.dom.find(".condition").on("change",function(t){"INPUT"==t.target.nodeName&&(ES.selctorDoc(t.target).removeClass("redborder"),e.liArr[ES.selctorDoc(t.target).parent().parent().attr("data-id")].limitTime=""==ES.selctorDoc(t.target).val()?ES.selctorDoc(t.target).val():ES.selctorDoc(t.target).val()*e.DayToMillisecond)}),this.addli(this.index)}},{key:"errorShow",value:function(e){this.dom.find(".projectGroupSet .icon-tianjia").after('<span class="required">'+e+"</span>")}},{key:"addHtml",value:function(e){this.index++;var t='<li class="item item'+this.index+'" data-id="'+this.index+'">\n            <div class="inputLine" redlabel="xlk">\n                <div class="conditions" title="聚合条件" check="empty"></div>\n            </div>            <i class="icon-shanchu iconfont"></i>        </li>';this.dom.find(".condition").append(t),e&&(this.liArr[this.index]={type:"NON_TIME"})}},{key:"addli",value:function(e){var t=this,n={};n.conditions=this.app.loadModule(this.dropdown,this.dom.find(".item"+e+" .conditions"),{className:"xlk",firstSelect:{val:"",idx:""},data:this.condition}),n.conditions.event._addEvent("option.click",function(i){t.liArr[e]=t.liArr[e]?t.liArr[e]:{},t.liArr[e].field=i.idx.split(",")[0],t.liArr[e].dataType=i.props,"Date"==i.props?(t.dom.find(".item"+e+" .timeType").remove(),t.dom.find(".item"+e).append('<div class="inputLine" redlabel="xlk"><div class="timeType" title="时间类型" check="empty"></div></div>'),n.timeType=t.app.loadModule(t.dropdown,t.dom.find(".item"+e+" .timeType"),{className:"xlk",firstSelect:{val:"",idx:""},data:[{val:"自然时间",idx:"NATURE_TIME"},{val:"逻辑时间",idx:"LOGICAL_TIME"},{val:"非时间字段",idx:"NON_TIME"}]}),n.timeType.event._addEvent("option.click",function(i){t.dom.find(".item"+e+" .dimensionxlk").dom&&t.dom.find(".item"+e+" .dimensionxlk").parent().remove(),t.dom.find(".item"+e+" .dimensioninput").dom&&t.dom.find(".item"+e+" .dimensioninput").parent().remove(),t.liArr[e].type=i.idx,"NATURE_TIME"==i.idx?(t.dom.find(".item"+e).append('<div class="inputLine" redlabel="xlk"><div class="dimensionxlk" title="维度" check="empty"></div></div>'),t.liArr[e].limitTime=null,n.dimensionxlk=t.app.loadModule(t.dropdown,t.dom.find(".item"+e+" .dimensionxlk"),{className:"xlk",firstSelect:{val:"",idx:""},data:[{val:"按年",idx:"YEAR"},{val:"按季度",idx:"QUARTER"},{val:"按月",idx:"MONTH"},{val:"按周",idx:"WEEK"},{val:"按日",idx:"DAY"},{val:"按小时",idx:"HOUR"}]}),n.dimensionxlk.event._addEvent("option.click",function(n){t.liArr[e].unit=n.idx})):"LOGICAL_TIME"==i.idx&&(t.liArr[e].unit=null,t.dom.find(".item"+e).append('<div class="inputLine" redlabel="inputBox"><input class="dimensioninput inputBox" type="text" check="empty|int"/><label class="dayunit">天</label></div>'))})):(t.liArr[e].type="NON_TIME",t.dom.find(".item"+e+" .timeType").dom&&t.dom.find(".item"+e+" .timeType").parent().remove(),t.dom.find(".item"+e+" .dimensionxlk").dom&&t.dom.find(".item"+e+" .dimensionxlk").parent().remove(),t.dom.find(".item"+e+" .dimensioninput").dom&&t.dom.find(".item"+e+" .dimensioninput").parent().remove())}),this.objArr.push(n)}},{key:"setData",value:function(e,t){var n=this;this.liArr=e,e.forEach(function(i,a){if(a!==e.length&&0!==a&&null!==i)n.addHtml(),n.addli(a);else if(null==i)return;n.dom.find(".item"+a+' .conditions .option[data-idx="'+i.field+'"]').click(),"Date"==i.dataType&&(n.dom.find(".item"+a+' .timeType .option[data-idx="'+i.type+'"]').click(),i.unit&&"NATURE_TIME"==i.type?n.dom.find(".item"+a+' .dimensionxlk .option[data-idx="'+i.unit+'"]').click():i.limitTime&&"LOGICAL_TIME"==i.type&&(n.dom.find(".item"+a+" .dimensioninput").val(i.limitTime/n.DayToMillisecond),"view"==t&&(n.dom.find(".item"+a+" .dimensioninput").attr("readonly","readonly"),n.dom.find(".item"+a+" .dimensioninput").css({background:"#e8e8e8"}))))}),"view"==t&&this.objArr&&this.objArr.map(function(e){e.conditions&&e.conditions.disable(),e.timeType&&e.timeType.disable(),e.dimensionxlk&&e.dimensionxlk.disable()})}},{key:"reset",value:function(){this.dom.find(".condition").html(this.initConditionHtml),this.index=0,this.liArr=[{type:"NON_TIME"}],this.objArr=[],this.condition=this.nowParam.conditions,this.addli(this.index);var e=this.dom.find(".required");e.dom&&e.remove()}},{key:"resetAndDisable",value:function(e){this.reset(),this.disable(),e&&e()}},{key:"disableAll",value:function(){ES.selctorDoc(".icon-shanchu").addClass("hide"),ES.selctorDoc(".icon-tianjia").addClass("hide")}},{key:"able",value:function(){this.dom.find(".conditions .icon-shanchu").removeClass("hide"),this.dom.find(".conditions .icon-tianjia").removeClass("hide"),this.dom.find(".conditions .nowname").removeClass("drop_disabled"),this.dom.find(".conditions .drop-down").removeClass("drop_disabled")}},{key:"disable",value:function(){this.dom.find(".conditions .icon-shanchu").addClass("hide"),this.dom.find(".conditions .icon-tianjia").addClass("hide"),this.dom.find(".conditions .nowname").addClass("drop_disabled"),this.dom.find(".conditions .drop-down").addClass("drop_disabled")}}]),t}();e.exports=a},2027:function(e,t,n){var i=n(2028);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},2028:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".projectGroupSet {\n  position: relative;\n  margin-top: 10px;\n}\n.projectGroupSet .groupsettitle {\n  padding-left: 0;\n  font-size: 14px;\n}\n.projectGroupSet .icon-tianjia {\n  color: #4c9fa9;\n  margin-left: 20px;\n  cursor: pointer;\n}\n.projectGroupSet .icon-shanchu {\n  position: absolute;\n  margin-left: 10px;\n  color: red;\n  cursor: pointer;\n  font-size: 18px;\n}\n.projectGroupSet .condition .item {\n  height: 50px;\n  line-height: 65px;\n  display: flex;\n  position: relative;\n}\n.projectGroupSet .condition .item > div {\n  display: inline-block;\n  margin-left: 20px;\n}\n.projectGroupSet .condition .item .icon-shanchu {\n  position: absolute;\n  top: -15px;\n  right: -40px;\n}\n.projectGroupSet .condition .item .dimensioninput {\n  margin-left: 20px;\n  height: 32px;\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  width: 90px;\n  padding-left: 10px;\n  vertical-align: top;\n}\n.projectGroupSet .condition .item label {\n  position: absolute;\n  left: 98px;\n  top: -13px;\n}\n.projectGroupSet .required {\n  top: 0px;\n  left: 200px;\n}\n.projectGroupSet .inputLine .required {\n  top: 15px;\n  left: 25px;\n}\n",""])},2029:function(e,t){e.exports='<div class=projectGroupSet> <label class=redstar>*</label> <span class=groupsettitle>聚合条件设置</span> <i class="iconfont icon-tianjia groupSet" title=""></i> <ul class=condition> <li class="item item0" data-id=0> <div class=inputLine redlabel=xlk> <div class=conditions title=聚合条件 check=empty></div> </div> </li> </ul> </div> '},2030:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2031);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(2033),s.name="biaozhulist",s.flag=!0,s.code="",s.nowParam=a,s.refreshPage=!0,s.apidata={},s.apidata.page=1,s.apidata.pagesize=10,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.modalBase),i(t,[{key:"complete",value:function(){var e=this;e.datalist=e.api.chooseddata?JSON.parse(JSON.stringify(e.api.chooseddata)):[],this.dom.find(".icon-guanbi").on("click",function(){e.close()}),this.dom.find(".cancel").on("click",function(){e.close()}),e.dom.find(".searchbtn").on("click",function(){e.refreshPage=!0,e.apidata.page=1,e.event._dispatch("search.change",e.apidata)}),e.dom.find(".add").on("click",function(){e.datalist=e.datalist.filter(function(e){return null!==e.id||3!==e.action}),e.event._dispatch("biaozhulist.adddata",{data:e.idlist,list:e.datalist})}),this.render()}},{key:"render",value:function(e){var t=this;new Promise(function(e){e()}).then(function(){var e=n(919);t.type=t.app.loadModule(e,t.dom.find(".kjlx"),{className:"xlk",firstSelect:{val:"控件类型选择",idx:""},data:[{val:"文本框",idx:"text"},{val:"下拉框",idx:"select"},{val:"单选框",idx:"radiobox"},{val:"复选框",idx:"checkbox"},{val:"二级下拉菜单",idx:"child_select"}]}),t.type.event._addEvent("option.click",function(e){t.apidata.type=e.idx}),t.type.event._addEvent("dropDown.clear",function(e){t.apidata.type=""})}.bind(null,n)).catch(n.oe),t.dom.find(".filterarea input").on("change",function(){t.apidata[ES.selctorDoc(this).attr("class")]=ES.selctorDoc(this).val()}),t.setTitle()}},{key:"setTitle",value:function(){var e={},t=this;e.icon={code:{name:'<span data-i18n="age" data-name="年龄">标注字段编码</span>',type:"text",code:"checkid",w:"25%",ww:"25%",n:"40"},name:{name:'<span data-i18n="age" data-name="年龄">标注字段名称</span>',type:"link",code:"checkid",w:"25%",ww:"25%",n:"40"},type:{name:'<span data-i18n="age" data-name="年龄">控件类型</span>',type:"text",code:"pid",w:"25%",ww:"25%"},label:{name:'<span data-i18n="age" data-name="年龄">标签</span>',type:"text",code:"pname",w:"25%",ww:"25%"}},e.type="center",e.chose="all",e.chosew="30px",e.tablewidth=ES.selctorDoc(".biaozhulist").box().clientWidth-60;var i=n(930);t.table=t.app.loadModule(i,t.dom.find(".biaozhutable"),{id:"biaozhutable",header:e}),t.table.event._addEvent("table.check",function(e){var n=e,i=","+n.id.toString()+",";t.datalist.map(function(e){var t=","+e.formComponentId+",";-1!=i.lastIndexOf(t)&&("add"==n.type?e.action=e.id?2:1:e.action=3,i=i.replace(t,","))}),","!=i&&("add"==n.type&&(n.data.id=null,n.data.action=1),"del"==n.type&&(n.data.id=n.data.id,item.action=3),n.data.optional=!1,n.data.formComponentId=n.data.formComponentId,n.data.sequence=1,n.data.alias="",t.datalist.push(n.data))}),t.table.event._addEvent("table.allcheck",function(e){console.log(e,"value");var n=e,i=","+n.id.toString()+",";console.log(t.datalist,"before"),t.datalist.map(function(e){var t=","+e.formComponentId+",";-1!=i.lastIndexOf(t)&&("add"==n.type?e.action=e.id?2:1:e.action=3,i=i.replace(t,","))}),","!=i&&"add"==n.type?n.data.map(function(e){-1!=i.lastIndexOf(","+e.id+",")&&(e.formComponentId=e.id,e.id=null,e.optional=!1,e.action=1,e.sequence=1,e.alias="",t.datalist.push(e))}):"del"==n.type&&n.data.map(function(e){-1!=i.lastIndexOf(","+e.id+",")&&(e.formComponentId=e.id,e.id=e.id,e.optional=!1,e.action=3,e.sequence=1,e.alias="",t.datalist.push(e))}),console.log(t.datalist,"after")}),t.table.event._addEvent("table.listlink",function(e){t.event._dispatch("biaozhulist.showcomponent",{id:e.id})}),t.table.event._addEvent("table.pagenumber",function(e){t.dom.find(".list-header .check-box").removeClass("choose"),t.apidata.page=parseInt(e),t.refreshPage=!1,t.table.changenum(t.apidata.page),t.event._dispatch("search.change",t.apidata)}),t.table.event._addEvent("table.pagesize",function(e){t.apidata.pageSize=e.num,t.apidata.page=1,t.refreshPage=!0,t.event._dispatch("search.change",t.apidata)}),t.dom.find(".list-content").removeClass("hide")}},{key:"setMain",value:function(e,t){var n=this,i=[],a="";t&&(a=t),0==a.code&&(a.data.list.length>0?(a.data.list.forEach(function(e,t){n.datalist.some(function(t){return t.formComponentId==e.id&&3!=t.action})&&(e.choosed=!0),e.formComponentId=e.id;var a={};switch(a.id=e.id,a.formComponentId=e.id,a.operation=n.action,i.push(a),e.label="",e.tagList.forEach(function(t,n){n<e.tagList.length-1?e.label+=t.text+",":e.label+=t.text}),e.type){case"text":e.type="文本框";break;case"select":e.type="下拉框";break;case"checkbox":e.type="复选框";break;case"radiobox":e.type="单选框";break;case"child_select":e.type="二级下拉菜单"}}),n.table.setData(a.data.list,i)):n.table.noData()),n.refreshPage&&n.table.getTotal(a.data.pages,2,a.data.total),n.initscrollmenu()}},{key:"initscrollmenu",value:function(){if(this.myScroll)this.myScroll.refresh();else{var e="aaa_"+Math.floor((new Date).getTime()*Math.random());this.dom.find(".biaozhutable").attr("id",e),this.myScroll=new IScroll("#"+e,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}}]),t}();e.exports=a},2031:function(e,t,n){var i=n(2032);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},2032:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,'.biaozhulist {\n  box-sizing: border-box;\n  background: #fff;\n  border-radius: 4px;\n  font-family: "Microsoft YaHei";\n  font-size: 16px;\n  width: 800px;\n  height: 500px;\n  margin-left: -400px;\n  position: relative;\n}\n.biaozhulist .icon-guanbi {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  cursor: pointer;\n}\n.biaozhulist .filterarea {\n  margin: 20px 0 20px 20px;\n}\n.biaozhulist .filterarea > input {\n  padding-left: 10px;\n  border-radius: 4px;\n  width: 170px;\n  border: 1px solid #e8e8e8;\n  height: 30px;\n  margin-right: 10px;\n}\n.biaozhulist .filterarea .kjlx {\n  display: inline-block;\n}\n.biaozhulist .filterarea .xlk {\n  height: 30px;\n  line-height: 30px;\n  width: 170px;\n}\n.biaozhulist .biaozhumain {\n  padding: 30px 0 20px 10px;\n  font-size: 14px;\n}\n.biaozhulist .biaozhumain .searchbtn {\n  width: 100px;\n  height: 30px;\n  border: 1px solid #4c9fa9;\n  line-height: 30px;\n  color: #4c9fa9;\n  float: right;\n  margin-right: 40px;\n}\n.biaozhulist .biaozhumain .biaozhutable {\n  height: 310px;\n  overflow: hidden;\n  position: relative;\n}\n.biaozhulist .biaozhumain .biaozhutable .table {\n  padding-bottom: 20px;\n  position: relative;\n}\n.biaozhulist .biaozhumain span {\n  font-size: 16px;\n}\n.biaozhulist .biaozhumain .btnarea {\n  height: 30px;\n  text-align: right;\n  margin-right: 20px;\n  margin-top: 20px;\n}\n.biaozhulist .biaozhumain .btnarea .biaozhubtn {\n  width: 100px;\n  height: 30px;\n  line-height: 30px;\n  background: #4c9fa9;\n  border: 1px solid #4c9fa9;\n  color: #fff;\n  margin-left: 20px;\n}\n.biaozhulist .biaozhumain .btnarea .cancel {\n  background: #fff;\n  border: 1px solid #4c9fa9;\n  color: #4c9fa9;\n}\n',""])},2033:function(e,t){e.exports='<div class="modal biaozhulist"> <i class="icon-guanbi iconfont"></i> <div class=biaozhumain> <div class=filterarea> <input class=name type=text placeholder=标注字段名称 /> <input class=text type=text placeholder=标签 /> <div class=kjlx></div> <a class="searchbtn biaozhubtn">查询</a> </div> <div class=biaozhutable> </div> <div class=btnarea> <a class="biaozhubtn add">添加</a> <a class="biaozhubtn cancel">取消</a> </div> </div> </div>'},2034:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2035);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(2037),s.name="ytjbiaozhulist",s.flag=!0,s.code="",s.nowParam=a,s.refreshPage=!0,s.idlist=a.idlist,s.apidata={},s.apidata.page=1,s.apidata.pagesize=10,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.modalBase),i(t,[{key:"complete",value:function(){var e=this;e.action={up:{dis:"inline",link:"noLink",content:"上移"},down:{dis:"inline",link:"noLink",content:"下移"},del:{dis:"inline",link:"noLink",content:"删除"}},e.action1={down:{dis:"inline",link:"noLink",content:"下移"},del:{dis:"inline",link:"noLink",content:"删除"}},e.action2={up:{dis:"inline",link:"noLink",content:"上移"},del:{dis:"inline",link:"noLink",content:"删除"}},e.action3={del:{dis:"inline",link:"noLink",content:"删除"}},this.dom.find(".icon-guanbi").on("click",function(){e.close()}),this.dom.find(".cancel").on("click",function(){e.close()}),this.dom.find(".save").on("click",function(){e.returndata=e.returndata.filter(function(e){return null!==e.id||3!==e.action}),console.log(e.returndata),e.event._dispatch("ytjbiaozhulist.datachange",{data:e.returndata})}),"view"==e.api.type||2==e.api.status?(e.dom.find(".save").addClass("hide"),e.setTitle_view()):e.setTitle_edit()}},{key:"setTitle_edit",value:function(){var e={};e.icon={formComponentId:{name:'<span data-i18n="age" data-name="年龄">标注字段编码</span>',type:"text",code:"checkid",w:"8%",ww:"8%"},componentName:{name:'<span data-i18n="age" data-name="年龄">标注字段名称</span>',type:"link",code:"checkid",w:"25%",ww:"25%",n:"40"},type:{name:'<span data-i18n="age" data-name="年龄">控件类型</span>',type:"text",code:"pid",w:"16%",ww:"16%"},label:{name:'<span data-i18n="age" data-name="年龄">标签</span>',type:"text",code:"pname",w:"16%",ww:"16%"},optional:{name:'<span data-i18n="age" data-name="年龄">是否必填</span>',type:"onoff",code:"pname",w:"20%",ww:"20%"},operation:{name:'<span data-i18n="age" data-name="年龄">操作</span>',type:"action",code:"pname",w:"20%",ww:"20%"}},e.onofftype={0:"否",1:"是"},e.type="center",e.tablewidth=ES.selctorDoc(".ytjbiaozhulist").box().clientWidth-60,this.render(e)}},{key:"setTitle_view",value:function(){var e={};e.icon={formComponentId:{name:'<span data-i18n="age" data-name="年龄">标注字段编码</span>',type:"text",code:"checkid",w:"15%",ww:"15%",n:"40"},componentName:{name:'<span data-i18n="age" data-name="年龄">标注字段名称</span>',type:"link",code:"checkid",w:"20%",ww:"20%"},type:{name:'<span data-i18n="age" data-name="年龄">控件类型</span>',type:"text",code:"pid",w:"20%",ww:"20%"},label:{name:'<span data-i18n="age" data-name="年龄">标签</span>',type:"text",code:"pname",w:"25%",ww:"25%"},isrequired:{name:'<span data-i18n="age" data-name="年龄">是否必填</span>',type:"text",code:"pname",w:"20%",ww:"20%"}},e.type="center",e.tablewidth=ES.selctorDoc(".ytjbiaozhulist").box().clientWidth-60,this.render(e)}},{key:"render",value:function(e){var t=this;new Promise(function(e){e()}).then(function(){var i=n(1001);t.table=t.app.loadModule(i,t.dom.find(".biaozhutable"),{icon:e.icon,type:"center",tablewidth:ES.selctorDoc(".ytjbiaozhulist").box().clientWidth-60,minwidth:100,mainId:"formComponentId",onofftype:{0:"否",1:"是"}}),t.table.event._addEvent("list.action",function(e){var n=t.returndata[1*e.position];t.returndata[1*e.position];switch(e.classname){case"up":t.returndata.splice(1*e.position,1),t.returndata.splice(1*e.position-1,0,n);break;case"down":console.log(t.returndata,"bef"),t.returndata.splice(1*e.position,1),t.returndata.splice(1*e.position+1,0,n),console.log(t.returndata,"af");break;case"del":t.returndata.map(function(t){1*t.formComponentId==parseInt(e.id)&&(t.action=3)}),t.returndata.splice(1*e.position,1),console.log(t.returndata,"before"),t.returndata.splice(t.returndata.length,0,n),console.log(t.returndata,"after")}t.setMain(t.returndata)}),t.table.event._addEvent("list.onoff",function(e){t.returndata.map(function(t){1*t.formComponentId==parseInt(e.id)&&(t.optional=!e.dom.hasClass("off"))}),t.setMain(t.returndata)}),t.table.event._addEvent("list.listlink",function(e){t.event._dispatch("biaozhulist.showcomponent",{id:e.id})}),t.dom.find(".list-content").removeClass("hide"),t.setMain()}.bind(null,n)).catch(n.oe)}},{key:"setMain",value:function(e){var t=this,n=[];e||(e=t.api.data),console.log(e),t.returndata=e;var i=0;e.forEach(function(e){3!==e.action&&i++});var a=JSON.parse(JSON.stringify(e));(a=a.filter(function(e){return 3!==e.action})).forEach(function(e,o){if(e.isrequired=e.optional?"是":"否",e.componentName=e.componentName?e.componentName:e.name,e.componentType=e.componentType?e.componentType:e.type,e.formComponentId=e.formComponentId?e.formComponentId:e.code,console.log(e.componentType,"val.componentType"),3!=e.action){switch(e.label="",e.tagList.forEach(function(t,n){n<e.tagList.length-1?e.label+=t.text+",":e.label+=t.text}),e.componentType){case"text":e.type="文本框";break;case"select":e.type="下拉框";break;case"checkbox":e.type="复选框";break;case"radiobox":e.type="单选框";break;case"child_select":e.type="二级下拉菜单"}1==i?e.operation=t.action3:0==o?e.operation=t.action1:o==a.length-1?e.operation=t.action2:e.operation=t.action,n.push(e)}}),t.table.setData(n),t.initscrollmenu()}},{key:"initscrollmenu",value:function(){if(this.myScroll)this.myScroll.refresh();else{var e="aaa_"+Math.floor((new Date).getTime()*Math.random());this.dom.find(".biaozhutable").attr("id",e),this.myScroll=new IScroll("#"+e,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}}]),t}();e.exports=a},2035:function(e,t,n){var i=n(2036);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},2036:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,'.ytjbiaozhulist {\n  box-sizing: border-box;\n  background: #fff;\n  border-radius: 4px;\n  font-family: "Microsoft YaHei";\n  font-size: 16px;\n  width: 800px;\n  height: 500px;\n  margin-left: -400px;\n  position: relative;\n}\n.ytjbiaozhulist .title {\n  height: 60px;\n  line-height: 60px;\n  margin-left: 20px;\n}\n.ytjbiaozhulist .icon-guanbi {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  cursor: pointer;\n}\n.ytjbiaozhulist .biaozhumain {\n  padding: 30px 0 20px 10px;\n  font-size: 14px;\n}\n.ytjbiaozhulist .biaozhumain .searchbtn {\n  width: 100px;\n  height: 30px;\n  border: 1px solid #4c9fa9;\n  line-height: 30px;\n  color: #4c9fa9;\n  float: right;\n  margin-right: 40px;\n}\n.ytjbiaozhulist .biaozhumain .biaozhutable {\n  height: 310px;\n  overflow: hidden;\n  position: relative;\n}\n.ytjbiaozhulist .biaozhumain .biaozhutable .table {\n  padding-bottom: 20px;\n  position: relative;\n}\n.ytjbiaozhulist .biaozhumain .biaozhutable .list-content .tableList {\n  text-align: left!important;\n}\n.ytjbiaozhulist .biaozhumain span {\n  font-size: 16px;\n}\n.ytjbiaozhulist .biaozhumain .btnarea {\n  height: 30px;\n  text-align: right;\n  margin-right: 20px;\n  margin-top: 20px;\n}\n.ytjbiaozhulist .biaozhumain .btnarea .biaozhubtn {\n  width: 100px;\n  height: 30px;\n  line-height: 30px;\n  background: #4c9fa9;\n  border: 1px solid #4c9fa9;\n  color: #fff;\n  margin-left: 20px;\n}\n.ytjbiaozhulist .biaozhumain .btnarea .cancel {\n  background: #fff;\n  border: 1px solid #4c9fa9;\n  color: #4c9fa9;\n}\n',""])},2037:function(e,t){e.exports='<div class="ytjbiaozhulist modal"> <p class=title>查看已添加的标注数据</p> <i class="icon-guanbi iconfont"></i> <div class=biaozhumain> <div class=biaozhutable> </div> <div class=btnarea> <a class="biaozhubtn save">保存</a> <a class="biaozhubtn cancel">关闭</a> </div> </div> </div>'},2038:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2039);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(2041),s.name="discurdreason",s.flag=!0,s.code="",s.nowParam=a,s.refreshPage=!0,s.apidata={},s.apidata.page=1,s.apidata.pagesize=10,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.modalBase),i(t,[{key:"complete",value:function(){var e=this;e.datalist=e.api.chooseddata?JSON.parse(JSON.stringify(e.api.chooseddata)):[],this.dom.find(".icon-guanbi").on("click",function(){e.close()}),this.dom.find(".cancel").on("click",function(){e.close()}),e.dom.find(".searchbtn").on("click",function(){e.refreshPage=!0,e.apidata.page=1,e.event._dispatch("search.change",e.apidata)}),e.dom.find(".add").on("click",function(){e.datalist=e.datalist.filter(function(e){return null!==e.id||3!==e.action}),e.event._dispatch("biaozhulist.adddata",{data:e.idlist,list:e.datalist})}),this.render()}},{key:"render",value:function(e){var t=this;t.dom.find(".filterarea input").on("change",function(){t.apidata[ES.selctorDoc(this).attr("class")]=ES.selctorDoc(this).val()}),t.setTitle()}},{key:"setTitle",value:function(){var e={},t=this;e.icon={value:{name:'<span data-i18n="age" data-name="年龄">编码</span>',type:"text",code:"checkid",w:"50%",ww:"50%",n:"40"},name:{name:'<span data-i18n="age" data-name="年龄">名称</span>',type:"text",code:"checkid",w:"50%",ww:"50%"}},e.type="center",e.chose="all",e.chosew="30px",e.tablewidth=ES.selctorDoc(".discurdtable").box().clientWidth-60,new Promise(function(e){e()}).then(function(){var i=n(1001);t.table=t.app.loadModule(i,t.dom.find(".discurdtable"),{icon:e.icon,type:"center",chose:"all",chosew:"30px",tablewidth:ES.selctorDoc(".discurdtable").box().clientWidth-60,minwidth:100}),t.table.event._addEvent("list.check",function(e){var n=e;n.id.toString();"del"==n.type?t.datalist=t.datalist.filter(function(e){return e.id!=n.id}):t.datalist.push(n.data)}),t.table.event._addEvent("list.allcheck",function(e){console.log(e,"value");var n=e,i=","+n.id.toString()+",";console.log(t.datalist,"before",i),"add"==n.type?n.data.map(function(e){-1!=i.lastIndexOf(","+e.id+",")&&t.datalist.push(e)}):"del"==n.type&&(t.datalist=t.datalist.filter(function(e){return-1==i.lastIndexOf(","+e.id+",")})),console.log(t.datalist,"after")}),t.dom.find(".list-content").removeClass("hide")}.bind(null,n)).catch(n.oe)}},{key:"setMain",value:function(e,t){console.log(t,"valuelallalala");var n=this,i=[],a="";t&&(a=t),a.length>0?(a.forEach(function(e,t){n.datalist.some(function(t){return t.id==e.id})&&(e.choosed=!0);var a={};a.id=e.id,a.operation=n.action,i.push(a)}),n.table.setData(a,i)):n.table.noData(),n.initscrollmenu()}},{key:"initscrollmenu",value:function(){if(this.myScroll)this.myScroll.refresh();else{var e="aaa_"+Math.floor((new Date).getTime()*Math.random());this.dom.find(".discurdtable").attr("id",e),this.myScroll=new IScroll("#"+e,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}}]),t}();e.exports=a},2039:function(e,t,n){var i=n(2040);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},2040:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,'.discurdreason {\n  box-sizing: border-box;\n  background: #fff;\n  border-radius: 4px;\n  font-family: "Microsoft YaHei";\n  font-size: 16px;\n  width: 800px;\n  height: 500px;\n  margin-left: -400px;\n  position: relative;\n}\n.discurdreason .icon-guanbi {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  cursor: pointer;\n}\n.discurdreason .modal-title {\n  height: 60px;\n  line-height: 60px;\n  padding-left: 20px;\n  font-weight: bold;\n}\n.discurdreason .filterarea {\n  margin: 0 0 20px 20px;\n}\n.discurdreason .filterarea > input {\n  padding-left: 10px;\n  border-radius: 4px;\n  width: 170px;\n  border: 1px solid #e8e8e8;\n  height: 30px;\n  margin-right: 10px;\n  font-size: 12px;\n}\n.discurdreason .filterarea .searchbtn {\n  width: 100px;\n  height: 30px;\n  border: 1px solid #4c9fa9;\n  line-height: 30px;\n  color: #4c9fa9;\n  float: right;\n  margin-right: 40px;\n}\n.discurdreason .mainarea {\n  padding-left: 10px;\n  font-size: 14px;\n}\n.discurdreason .mainarea .discurdtable {\n  height: 310px;\n  overflow: hidden;\n  position: relative;\n}\n.discurdreason .mainarea .discurdtable .table {\n  padding-bottom: 20px;\n  position: relative;\n}\n.discurdreason .mainarea span {\n  font-size: 16px;\n}\n.discurdreason .btnarea {\n  height: 30px;\n  text-align: right;\n  margin-right: 20px;\n  margin-top: 20px;\n}\n.discurdreason .btnarea .biaozhubtn {\n  width: 100px;\n  height: 30px;\n  line-height: 30px;\n  background: #4c9fa9;\n  border: 1px solid #4c9fa9;\n  color: #fff;\n  margin-left: 20px;\n}\n.discurdreason .btnarea .cancel {\n  background: #fff;\n  border: 1px solid #4c9fa9;\n  color: #4c9fa9;\n}\n',""])},2041:function(e,t){e.exports='<div class="discurdreason modal"> <i class="icon-guanbi iconfont"></i> <p class=modal-title>废片原因设置</p> <div class=filterarea> <input class=name type=text placeholder=废片理由名称 /> <a class="searchbtn biaozhubtn">查询</a> </div> <div class=mainarea> <div class=discurdtable> </div> </div> <div class=btnarea> <a class="biaozhubtn add">添加</a> <a class="biaozhubtn cancel">取消</a> </div> </div>'},2042:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2043);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(2045),s.name="ytjdiscurdreason",s.flag=!0,s.code="",s.nowParam=a,s.refreshPage=!0,s.idlist=a.idlist,s.apidata={},s.apidata.page=1,s.apidata.pagesize=10,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.modalBase),i(t,[{key:"complete",value:function(){var e=this;e.action={up:{dis:"inline",link:"noLink",content:"上移"},down:{dis:"inline",link:"noLink",content:"下移"},del:{dis:"inline",link:"noLink",content:"删除"}},e.action1={down:{dis:"inline",link:"noLink",content:"下移"},del:{dis:"inline",link:"noLink",content:"删除"}},e.action2={up:{dis:"inline",link:"noLink",content:"上移"},del:{dis:"inline",link:"noLink",content:"删除"}},e.action3={del:{dis:"inline",link:"noLink",content:"删除"}},this.dom.find(".icon-guanbi").on("click",function(){e.close()}),this.dom.find(".cancel").on("click",function(){e.close()}),this.dom.find(".save").on("click",function(){e.returndata=e.returndata.filter(function(e){return null!==e.id||3!==e.action}),console.log(e.returndata),e.event._dispatch("ytjbiaozhulist.datachange",{data:e.returndata})}),"view"==e.api.type||2==e.api.status?(e.dom.find(".save").addClass("hide"),e.setTitle_view()):e.setTitle_edit()}},{key:"setTitle_edit",value:function(){var e={};e.icon={value:{name:'<span data-i18n="age" data-name="年龄">编码</span>',type:"text",code:"checkid",w:"30%",ww:"30%"},name:{name:'<span data-i18n="age" data-name="年龄">名称</span>',type:"text",code:"checkid",w:"40%",ww:"40%",n:"40"},operation:{name:'<span data-i18n="age" data-name="年龄">操作</span>',type:"action",code:"pname",w:"30%",ww:"30%"}},e.type="center",e.tablewidth=ES.selctorDoc(".biaozhutable").box().clientWidth-60,this.render(e)}},{key:"setTitle_view",value:function(){var e={};e.icon={value:{name:'<span data-i18n="age" data-name="年龄">编码</span>',type:"text",code:"checkid",w:"50%",ww:"50%"},name:{name:'<span data-i18n="age" data-name="年龄">名称</span>',type:"text",code:"checkid",w:"50%",ww:"50%",n:"40"}},e.type="center",e.tablewidth=ES.selctorDoc(".biaozhutable").box().clientWidth-60,this.render(e)}},{key:"render",value:function(e){var t=this;new Promise(function(e){e()}).then(function(){var i=n(1001);t.table=t.app.loadModule(i,t.dom.find(".biaozhutable"),{icon:e.icon,type:"center",tablewidth:ES.selctorDoc(".biaozhutable").box().clientWidth-60,minwidth:100}),t.table.event._addEvent("list.action",function(e){var n=t.returndata[1*e.position];t.returndata[1*e.position];switch(e.classname){case"up":t.returndata.splice(1*e.position,1),t.returndata.splice(1*e.position-1,0,n);break;case"down":t.returndata.splice(1*e.position,1),t.returndata.splice(1*e.position+1,0,n);break;case"del":t.returndata.splice(1*e.position,1),console.log(t.returndata,"after")}t.setMain(t.returndata)}),t.dom.find(".list-content").removeClass("hide"),t.setMain()}.bind(null,n)).catch(n.oe)}},{key:"setMain",value:function(e){var t=this,n=[];e||(e=t.api.data),console.log(e),t.returndata=e;e.forEach(function(e){3!==e.action&&0});var i=JSON.parse(JSON.stringify(e));i.forEach(function(a,o){1==e.length?a.operation=t.action3:0==o?a.operation=t.action1:o==i.length-1?a.operation=t.action2:a.operation=t.action,n.push(a)}),t.table.setData(n),t.initscrollmenu()}},{key:"initscrollmenu",value:function(){if(this.myScroll)this.myScroll.refresh();else{var e="aaa_"+Math.floor((new Date).getTime()*Math.random());this.dom.find(".biaozhutable").attr("id",e),this.myScroll=new IScroll("#"+e,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}}]),t}();e.exports=a},2043:function(e,t,n){var i=n(2044);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},2044:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,'.ytjdiscurdreason {\n  box-sizing: border-box;\n  background: #fff;\n  border-radius: 4px;\n  font-family: "Microsoft YaHei";\n  font-size: 16px;\n  width: 800px;\n  height: 500px;\n  margin-left: -400px;\n  position: relative;\n}\n.ytjdiscurdreason .title {\n  height: 60px;\n  line-height: 60px;\n  margin-left: 20px;\n}\n.ytjdiscurdreason .icon-guanbi {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  cursor: pointer;\n}\n.ytjdiscurdreason .biaozhumain {\n  padding: 30px 0 20px 10px;\n  font-size: 14px;\n}\n.ytjdiscurdreason .biaozhumain .searchbtn {\n  width: 100px;\n  height: 30px;\n  border: 1px solid #4c9fa9;\n  line-height: 30px;\n  color: #4c9fa9;\n  float: right;\n  margin-right: 40px;\n}\n.ytjdiscurdreason .biaozhumain .biaozhutable {\n  height: 310px;\n  overflow: hidden;\n  position: relative;\n}\n.ytjdiscurdreason .biaozhumain .biaozhutable .table {\n  padding-bottom: 20px;\n  position: relative;\n}\n.ytjdiscurdreason .biaozhumain .biaozhutable .list-content .tableList {\n  text-align: left!important;\n}\n.ytjdiscurdreason .biaozhumain span {\n  font-size: 16px;\n}\n.ytjdiscurdreason .biaozhumain .btnarea {\n  height: 30px;\n  text-align: right;\n  margin-right: 20px;\n  margin-top: 20px;\n}\n.ytjdiscurdreason .biaozhumain .btnarea .biaozhubtn {\n  width: 100px;\n  height: 30px;\n  line-height: 30px;\n  background: #4c9fa9;\n  border: 1px solid #4c9fa9;\n  color: #fff;\n  margin-left: 20px;\n}\n.ytjdiscurdreason .biaozhumain .btnarea .cancel {\n  background: #fff;\n  border: 1px solid #4c9fa9;\n  color: #4c9fa9;\n}\n',""])},2045:function(e,t){e.exports='<div class="ytjdiscurdreason modal"> <p class=title>查看已添加的废片理由</p> <i class="icon-guanbi iconfont"></i> <div class=biaozhumain> <div class=biaozhutable> </div> <div class=btnarea> <a class="biaozhubtn save">保存</a> <a class="biaozhubtn cancel">关闭</a> </div> </div> </div>'},2046:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,".createprotwo {\n  background: #fff;\n  overflow: hidden;\n  position: relative;\n}\n.createprotwo .bigtitle {\n  padding: 20px;\n  font-size: 17px;\n}\n.createprotwo .title {\n  font-size: 16px;\n  height: 40px;\n  line-height: 40px;\n  padding-left: 66px;\n  margin-bottom: 20px;\n}\n.createprotwo > div {\n  line-height: 40px;\n}\n.createprotwo .inputLine {\n  line-height: 60px;\n}\n.createprotwo .half {\n  display: inline-block;\n  margin-left: 60px;\n  vertical-align: top;\n}\n.createprotwo .half1 {\n  display: inline-block;\n  vertical-align: top;\n}\n.createprotwo .tagarea > div {\n  display: inline-block;\n}\n.createprotwo .required {\n  left: 0;\n  top: 10px;\n}\n.createprotwo .bigadd {\n  cursor: pointer;\n  margin-left: 20px;\n  color: #4c9fa9;\n}\n.createprotwo .xsyx {\n  display: inline-block;\n}\n.createprotwo .isYayAttributes .choosearea {\n  margin-left: 20px;\n}\n.createprotwo .isYayAttributes .choosearea > div {\n  display: inline-block;\n}\n.createprotwo .isYayAttributes .choosearea > div .xlk {\n  width: 90px;\n}\n.createprotwo > span {\n  margin-left: 20px;\n  text-align: right;\n}\n.createprotwo .yblx,\n.createprotwo .bzyq,\n.createprotwo .seriesImgFileType,\n.createprotwo .rangeConditions,\n.createprotwo .groupId {\n  display: inline-block;\n}\n.createprotwo .yblx .required,\n.createprotwo .bzyq .required,\n.createprotwo .seriesImgFileType .required,\n.createprotwo .rangeConditions .required,\n.createprotwo .groupId .required {\n  left: 80px;\n  top: 25px;\n}\n.createprotwo .category .required {\n  left: 400px;\n  top: 2px;\n}\n.createprotwo .xlk {\n  height: 30px;\n  line-height: 30px;\n  width: 180px;\n}\n.createprotwo .splitnum {\n  margin-top: 10px;\n}\n.createprotwo .splitnum input {\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  height: 30px;\n  line-height: 30px;\n  width: 170px;\n  padding-left: 10px;\n  margin-left: 5px;\n}\n.createprotwo .widthlevelset {\n  height: 50px;\n  line-height: 50px;\n}\n.createprotwo .widthlevelset .windowId,\n.createprotwo .widthlevelset p {\n  display: inline-block;\n}\n.createprotwo .widthlevelset1 {\n  height: 50px;\n  line-height: 50px;\n}\n.createprotwo .widthlevelset1 .windowId1,\n.createprotwo .widthlevelset1 p {\n  display: inline-block;\n}\n.createprotwo .scroll > div {\n  margin-left: 80px;\n}\n.createprotwo .department {\n  display: inline-block;\n  line-height: 50px;\n}\n.createprotwo .department .radio-box {\n  vertical-align: middle;\n}\n.createprotwo .yxtitle {\n  font-size: 15px;\n  margin-top: 30px;\n  margin-left: 50px;\n}\n.createprotwo .multi {\n  margin: 20px;\n  border-radius: 4px;\n  margin-left: 50px;\n  overflow: hidden;\n}\n.createprotwo .multi .title {\n  padding-left: 0;\n  margin-left: 10px;\n}\n.createprotwo .multi .biaozhubtn {\n  border: 1px solid #4c9fa9;\n  color: #333;\n  height: 35px;\n  line-height: 35px;\n  width: 210px;\n  margin: 80px 40px 40px 20px;\n}\n.createprotwo .multi > li {\n  margin-top: 10px;\n}\n.createprotwo .multi .alldata {\n  margin-left: 0;\n}\n.createprotwo .multi .export {\n  float: right;\n  margin-right: 85px;\n}\n.createprotwo .winWidthId {\n  margin: 10px 0;\n}\n.createprotwo .winWidthId .required {\n  left: 515px;\n  top: 0;\n}\n.createprotwo .discurdarea {\n  margin: 10px 0;\n  margin-left: 80px;\n}\n.createprotwo .discurdarea .biaozhubtn {\n  padding: 0 20px;\n  height: 35px;\n  line-height: 35px;\n  border: 1px solid #4c9fa9;\n  color: #4c9fa9;\n}\n.createprotwo .discurdarea .viewreason {\n  margin-left: 50px;\n  text-decoration: underline;\n  color: #4c9fa9;\n}\n.createprotwo .save {\n  background: #4c9fa9;\n  color: #fff;\n  height: 40px;\n  line-height: 40px;\n  width: 120px;\n  margin: 20px;\n  bottom: 5px;\n  position: absolute;\n  right: 20px;\n  top: 10px;\n}\n.createprotwo .w135 {\n  width: 155px !important;\n  text-align: right;\n}\n.createprotwo .windowId .required {\n  left: 380px;\n  top: 0;\n}\n.createprotwo .windowId1 .required {\n  left: 380px;\n  top: -2px;\n}\n.createprotwo .scroll .ml150 {\n  margin-left: 150px;\n}\n.createprotwo .el-form.basic-info-content .el-form-item__label {\n  padding: 0;\n}\n.createprotwo .el-form.basic-info-content .el-form-item__label,\n.createprotwo .el-form.basic-info-content .el-input__icon,\n.createprotwo .el-form.basic-info-content .el-form-item__content {\n  line-height: 30px;\n}\n.createprotwo .el-form.basic-info-content .el-input__inner {\n  height: 30px;\n  line-height: 30px;\n}\n.createprotwo .el-form.basic-info-content .el-input.is-disabled .el-input__inner {\n  background-color: #E8E8E8;\n  border-color: #E8E8E8;\n  color: #333;\n}\n",""])},241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(65),o=(0,a.generateRequestFn)({projectdetail:"/project/basic/read",isrepeat:"/project/name/exist"}),s=(0,a.generateGetRequestFn)({queryAnnoList:"/image/anno/list"});t.default=i({},o,s)},298:function(e,t,n){var i=n(2046);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},299:function(e,t,n){"use strict";var i="/formComponent/search",a="/formComponent/read",o="/project/edit",s="/project/anno/read",l="/series/modality/all",r="/project/findByName",d="/project/basic/read",c="/dict/child/query",p="/project/series/count",h="/sys/transfer",u="/group/search",f={querycomponent:function(e){return this.HttpRequest.POST(i,e)},getcomponentdetail:function(e){return this.HttpRequest.POST(a,e)},editproject:function(e){return this.HttpRequest.POST(o,e)},projectdetail:function(e){return this.HttpRequest.POST(s,e)},getmodality:function(e){return this.HttpRequest.POST(l,e)},isrepeat:function(e){return this.HttpRequest.POST(r,e)},project_basic_read:function(e){return this.HttpRequest.POST(d,e)},dict_root_child:function(e){return this.HttpRequest.POST(c,e)},series_count:function(e){return this.HttpRequest.POST(p,e)},field_query:function(e){return this.HttpRequest.POST(h,e)},queryProjectGroupList:function(e){return this.HttpRequest.POST(u,e)}};e.exports=f},300:function(e,t){e.exports='<div id=createproTwo class=createprotwo> <div class=scroll> <div class=bigtitle>标注需求</div> <p class=title>第二步：标注信息</p> <a class="save biaozhubtn">保存</a> <el-form ref=ruleForm :model=ruleForm :rules=rules class=basic-info-content style=margin-left:66px label-width=84px label-suffix=：> <el-row> <el-col :span=5 style=width:264px;margin-right:10px> <el-form-item label=项目标签 prop=sicknessType :rules="[{required: true, message: \'请选择项目标签\', trigger: [\'blur\', \'change\']}]"> <el-select v-model=ruleForm.sicknessType placeholder=请选择项目标签 :disabled="isView || isStart"> <el-option v-for="item in sicknessTypeList" :key=item.idx :label=item.val :value=item.idx></el-option> </el-select> </el-form-item> </el-col> <el-col :span=5 style=width:264px;margin-right:10px> <el-form-item label=项目目标 prop=projectFunction :rules="[{required: true, message: \'请选择项目目标\', trigger: [\'blur\', \'change\']}]"> <el-select v-model=ruleForm.projectFunction placeholder=请选择项目目标 :disabled="isView || isStart"> <el-option v-for="item in projectFunctionList" :key=item.idx :label=item.val :value=item.idx></el-option> </el-select> </el-form-item> </el-col> <el-col :span=5 style=width:264px;margin-right:10px> <el-form-item label=项目用途 prop=projectTarget :rules="[{required: !id, message: \'请选择项目用途\', trigger: [\'blur\', \'change\']}]"> <el-select v-model=ruleForm.projectTarget placeholder=请选择项目用途 :disabled="isView || isStart" @change="ruleForm.projectTargetDesc = \'\'"> <el-option v-for="item in projectTargetList" :key=item.idx :label=item.val :value=item.idx></el-option> </el-select> </el-form-item> </el-col> <el-col v-if="ruleForm.projectTarget === \'ANNO_OTHER_SET\'" :span=5 style=width:264px> <el-form-item label=其他用途 prop=projectTargetDesc :rules="[{required: ruleForm.projectTarget === \'ANNO_OTHER_SET\', message: \'请输入其他项目用途\', trigger: [\'blur\', \'change\']}]"> <el-input v-model=ruleForm.projectTargetDesc placeholder=请输入其他项目用途 :disabled="isView || isStart"></el-input> </el-form-item> </el-col> </el-row> <el-row> <el-col :span=10 style=width:264px;margin-right:10px> <el-form-item label=是否审核项目 prop=type2 label-width=110px :rules="[{required: true, message: \'请选择是否审核项目\', trigger: [\'blur\', \'change\']}]" style=margin-bottom:12px> <el-radio-group v-model=ruleForm.type2 :disabled="isView || isStart"> <el-radio :label=1>否</el-radio> <el-radio :label=2>是</el-radio> </el-radio-group> </el-form-item> </el-col> </el-row> <div class="inputLine half1" redlabel=xlk> <span><label class=redstar>*</label>样本类型：</span> <div class=yblx check=empty></div> </div> <div class="inputLine half ml150" redlabel=xlk> <span><label class=redstar>*</label>范围条件：</span> <div class=rangeConditions check=empty></div> </div> <br/> <div class="inputLine half1" redlabel=xlk> <span><label class=redstar>*</label>数据类型：</span> <div class=seriesImgFileType check=empty></div> </div> <div class="groupSet half ml150"></div> <div class="widthlevelset inputLine" redlabel=xlk> <p> <i class=check-box></i> <span>是否设置默认窗宽窗位</span> </p> <div class="windowId hide" check=empty></div> </div> <div class="widthlevelset1 inputLine hide" redlabel=xlk> <p> <i class=check-box></i> <span>是否设置vr默认窗宽窗位</span> </p> <div class="windowId1 hide" check=empty></div> </div> <div class=showReport type=inspectSee> <i class=check-box></i> <span>是否需要展示检查所见</span> </div> <div class=showReport type=diagnosisIncome> <i class=check-box></i> <span>是否需要展示诊断所得</span> </div> <div class=largeFigure> <i class=check-box></i> <span>是否使用超大图</span> </div> <div class=isYayAttributes> <i class=check-box></i> <span>是否需要阴阳性</span> <div class="hide choosearea"> <span>阳性无需填写征象</span> <div class=yang></div> <br/> <span>阴性无需填写征象</span> <div class=yin></div> </div> </div> <div class=isLungPdf> <i class=check-box></i> <span>是否需要图文报告</span> </div> <div class=form-item> <el-form-item v-if="Number(ruleForm.seriesImgFileType) === 6" label=分割层数 prop=segmentLayer> <el-checkbox-group v-model=ruleForm.segmentLayer :disabled="type == \'view\' || status == 2"> <el-checkbox v-for="(item, index) in segmentLayerList" :key=item.label :label=item.label>{{item.name}}</el-checkbox> </el-checkbox-group> </el-form-item> </div> <div class="category inputLine half1" check=empty title=科室类别 redlabel=last> <label class=redstar>*</label> <span class=last>科室类别：</span> <div class=department data-id=1> <i class=radio-box></i> <span>放射科</span> </div> <div class=department data-id=2> <i class=radio-box></i> <span>病理科</span> </div> <div class=department data-id=0> <i class=radio-box></i> <span>其它</span> </div> <div class=department data-id=3> <i class=radio-box></i> <span>测试</span> </div> <div class=department data-id=4> <i class=radio-box></i> <span>数据库</span> </div> </div> <div class="inputLine half ml150 justToJudge" redlabel=xlk> <span>项目群组：</span> <div class=groupId check=empty></div> </div> </el-form> <div class=discurdarea> <a class="biaozhubtn discardreason">添加废片原因</a> <a class="viewreason hide">查看废片原因</a> </div> <span class=yxtitle>影像标注设置</span> <div class=multi> <ul class=multiitem></ul> <div> <anno-item-list ref=annoListForm :data=imageAnnotationListInitData @add-anno=handleShowAddAnnoModal @show-anno=handleShowDetailAnnoModal :anno-disabled=annoDisabled></anno-item-list> </div> <div class=biaozhubtns-ops> <a class="biaozhubtn alldata">添加整体病症标注组件</a> <a class="biaozhubtn showalldata hide">查看已添加整体病症标注组件</a> <a class="biaozhubtn export">导出标注组件</a> </div> </div> </div> </div> '},301:function(e,t,n){"use strict";var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.modality={},n.ytjcomplist={},n.componentdata={},n.apiData={modality:"",seriesList:[],annotationItemList:[],imageAnnotationList:[],cacheNumber:"",discurdIdList:[],studyAnno:!1,category:0,yayAttributes:2},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.modelBase),t}();e.exports=i},706:function(e,t,n){"use strict";var i="/formComponent/search",a="/formComponent/read",o="/formComponent/create",s="/formComponent/update",l="/tag/search",r="/tag/create",d="/formComponent/clone",c="/ops/formComponent/correction",p={querylist:function(e){return this.HttpRequest.POST(i,e)},getdetails:function(e){return this.HttpRequest.POST(a,e)},create:function(e){return this.HttpRequest.POST(o,e)},update:function(e){return this.HttpRequest.POST(s,e)},searchlabel:function(e){return this.HttpRequest.POST(l,e)},createlabel:function(e){return this.HttpRequest.POST(r,e)},formComponent_clone:function(e){return this.HttpRequest.POST(d,e)},formComponent_correction:function(e){return this.HttpRequest.POST(c,e)}};e.exports=p},919:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(988);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(990),s.name="dropDown",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),i(t,[{key:"complete",value:function(){this.dom.find(".drop-down").addClass(this.nowParam.className);var e=ES.selctorDoc(window).box().clientWidth,t=ES.selctorDoc(window).box().clientHeight;this.dom.find(".mask").css({width:e,height:t,left:0,top:0}),this.datatype=this.nowParam.datatype?this.nowParam.datatype:"obj",this.input=void 0!=this.nowParam.input&&this.nowParam.input,this.maxshownum=void 0==this.nowParam.maxshownum?10:this.nowParam.maxshownum,this.render()}},{key:"render",value:function(e){e||(e=this.nowParam);this.firstSelect=e.firstSelect?e.firstSelect:e.data[0],this.dom.find(".selected1 input").attr("data-idx",this.firstSelect.idx),this.dom.find(".selected1 input").attr("placeholder",this.firstSelect.val),this.renderHtml(e.data),this.bindEvent(),this.event._dispatch("dropDown.done")}},{key:"renderHtml",value:function(e){var t=this;t.data=e;var n="";if("obj"==this.datatype)for(var i=0;i<e.length;i++)t.firstSelect==e[i]?n+='<li class="option select" title="'+e[i].val+'" data-idx='+e[i].idx+" props="+(e[i].props?e[i].props:"")+">"+e[i].val+"</li>":n+='<li class="option" title="'+e[i].val+'" data-idx='+e[i].idx+" props="+(e[i].props?e[i].props:"")+">"+e[i].val+"</li>";else for(var a=0;a<e.length;a++)t.firstSelect==e[a]?n+='<li class="option select" title="'+e[a]+'" data-idx='+e[a]+">"+e[a]+"</li>":n+='<li class="option" title="'+e[a]+'" data-idx='+e[a]+">"+e[a]+"</li>";this.dom.find("._dropdown1 .selectbox").html(n),this.dom.find(".option").on("click",function(){t.dom.find(".option").removeClass("select"),ES.selctorDoc(this).addClass("select"),t.dom.find(".selected1 input").val(ES.selctorDoc(this).html()),t.dom.find(".selected1 input").attr("data-idx",ES.selctorDoc(this).attr("data-idx")),t.dom.find(".selected1 input").attr("props",ES.selctorDoc(this).attr("props")),t.dom.find("._dropdown1").hide(),t.dom.find(".icon").removeClass("drop"),t.event._dispatch("option.click",{val:t.dom.find(".selected1 input").val(),idx:t.dom.find(".selected1 input").attr("data-idx"),props:t.dom.find(".selected1 input").attr("props")})}),t.initscrollmenu()}},{key:"bindEvent",value:function(){var e=this;this.dom.find(".selected1").on("click",function(t){if(t.stopPropagation(),e.dom.find(".selected1 .drop_disabled").dom)return!1;var n=ES.selctorDoc(this);n.find(".icon").addClass("drop"),n.parent().find("._dropdown1").show();var i=e.dom.find(".option").dom;i&&i.length>e.maxshownum&&(e.dom.find(".scroll").css({height:e.dom.find(".drop-down").box().clientHeight*e.maxshownum}),e.dom.find(".scroll").css({overflow:"hidden"}),e.initscrollmenu()),e.dom.find(".mask").show()}),this.dom.find(".selected1").on("mouseover",function(){ES.selctorDoc(this).find("input").attr("data-idx")&&(ES.selctorDoc(this).find(".icon-shanchutishiicon").show(),ES.selctorDoc(this).find(".icon").hide())}),this.dom.find(".selected1").on("mouseout",function(){ES.selctorDoc(this).find(".icon-shanchutishiicon").hide(),ES.selctorDoc(this).find(".icon").show()}),this.dom.find(".selected1 .icon-shanchutishiicon").on("click",function(t){t.stopPropagation(),ES.selctorDoc(this).parent().find(".nowname").attr("placeholder",e.firstSelect.val),ES.selctorDoc(this).parent().find(".nowname").val(""),ES.selctorDoc(this).parent().find(".nowname").attr("data-idx",e.firstSelect.idx),e.dom.find(".select").removeClass("select"),e.event._dispatch("dropDown.clear")}),this.dom.find("._dropdown1 .mask").on("click",function(){ES.selctorDoc(this).parent().hide(),e.dom.find(".icon").removeClass("drop"),e.dom.find(".loading_xlk").addClass("drop")}),e.input?(this.dom.find(".nowname").on("input",function(){e.event._dispatch("drop.input",{data:ES.selctorDoc(this).val(),classname:ES.selctorDoc(this).parent().parent().parent().attr("class")})}),this.dom.find(".nowname").on("focus",function(){e.dom.find(".nowname").attr("placeholder","")}),this.dom.find(".nowname").on("blur",function(){e.dom.find(".nowname").attr("placeholder",e.nowParam.firstSelect.val)})):e.dom.find(".nowname").attr("readonly","readonly")}},{key:"reset",value:function(e){this.dom.find(".selected1 input").attr("placeholder",this.nowParam.firstSelect.val),this.dom.find(".selected1 input").val(""),this.dom.find(".selected1 input").attr("data-idx",this.nowParam.firstSelect.idx),this.dom.find(".select").removeClass("select"),this.dom.find("._dropdown1 .selectbox .option").eq(0).addClass("select"),e||this.event._dispatch("option.click",{val:this.dom.find(".selected1 input").val(),idx:this.dom.find(".selected1 input").attr("data-idx")})}},{key:"setChoose",value:function(e){this.data.forEach(function(t,n){t.idx==e&&(this.dom.find(".selected1 input").attr("data-idx",t.idx),this.dom.find(".selected1 input").attr("placeholder",t.val))})}},{key:"disable",value:function(){this.dom.find(".selected1").off("mouseover"),this.dom.find(".nowname").addClass("drop_disabled"),this.dom.find(".nowname").attr("readonly","readonly"),this.dom.find(".drop-down").addClass("drop_disabled")}},{key:"able",value:function(){this.dom.find(".nowname").removeClass("drop_disabled"),this.dom.find(".drop-down").removeClass("drop_disabled")}},{key:"loading",value:function(e){e?(this.dom.find(".selectbox").html(""),this.dom.find(".loading_xlk").removeClass("hide")):this.dom.find(".loading_xlk").addClass("hide")}},{key:"initscrollmenu",value:function(){if(this.myScroll1)this.myScroll1.refresh();else{var e="aaa_"+Math.floor((new Date).getTime()*Math.random());this.dom.find(".scroll").attr("id",e),this.myScroll1=new IScroll("#"+e,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,hideScrollbar:!1,vScrollbar:!0,shrinkScrollbars:"scale",fadeScrollbars:!1,disableMouse:!0,disablePointer:!0})}}}]),t}();e.exports=a},921:function(e,t,n){"use strict";t.a=function(e,t,n,i,a,o,s,l){var r,d="function"==typeof e?e.options:e;t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0);i&&(d.functional=!0);o&&(d._scopeId="data-v-"+o);s?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=r):a&&(r=l?function(){a.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:a);if(r)if(d.functional){d._injectStyles=r;var c=d.render;d.render=function(e,t){return r.call(t),c(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,r):[r]}return{exports:e,options:d}}},930:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1154);var a=function(e){function t(e,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,o));return s.html=n(1156),s.name="table",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Interstellar.moduleBase),i(t,[{key:"complete",value:function(){var e=n(1001),t=n(1023),i=n(1024),a=this;this.icon="",this.chose="";a.nowParam.id;this.icon=a.nowParam.header.icon,this.chose=a.nowParam.header.chose,this.chosew=a.nowParam.header.chosew,this.type=a.nowParam.header.type,this.tablewidth=a.nowParam.header.tablewidth,this.minwidth=void 0==a.nowParam.header.minwidth?this.tablewidth:this.nowParam.header.minwidth,this.initPagina=void 0==a.nowParam.header.initPagina||this.nowParam.initPagina,this.pagesizeSet=void 0==a.nowParam.header.pagesizeSet||this.nowParam.pagesizeSet,this.onofftype=a.nowParam.header.onofftype,this.iconArr=a.nowParam.iconArr;void 0==a.nowParam.title||a.nowParam.title;this.flag=void 0==this.nowParam.flag||this.nowParam.flag;var o=this.app.loadModule(e,a.dom.find(".list"),{icon:a.icon,chose:a.chose,type:a.type,iconArr:a.iconArr,chosew:a.chosew,tablewidth:a.tablewidth,minwidth:a.minwidth,onofftype:a.onofftype});if(this.tableList=o,1==this.initPagina){var s=a.app.loadModule(t,a.dom.find(".pagination"),{total:1,flag:a.flag});this.pagina=s,s.event._addEvent("pagination.changePage",function(e){a.event._dispatch("table.pagenumber",parseInt(e))})}if(1==this.pagesizeSet){var l=this.app.loadModule(i,a.dom.find(".pageset"),{});this.pageset=l,a.pageset.event._addEvent("pagesizeset.change",function(e){a.event._dispatch("table.pagesize",{num:e.num})})}this.resize(),o.event._addEvent("list.edit",function(e){a.event._dispatch("table.edit",e)}),o.event._addEvent("list.action",function(e){a.event._dispatch("table.action",e)}),o.event._addEvent("list.check",function(e){a.event._dispatch("table.check",e)}),o.event._addEvent("list.allcheck",function(e){a.event._dispatch("table.allcheck",e)}),o.event._addEvent("list.open",function(e){a.event._dispatch("table.open",e)}),o.event._addEvent("list.log",function(e){a.event._dispatch("table.log",e)}),o.event._addEvent("list.report",function(e){a.event._dispatch("table.report",e)}),o.event._addEvent("list.change",function(e){a.event._dispatch("table.change",e)}),o.event._addEvent("list.config",function(e){a.event._dispatch("table.config",e)}),o.event._addEvent("list.ul",function(e){a.event._dispatch("table.ul",e)}),o.event._addEvent("list.done",function(e){a.event._dispatch("table.done",e)}),o.event._addEvent("list.check",function(e){a.event._dispatch("table.check",e)}),o.event._addEvent("list.apply",function(e){a.event._dispatch("table.apply",e)}),o.event._addEvent("list.urge",function(e){a.event._dispatch("table.urge",e)}),o.event._addEvent("list.shanchu",function(e){a.event._dispatch("table.shanchu",e)}),o.event._addEvent("list.bianji",function(e){a.event._dispatch("table.bianji",e)}),o.event._addEvent("list.view",function(e){a.event._dispatch("table.view",e)}),o.event._addEvent("list.xiugaimima",function(e){a.event._dispatch("table.xiugaimima",e)}),o.event._addEvent("list.onoff",function(e){a.event._dispatch("table.onoff",e)}),o.event._addEvent("list.recharge",function(e){a.event._dispatch("table.recharge",e)}),o.event._addEvent("list.down",function(e){a.event._dispatch("table.down",e)}),o.event._addEvent("list.ul",function(e){a.event._dispatch("table.ul",e)}),o.event._addEvent("list.listlink",function(e){a.event._dispatch("table.listlink",e)})}},{key:"setData",value:function(e){this.dom.find(".scrolltable").removeClass("hide"),this.dom.find(".nodata").removeClass("hide"),this.dom.find(".dataNone").addClass("hide"),this.tableList.setData(e)}},{key:"insertLine",value:function(e){this.tableList.insertLine(e)}},{key:"noData",value:function(e){this.dom.find(".nodata").addClass("hide"),this.dom.find(".scrolltable").addClass("hide"),this.dom.find(".dataNone").removeClass("hide"),e&&this.dom.find(".dataNone").html(e)}},{key:"showDis",value:function(){this.pagina.showDis()}},{key:"resetAll",value:function(){this.pagina.resetAll()}},{key:"changenum",value:function(e,t){this.pageset.setnowpage(e,t),this.pagina.changePage(e)}},{key:"getTotal",value:function(e,t,n){this.pagina&&this.pagina.getTotal(e,t),this.pageset&&this.pageset.getTotal(e,n)}},{key:"getChoose",value:function(){return this.tableList.getChoose()}},{key:"resetAll1",value:function(){this.pagina.resetAll1()}},{key:"refreshHeader",value:function(e){this.tableList.refreshHeader(e)}},{key:"showloading",value:function(e){this.tableList.showloading(e)}},{key:"resize",value:function(e){this.dom.find(".maintable").css({width:this.tablewidth+40}),this.dom.find(".maintable").parent().css({width:this.tablewidth+40})}}]),t}();e.exports=a},988:function(e,t,n){var i=n(989);"string"==typeof i&&(i=[[e.i,i,""]]);var a={transform:void 0};n(705)(i,a);i.locals&&(e.exports=i.locals)},989:function(e,t,n){(e.exports=n(704)(!1)).push([e.i,'@charset "UTF-8";\n.ctdrop {\n  background: none;\n  border: 1px solid #d2effc;\n  width: 90px;\n  color: #d2effc;\n  min-width: 90px;\n  font-size: 12px;\n  border-radius: 4px;\n  line-height: 25px;\n}\n.ctdrop .selected1 {\n  margin-left: 10px;\n  border: 0;\n}\n.ctdrop .selected1 input {\n  display: inline-block;\n  color: #d2effc;\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n}\n.ctdrop .selected1 .icon-icon-test3 {\n  color: #d2effc;\n  font-size: 0.5rem;\n  margin-right: 1px;\n}\n.ctdrop .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.xlk,\n.kxlk {\n  background: #fff;\n  width: 90px;\n  color: #333;\n  font-size: 12px;\n  position: relative;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n.xlk .selected1 .nowname,\n.kxlk .selected1 .nowname {\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  border: none;\n  background: #fff;\n  height: 100%;\n  width: 88%;\n  margin-left: 10px;\n}\n.xlk .selected1 img,\n.kxlk .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.xlk .selected1 .drop_disabled,\n.kxlk .selected1 .drop_disabled {\n  background: #e8e8e8;\n  cursor: not-allowed !important;\n}\n.listxlk {\n  background: #fff;\n  width: 90%;\n  height: 38px;\n  color: #333;\n  font-size: 12px;\n  position: relative;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n}\n.listxlk .selected1 input {\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  border: none;\n  background: #fff;\n  height: 100%;\n  width: unset;\n  margin-left: 10px;\n}\n.listxlk .selected1 img {\n  position: absolute;\n  right: 5px;\n  top: 10px;\n}\n.listxlk .selectbox {\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n}\n.listxlk .selectbox .option {\n  height: 30px;\n  line-height: 30px;\n}\n.listxlk .selectbox .scroll {\n  overflow: hidden;\n  position: relative;\n}\n.selected1 {\n  text-align: left;\n  line-height: inherit;\n  font-family: "Microsoft YaHei";\n  font-size: inherit;\n  color: #333;\n  position: relative;\n  cursor: pointer;\n}\n.selected1 .nowname {\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  color: #333;\n  display: inline-block;\n  cursor: pointer;\n  background: #fff;\n  width: 100%;\n  height: 100%;\n}\n.selected1 .icon {\n  transform: rotate(-180deg);\n  vertical-align: middle;\n  transition: all 0.3s;\n  display: inline-block;\n  font-size: 12px;\n  position: absolute;\n  top: 0;\n  right: 5px;\n}\n.selected1 .drop {\n  transform: rotate(0deg);\n}\n.selected1 .icon-shanchutishiicon {\n  position: absolute;\n  font-size: 12px;\n  color: #C0C4CC;\n  width: 12px;\n  top: 0;\n  right: 5px;\n}\n.selected1 .drop_disabled {\n  background: #e8e8e8;\n  cursor: not-allowed !important;\n}\n._dropdown1 {\n  position: absolute;\n  display: none;\n  width: 100%;\n}\n._dropdown1 ul {\n  list-style: none;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 4px;\n  overflow: hidden;\n  background: #fff;\n  font-family: "Microsoft YaHei";\n  font-size: inherit;\n  z-index: 9999;\n  color: #333;\n  border: 1px solid #e8e8e8;\n}\n._dropdown1 li {\n  margin: 0 5px;\n  min-height: 24px;\n  text-align: left;\n  cursor: pointer;\n  white-space: nowrap;\n  overflow: hidden;\n}\n._dropdown1 li:hover {\n  color: #448e97;\n  background: #ecf3f4;\n}\n._dropdown1 li.select {\n  color: #333333;\n  background: #ecf3f4;\n}\n._dropdown1 .mask {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9;\n}\n._dropdown1 .scroll {\n  position: relative;\n}\n.drop-down .selectbox {\n  min-height: 50px;\n}\n.drop-down .loading_xlk {\n  background: url(/images/loading1.gif) no-repeat 35px -28px;\n  height: 50px;\n  width: 100%;\n  top: 33px;\n  z-index: 2000;\n  position: absolute;\n}\n.drop_disabled .selected1 {\n  background: #e8e8e8;\n}\n.keepwhite {\n  background: #fff !important;\n}\n.keepwhite .selected1 {\n  background: #fff !important;\n}\n',""])},990:function(e,t){e.exports='<div class=drop-down> <div class=selected1> <input class=nowname type=text /> <i class="iconfont icon-shanchutishiicon" style=display:none></i> <i class="iconfont icon-icon-test3 icon"></i> </div> <div class=_dropdown1> <div class=scroll> <ul class=selectbox> </ul> </div> <div class=mask></div> </div> <div class="loading_xlk hide"></div> </div>'}});